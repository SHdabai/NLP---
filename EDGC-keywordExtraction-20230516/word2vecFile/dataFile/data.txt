

招标文件



项目名称：装备保障智能管理支撑系统 
项目编号：                     



招标人：信息工程大学服务保障中心物资集中采购室

二〇二三年二月

特别提示：投标注意事项

投标人应特别留意招标文件上载明的投标开始截止时间，提前或逾期送达（含邮寄送达）的投标文件概不接受。
投标人须交纳投标保证金，保证金应在投标截止时间前以投标人基本账户转账的形式交纳。未按规定交纳投标保证金的，投标无效。
请仔细检查招标文件要求提交的相关证书的有效期和审核信息。
请仔细检查投标文件是否按要求盖单位公章、签名、签署日期、胶装成册、密封。投标文件需签名之处必须由当事人签署。
请仔细检查投标文件中“法定代表人授权书”是否由法定代表人签字或盖章。
带★号条款均为实质性响应指标要求，必须全部响应。若有一项带“★”条款未响应或不满足，均视为非实质性响应招标文件，按无效投标处理。
《价格文件》一式三份，单独装订，胶装成册、标注页码，密封包装，在封面标明“价格文件”“开标时启封”字样，注明“投标人名称”“项目名称”“项目编号”“包号”等信息，投标时单独递交。投标人如未按上述要求单独递交《价格文件》，其投标有可能被拒绝。
投标文件中除《价格文件》外，其他部分不得有任何涉及本次投标报价的信息，否则视为无效投标。
供应商发现申领招标文件时提交的相关资料被盗用或复制，应遵循法律途径解决，追究侵权者责任。

附件3
货物材料、部件、工具价格明细表
项目名称：装备保障智能管理支撑系统   项目编号：       包号：（没有包号，是否需要填写）
序号	项目	规格
型号	执行
标准	计量单位	定额/消耗数量	单价
(元)	金额
(元)	产地或生产企业
								
一	直接材料费							
1								
2								
	……							
二	外购成件费							
								
								
	……							
三	备件工具费							
	……							
	合计							
说明：以一套货物的所用材料为基本单位，项目填列直接材料明细。


投标人全称：（写明全称并盖章）

              法定代表人（或授权代表）：（签字）   

                           年   月  日

附件5
货物简要说明一览表
项目名称：装备保障智能管理支撑系统 项目编号：      包号：（没有包号，是否需要填写）
序号	主要部件名称	计量单位	数量	性能用途说明	备注
1	装备保障智能管理支撑系统	套	1	该系统主要包括基于Bi-LSTM的命名实体识别和实体提取系统、基于联合神经抽取模型的知识图谱系统、基于问题模板的智能问答系统、基于NLP的装备技术保障知识库、基于数据清洗的装备应急处置案例库、基于深度学习算法的保障决策模型构建系统、装备技术保障决策支持系统、知识图谱管理展示系统、知识图谱检索系统、数据采集系统、装备应急处置数据输入系统等相关设备、系统和软件组成，通过集成密码装备技术保障全过程、全方位业务和信息流，为装备技术保障人员提供实时、完整、准确的信息，为装备技术保障决策和有效实施提供服务。	



投标人全称：（写明全称并盖章）

              法定代表人（或授权代表）：（签字）
   
                           年   月  日
附件6
主要技术性能参数表
项目名称：装备保障智能管理支撑系统  项目编号：  包号：（没有包号，是否需要填写）
序号	物资名称	技术参数	执行标准
1	基于Bi-LSTM的命名实体识别和实体提取系统	功能指标响应：
基于系统中的Bi-LSTM算法对文档内容进行对应实体特征的提取学习功能；
基于系统中的CRF算法对文档内容进行学习标记生成功能；
基于系统中的邻域聚合算法对文档内容进行实体、关系的三元组生成功能；
基于系统中的额外约束的Bi-LSTM算法对文档内容进行实体特征和三元组的偏差限制功能；
基于系统中的负抽样策略对文档内容进行基于排序的实体间关系提取功能。
性能指标响应：
装备使用手册中文本信息处理数≥40款；
所有分词库内的实体总数≥10000条；
系统对文本的分词速率速率≤5秒/实体；
系统生成三元组的速率≤10/条。	内部标准
2	基于联合神经抽取模型的知识图谱构建系统	功能指标响应：
基于系统中的联合神经抽取模型对文档内容进行实体抽取功能；
基于系统中的联合神经抽取模型对文档内容进行实体消岐功能，消除有歧义的实体；
基于系统中的联合神经抽取模型对文档内容进行指代消解的功能；
基于系统中的联合神经抽取模型对文档内容进行知识推理的功能，完成知识合并；
基于系统中的知识图谱工具对多个知识图谱进行融合，并对融合后的图谱进行质量评估功能；
基于系统中的开放世界假设和逻辑聚合模型实现知识图谱补全功能，通过前面操作对文档中的知识进行整合，补全图谱；
基于系统中的知识对齐和传递关系嵌入的方法实现多个知识图谱间的知识关联功能。
性能指标响应：
系统对文档中实体抽取的速率≤3秒/条；
系统对文档中实体消岐的速率≤6秒/条；
系统进行知识图谱补全的速率≤10秒/条；
2个10G，85W，2。2GHZ的Inte Xeon 4210 处理器；
2个32GB 的DDR4 内存；
2个3。5“ 4TB 7。2K 的SATA硬盘；
2个NIC_1Gbps_的RJ45接口；
2个NIC_1Gbps_的LC5接口；
2个 550W 220V 50Hz的供电电源；
支持2080 Ti GPU接入数≥1个。	内部标准
3	基于问题模板的智能问答系统	功能指标响应：
系统构建出常用的问句语料库基于已实现的分词的问句语料库构建功能；
基于系统中的NER技术对文档进行分类器构建和问句预处理功能；
系统构建出常用的问题查询模板基于已实现的词性实体类型和问题类型的问题模板和查询模板构建功能；
系统对用户的问题进行初步分析检索生成答案候选集基于已实现的问题模板和查询模板的问句初步检索和答案候选集生成功能；
系统对生成答案的候选集进行排序基于问句和答案余弦相似度的答案排序功能；
系统生成最终最为匹配的答案基于实体和问题类型的最终答案生成功能。
性能指标响应：
系统中所有问句语料库的总数据≥300条；
系统对问句的分类速率≤3秒/实体；
系统中所有问题模板总数据≥50条；
系统对内容的初步检索速率≤6秒/实体；
系统对生成的答案排序速率≤3秒/实体；	内部标准
4	基于NLP的装备技术保障知识库	功能指标响应：
基于系统中的NLP技术实现对装备资料内容进行文本解析和上下文分析功能；
系统对文档内容进行知识拆分和元素分解基于已实现的装备技术保障知识拆分和元素分解功能；
基于系统中的邻域聚合技术实现知识关联重组功能；
系统实现知识图谱中实体、关系和图谱结构的动态展示功能；
基于Python语言开发；
系统支持本地一键部署功能；
系统同时支持离线或在线使用；
系统基于Neo4J知识图谱进行知识数据存储。
性能指标响应：
系统中所有技术保障知识图谱的总实体数≥1000条；
系统中所有技术保障知识图谱的关系总数≥2000条。 	内部标准
5	基于数据清洗的装备应急处置案例库	功能指标响应：
基于系统中的NLP技术对文本进行分词和实体识别实现装备技术应急处置案例数据分析功能；
系统对文本中的关键信息进行识别与提取基于已实现的特征筛选技术的关键信息提取功能；
系统根据文档资料生成应急处置案例库基于已实现的逻辑规则约束和信息关联技术的案例库构建功能；
系统根据用户输入的情况描述内容生成应急情况解决方案基于已实现的综合信息的应急处置情况生成功能；
系统根据用户对应急情况的整个处理过程生成应急处置案例基于已实现的智能算法的应急处置案例智能生成功能；
性能指标响应；
系统应急处置案例关键信息分析速率≤5秒/要素；
系统中所有应急处置案例存储总数≥20份；
系统应急处置背景生成速率≤3秒/要素；
系统应急处置案例生成速率≤5秒/要素/关键信息。	内部标准
6	基于深度学习算法的保障决策模型构建系统	功能指标响应：
系统基于RNN算法实现装备故障判断与定位模型构建功能：
系统生成故障判断模型基于故障判断模型构建功能；
系统生成故障定位模型基于故障定位模型构建功能；
系统生成故障分析模型基于故障分析模型构建功能；
系统基于MLP算法实现装备运维修理辅助模型构建功能：
系统生成系统构建辅助模型基于系统构建辅助模型构建功能；
系统生成参数配置推荐模型基于参数配置推荐模型构建功能；
系统生成故障检测辅助模型基于系统故障检测辅助模型构建功能；
系统生成维修方案推荐模型基于系统维修方案推荐模型构建功能；
系统生成维修效果检测模型基于系统维修效果检测模型构建功能。
系统基于SAE算法实现应急处置辅助决策模型构建功能：
系统生成安全威胁评估模型基于系统安全威胁评估模型构建功能；
系统处置方案拟制模型基于系统处置方案拟制模型构建功能；
系统生成应急处置辅助决策模型基于系统应急处置辅助决策模型构建功能；
系统生成处置效果评估模型基于系统处置效果评估模型构建功能。
性能指标响应；
系统通过采集数据进行故障判断与定位准确率≥80%；
系统装备运维修理辅助结果准确率≥80%；
系统应急处置辅助决策结果准确率≥80%。	内部标准
7	装备技术保障决策支持系统	功能指标响应：
系统对用户输入的问题进行分析处理提取实体基于已实现的针对装备技术保障问题的处理、问题模型构建和数据特征抽取功能；
系统为系统构建提供支持基于机器学习模型实现系统构建支持功能；
系统为系统操作使用提供支持基于机器学习模型的装备原理实验系统操作使用支持功能；
系统为装备操作使用提供支持基于机器学习模型的装备操作使用支持功能；
系统为装备故障分析提供支持基于机器学习模型的装备故障分析支持功能；
系统为装备模训系统故障分析提供支持基于机器学习模型的装备模训系统故障分析支持功能；
系统为装备维护修理提供支持基于机器学习模型的装备维护修理支持功能；
系统为装备应急处置决策提供支持基于机器学习模型的装备应急处置决策支持功能；
系统为装备安全评估提供支持基于机器学习模型的装备安全评估支持功能。
性能指标响应；
系统对文本数据特征抽取速率≤3秒/实体；
系统的系统构建决策支持分析速率≤3秒/实体；
系统的操作使用决策支持分析速率≤3秒/实体；
系统的装备故障分析速率≤3秒/实体；
系统的装备维护修理决策支持分析速率≤5秒/实体；
系统的装备应急处置决策支持分析速率≤8秒/实体；
系统的装备安全评估决策支持分析速率≤8秒/实体。	内部标准
8	知识图谱管理展示系统	系统知识图谱数据存储使用Neo4J知识图谱库；
系统具备直接与知识图谱库数据源数据连接功能；
系统具备将图谱数据导出成json数据文件，同时支持将json数据文件导入成知识图谱数据功能；
系统具备对知识图谱中的实体、关系进行管理功能；
系统具备消除重复的实体和实体关系对其去重功能；
系统具备知识图谱的多种动态展示形式切换功能。
系统具备实体与实体及关系的可视化查看功能；
系统具备动态隐藏和显示实体关系功能；
系统具备动态拖拽实体和关系功能；
系统具备一网络图的形式展示实体、关系的功能；
系统具备根据用户需要分层级对知识进行探索展示功能；
系统用户需求检索出关键实体并展示的功能。	内部标准
9	知识图谱检索系统	系统具备根据用户输入的关键词检索出实体并展示的功能；
系统具备通过单个实体名称检索出实体并展示的功能；
系统具备通过实体与副实体名称的关系检索出相关实体与关系并展示的功能；
系统具备通过多个实体名称进行知识检索并展示的功能。	内部标准
10	装备数据采集功能系统	系统具备模拟采集所需的典型装备状态数据的功能；
系统具备模拟采集所需的典型装备接口数据的功能；
系统具备模拟采集所需的典型装备异常数据的功能；
系统具备模拟传输所需的典型装备数据上传到其他系统的功能；
系统具备模拟存储所采集到的典型装备数据的功能；
系统具备模拟初步分析处理所采集到的典型装备数据的功能；
系统具备采集所需的装备原理实验系统数据的功能；
系统具备采集所需的装备模训系统数据的功能。	内部标准
11	装备应急处置数据输入系统	系统具备接收用户对于应急情况描述的输入功能；
系统具备对用户对于应急情况描述的输入内容进行要素分解分析功能；
系统具备接收用户对于装备状态描述的输入功能；
系统具备对用户对于装备状态描述的输入内容进行要素分解分析功能；
系统具备接收用户对于现场处置描述的输入功能；
系统具备接收用户对于应急处置描述的输入功能；
系统具备接收用户对于后续处置描述的输入功能；
系统具备修订管理处置方案的功能，支持在线以word文档的形式查看、编辑修改，同时支持上传，下载，删除等功能。	内部标准


投标人全称：（写明全称并盖章）

              法定代表人（或授权代表）：（签字）
   
                           年   月  日
附件7
技术指标参数响应偏离表
项目名称：装备保障智能管理支撑系统 项目编号：   包号：（没有包号，是否需要填写）
序号	货物/部件名称	技术指标参数
要求	技术指标参数
响应	偏离	备注
1	基于Bi-LSTM的命名实体识别和实体提取系统	功能指标要求：
具备基于Bi-LSTM算法的实体特征学习功能；
具备基于CRF算法的标记生成功能；
具备基于邻域聚合算法的三元组生成功能；
具备基于额外约束的Bi-LSTM算法偏差限制功能；
具备基于负抽样策略实现基于排序的关系提取功能。
性能指标要求：
装备文本信息处理数≥40款；
分词库内实体数≥10000条；
分词速率≤5秒/实体；
三元组生成速率≤10/条。	功能指标响应：
基于系统中的预训练模型bert后接Bi-LSTM算法对文档内对应模式层实体特征的提取学习功能；
基于系统中的预训练模型bert后接CRF算法对输出结果进行约束，实现标记生成功能；
基于系统中的邻域聚合算法对文档内容进行实体抽取，以实体为基础抓取关系；
基于系统中的额外约束的Bi-LSTM算法对预训练模型对文档内容抽取的实体特征和三元组进行偏差限制；
基于系统中的负抽样策略进行模型结构调整以达到对文档内容中的关系提取功能。
性能指标响应：
手册文本信息处理不大于40条；
分词词库不低于10000条；
文本处理速度不低于7条每秒；
知识抽取速率不低于10条每秒。	无偏离	
2	基于联合神经抽取模型的知识图谱构建系统	功能指标要求：
具备基于联合神经抽取模型的实体抽取功能；
具备基于联合神经抽取模型的实体消岐功能；
具备基于联合神经抽取模型的指代消解功能；
具备基于联合神经抽取模型的知识推理功能；
具备基于知识图谱工具的知识融合与图谱质量评估功能；
具备基于开放世界假设和逻辑聚合模型的知识图谱补全功能；
具备基于知识对齐和传递关系嵌入的知识图谱关联功能。
性能指标要求：
实体抽取速率≤3秒/条；
实体消岐速率≤6秒/条；
图谱补全速率≤10秒/条；
Inte Xeon 4210 处理器（10G，85W，2。2GHZ）2个；
32GB DDR4 内存 2个；
3。5“ 4TB 7。2K SATA的硬盘 2个；
NIC_1Gbps_RJ45接口2个；
NIC_1Gbps_LC5接口2个；
550W电源 2个；
支持2080Ti GPU接入数≥1个。	功能指标响应：
基于系统中的基于预训练模型后接网络层的联合神经抽取模型对非结构化文档内容进行实体抽取；
基于系统中的预训练模型后接网络层的联合神经抽取模型对文档内容进行实体抽取并进行实体消岐；
基于系统中的预训练模型后接循环神经网络的联合神经抽取模型对非结构化文档内容进行指代消解；
基于系统中预训练模型后接循环神经网络的联合神经抽取模型依据非结构化文档内容进行知识推理的功能，并进行知识合并；
基于系统中的图数据库进行多个知识图谱进行融合，并对融合后的图谱进行质量评估功能；
基于系统中的开放世界假设和逻辑聚合模型实现对已构建的知识图谱实体内容进行补全操作；
基于系统中的知识对齐和传递关系嵌入的方法实现多个知识图谱间的知识进行关联达到融合效果。
性能指标响应：
实体抽取速率不低于5条每秒；
对实体的消岐速率不低于2条每秒；
图谱知识补全速率不低于3条每秒；
2个Inte Xeon 4210 处理器（10G，85W，2。2GHZ）；
2个32GB DDR4 内存 ；
2个3。5“ 4TB 7。2K SATA的硬盘 ；
2个NIC_1Gbps_RJ45接口；
2个NIC_1Gbps_LC5接口；
2个需求550W电源 ；
支持3090 Ti GPU接入数不低于1个。	无偏离	
3	基于问题模板的智能问答系统	功能指标要求：
具备基于分词的问句语料库构建功能；
具备基于NER技术的分类器构建与问句预处理功能；
具备基于词性实体类型和问题类型的问题模板和查询模板构建功能；
具备基于问题模板和查询模板的问句初步检索和答案候选集生成功能；
具备基于问句和答案余弦相似度的答案排序功能；
具备基于实体和问题类型的最终答案生成功能。
性能指标要求：
问句语料库数据≥300条；
问句分类速率≤3秒/实体；
问题模板数据≥50条；
初步检索速率≤6秒/实体；
答案排序速率≤3秒/实体；	功能指标响应：
基于大量使用领域常用问句语料进行词库构建；
基于系统中的NER技术对问句进行实体抓取并进行分类处理；
基于（2）中的结果进行模板匹配，查询数据库获取答案；
对（3）中获取的内容进行初步分析检索生成答案候选集基于已实现的问题模板和查询模板的问句初步检索和答案候选集生成功能；
系统对生成答案的候选集进行与问题类型进行相似度计算，并进行排序；
基于（5）中的排序结果获得最优结果答案。
性能指标响应：
语料库中的数据不低于100条；
模型分类速率不低于5条每秒；
问答模板不低于100条；
信息检索速率不低于10条每秒；
答案排序速率不低于3个实体每秒；	无偏离	
4	基于NLP的装备技术保障知识库	功能指标要求
具备基于NLP技术的装备资料文本解析和上下文分析功能；
具备装备技术保障知识拆分和元素分解功能；
具备基于邻域聚合技术的知识关联重组功能；
具备知识动态展示功能；
支持Python语言；
支持本地部署；
支持离线或在线使用；
使用Neo4J知识图谱进行存储。
性能指标要求
技术保障知识图谱实体数≥1000条；
技术保障知识图谱关系数≥2000条。 	功能指标响应：
基于系统中的NLP技术实现对装备资料内容进行非结构化文本内容解析；
系统对文档内容进行语义分析并进行内容类别归类；
基于系统中的预训练模型后接循环神经网络的邻域聚合技术实现知识关联重组功能；
系统实现知识图谱中实体、关系和图谱结构的动态展示功能；
脚本语言开发；
支持线下部署；
系统同时支持离线或在线使用；
使用图数据库Neo4J知识图谱进行知识存储。
性能指标响应：
系统中图谱包含实体总数不低于1000条；
系统中所有技术保障知识图谱的关系总数不低于2000条。 	无偏离	
5	基于数据清洗的装备应急处置案例库	功能指标要求：
具备基于NLP的装备技术应急处置案例数据分析功能；
具备基于特征筛选技术的关键信息提取功能；
具备基于逻辑规则约束和信息关联技术的案例库构建功能；
具备基于综合信息的应急处置情况生成功能；
具备基于智能算法的应急处置案例智能生成功能；
性能指标要求；
应急处置案例关键信息分析速率≤5秒/要素；
应急处置案例存储数≥20份；
应急处置背景生成速率≤3秒/要素；
应急处置案例生成速率≤10秒/要素/关键信息。	功能指标响应：
基于系统中的NLP的分类进行进行应急处置案例数据进行分析处理；
系统对文本中的关键字词提取技术进行关键信息提取；
系统根据（1）（2）中的处理结果进行关联处理进行案例库的构建；
系统根据用户的输入内容进行分析识别，确定问题类别依据案例库进行案例生成；
系统基于nlp中的文本生成技术进行模型自动生成案例；
性能指标响应；
系统应急处置案例信息分析速率不低于5条每秒；
系统中案例数量不低于25份；
应急处置方案生成速率不高于3条每秒；
系统应急处置案例生成速率不大于10条每秒。	无偏离	
6	基于深度学习算法的保障决策模型构建系统	功能指标要求：
具备基于RNN算法的装备故障判断与定位模型构建功能：
具备故障判断模型构建功能；
具备故障定位模型构建功能；
具备故障分析模型构建功能；
具备基于MLP算法的装备运维修理辅助模型构建功能：
具备系统构建辅助模型构建功能；
具备参数配置推荐模型构建功能；
具备故障检测辅助模型构建功能；
具备维修方案推荐模型构建功能；
具备维修效果检测模型构建功能；
具备基于SAE算法的应急处置辅助决策模型构建功能：
具备安全威胁评估模型构建功能；
具备处置方案拟制模型构建功能；
具备应急处置辅助决策模型构建功能；
具备处置效果评估模型构建功能。
性能指标要求；
装备故障判断与定位准确率≥80%；
装备运维修理辅助准确率≥80%；
应急处置辅助决策准确率≥80%。	功能指标响应：
系统基于RNN算法实现装备故障判断与定位模型构建功能：
系统生成故障判断模型基于故障判断模型构建功能；
系统基于深度技术进行故障定位；
系统基于深度技术进行型故障分析；
系统基于MLP算法实现装备运维修理辅助模型构建功能：
系统基于多层感知机技术实现系统结构系统描述；
系统基于多层感知机技术实现参数配置推荐；
系统基于多层感知机技术实现故障检测，区别故障类型；
系统基于系统维修方案推荐模型构建功能生成维修方案推荐模型；
系统基于系统维修效果检测模型构建功能生成维修效果检测模型。
系统基于SAE算法实现应急处置辅助决策模型构建功能：
系统基于系统安全威胁评估模型构建功能生成安全威胁评估模型；
系统基于系统处置方案拟制模型构建功能处置方案拟制模型；
系统基于系统应急处置辅助决策模型构建功能生成应急处置辅助决策模型；
系统基于系统处置效果评估模型构建功能生成处置效果评估模型。
性能指标响应；
系统通过采集数据进行故障判断与定位准确率≥85%；
系统装备运维修理辅助准确度不低于80%；
系统应急处置辅助决策结果准确度不低于80%。	无偏离	
7	装备技术保障决策支持系统	功能指标要求：
具备针对装备技术保障问题的处理，实现问题模型构建和数据特征抽取功能；
具备基于机器学习模型的系统构建支持功能；
具备基于机器学习模型的装备原理实验系统操作使用支持功能；
具备基于机器学习模型的装备操作使用支持功能；
具备基于机器学习模型的装备故障分析支持功能；
具备基于机器学习模型的装备模训系统故障分析支持功能；
具备基于机器学习模型的装备维护修理支持功能；
具备机器学习模型的装备应急处置决策支持功能；
具备基于机器学习模型的装备安全评估支持功能。
性能指标要求；
数据特征抽取速率≤3秒/实体；
系统构建决策支持分析速率≤3秒/实体；
装备操作使用决策支持分析速率≤5秒/实体；
装备故障分析速率≤3秒/实体；
装备维护修理决策支持分析速率≤5秒/实体；
装备应急处置决策支持分析速率≤8秒/实体；
装备安全评估决策支持分析速率≤8秒/实体。	功能指标响应：
系统基于深度技术进行数据特征提取，运用分类技术对保障问题进行分析；
系统基于机器学习模型实现系统构建支持功能；
系统基于机器学习模型的装备原理实验系统操作使用支持功能；
系统基于机器学习模型的装备操作使用支持功能；
系统基于机器学习模型的装备故障分析支持功能；
系统基于机器学习模型的装备模训系统故障分析支持功能；
系统基于机器学习模型的装备维护修理支持功能为装备维护修理提供支持；
系统基于机器学习模型的装备应急处置决策支持功能为装备应急处置决策提供支持；
系统基于机器学习模型的装备安全评估支持功能为装备安全评估提供支持。
性能指标响应；
实体抽取速率不低于3条每秒；
实体分析速率不低于3条每秒；
决策分析速率不低于3条每秒；
故障分析速率不低于5条每秒；
决策分析速率不低于5条每秒；
应急决策分析速率不低于8条每秒；
系统的装备安全评估决策支持分析速率不低于8条每秒。	无偏离	
8	知识图谱管理展示系统	具备基于Neo4J知识图谱使用；
具备数据源数据连接功能；
具备图谱数据的导入、导出功能；
具备实体、关系管理功能；
具备实体去重功能；
具备知识图谱动态展示功能。
具备实体关系可视化查看功能；
具备实体关系动态隐藏功能；
具备实体位置动态拖拽功能；
具备实体、关系网络图展示功能；
具备基于图的知识探索功能；
具备关键实体筛选功能。	系统知识图谱使用图数据库neo4j进行存储；
系统具备知识图谱库数据源数据连接功能；
系统具备将图谱数据导出成json数据文件，同时支持将json数据文件导入成知识图谱数据功能；
系统具备对知识图谱中的实体、关系进行管理功能；
系统具备消除重复的实体和实体关系对其去重功能；
系统具备知识图谱的多种动态展示形式切换功能。
系统具备实体与实体及关系的可视化查看功能；
系统具备动态隐藏和显示实体关系功能；
系统具备动态拖拽实体和关系功能；
系统具备一网络图的形式展示实体、关系的功能；
系统具备根据用户需要分层级对知识进行探索展示功能；
系统用户需求检索出关键实体并展示的功能。	无偏离	
9	知识图谱检索系统	具备通过关键词检索实体功能；
具备基于单个实体名称的知识检索功能；
具备基于实体与副实体名称的关系检索功能；
具备基于多个实体名称的知识检索功能。	系统具备根据用户输入的关键词检索出实体并展示的功能；
系统具备通过单个实体名称检索出实体并展示的功能；
系统具备通过实体与副实体名称的关系检索出相关实体与关系并展示的功能；
系统具备通过多个实体名称进行知识检索并展示的功能。	无偏离	
10	装备数据采集功能系统	模拟实现典型装备状态数据采集功能；
模拟实现典型装备接口数据采集功能；
模拟实现典型装备异常数据采集功能；
模拟实现典型装备数据传输功能；
模拟实现典型装备数据存储功能；
模拟实现典型装备数据初步处理功能；
具备装备原理实验系统数据采集功能；
具备装备模训系统数据采集功能。	系统具备模拟采集所需的典型装备状态数据的功能；
系统具备模拟采集所需的典型装备接口数据的功能；
系统具备模拟采集所需的典型装备异常数据的功能；
系统具备模拟传输所需的典型装备数据上传到其他系统的功能；
系统具备模拟存储所采集到的典型装备数据的功能；
系统具备模拟初步分析处理所采集到的典型装备数据的功能；
系统具备采集所需的装备原理实验系统数据的功能；
系统具备采集所需的装备模训系统数据的功能。	无偏离	
11	装备应急处置数据输入系统	具备应急情况输入功能；
具备应急情况要素分解功能；
具备装备状态输入功能；
具备装备状态要素分解功能；
具备现场处置输入功能；
具备应急处置输入功能；
具备后续处置输入功能。
支持处置方案修订管理。	系统具备接收用户对于应急情况描述的输入功能；
系统具备对用户对于应急情况描述的输入内容进行要素分解分析功能；
系统具备接收用户对于装备状态描述的输入功能；
系统具备对用户对于装备状态描述的输入内容进行要素分解分析功能；
系统具备接收用户对于现场处置描述的输入功能；
系统具备接收用户对于应急处置描述的输入功能；
系统具备接收用户对于后续处置描述的输入功能；
系统具备修订管理处置方案的功能，支持在线以word文档的形式查看、编辑修改，同时支持上传，下载，删除等功能。	无偏离	
说明：投标人应对照招标文件技术要求，逐条如实填写所投产品的具体指标参数，注明无偏离、正偏离或负偏离，并在备注中注明偏离的具体内容。技术指标参数响应栏如果原文复制招标文件技术要求，可能会被视为无效投标。



投标人全称：（写明全称并盖章）

              法定代表人（或授权代表）：（签字）
   
                           年   月  日


附件8
交货清单
项目名称：装备保障智能管理支撑系统 项目编号：   包号：（没有包号，是否需要填写）
序号	品名	品牌	规格型号	数量	单位	原产地
1	基于Bi-LSTM的命名实体识别和实体提取系统	按公司写	NSDSB-202366101	1	套	写公司所在地
2	基于联合神经抽取模型的知识图谱构建系统		NSDSB-202366102	1	套	
3	基于问题模板的智能问答系统		NSDSB-202366103	1	套	
4	基于NLP的装备技术保障知识库		NSDSB-202366104	1	套	
5	基于数据清洗的装备应急处置案例库		NSDSB-202366105	1	套	
6	基于深度学习算法的保障决策模型构建系统		ZNXXBZ-202366106	1	套	
7	装备技术保障决策支持系统		NSDSB-202366107	1	套	
8	知识图谱管理展示系统		NSDSB-202366108	1	套	
9	知识图谱检索系统		NSDSB-202366109	1	套	
10	装备数据采集功能系统		NSDSB-202366110	1	套	
11	装备应急处置数据输入系统		NSDSB-202366111	1	套	






投标人全称：（写明全称并盖章）

              法定代表人（或授权代表）：（签字）
   
                                      年   月  日
附件9
易损易耗件清单

项目名称：装备保障智能管理支撑系统 项目编号： 包号：（没有包号，是否需要填写）
序号	易损易耗件名称	规格型号	品牌	数量	单价	原产地	备注
1	基于问题模板的智能问答系统	NSDSB-202366103	写公司	1	此处能否写价格	写公司所在地	由本公司提供2年质保
2	装备数据采集功能系统	NSDSB-202366110		1			由本公司提供2年质保
合计							



投标人全称：（写明全称并盖章）

              法定代表人（或授权代表）：（签字）
   
                           年   月  日
附件10

技术方案
基于联合神经抽取模型的知识图谱构建系统
知识图谱构建、融合与补全技术
知识图谱又称为科学知识图谱，其本质上是语义网络，是一种基于图的数据结构，由节点和边组成。知识图谱是一种结构化的语义知识库，用于以符号形式描述物理世界中的概念以及相互关系。
构建方法
知识图谱的构建方法有两种种：一种是自底向上的构建方法，一种是自顶向下的构建方法。
 自底向上
自底向上的构建方法, 借助一定的技术手段，从公开采集的数据中心提取出资源模式，选择其中置信度较高的新模式，经人工审核之后添加到知识库中。 自底向上法的流程下图所示。



自底向上的知识图谱构建流程图
知识抽取
知识抽取,包含实体抽取，关系抽取和属性抽取。
实体抽取也成为命名实体识别，是指从文本数据集中自动识别出实体信息。面向单一领域，关注如何识别出文本中的人名、地名等专有名词和有意义的时间等实体信息。开放域（open domain）的信息抽取问题，不再限定于特定的知识领域，而是面向开放的互联网，研究和解决全网信息抽取问题。人工建立科学完整的命名实体分类体系基于归纳总结的实体类别，基于条件随机场模型进行实体边界识别，最后采用自适应感知机实现对实体的自动分类采用统计机器学习的方法，从目标数据集中抽取出与之具有相似上下文特征的实体，从而实现实体的分类和聚类。迭代扩展实体语料库通过搜索引擎的服务器日志，聚类获取新出现的命名实体。——已应用于自动补全技术
关系抽取，经过实体抽取之后，得到的是一些列离散的实体信息，为了得到语义信息需要从相关的语料中提取出实体之间的关联信息，如此才能够形成网状的知识结构。
属性抽取，从不同的信息源中采集特定实体的属性信息。

知识融合
通过信息抽取，我们从原始的非结构化和半结构化信息数据中获取了实体、关系和实体的属性信息。此时我们得到信息中这些信息之间的关系是扁平化的缺乏层次性和逻辑性，还有的知识中存在着大量错误信息。
还需要进行，第一实体链接处理，用于解决同名实体产生歧义问题的技术，通过实体消歧，就可以根据当前的语境，准确建立实体链接，实体消歧主要采用聚类法。其实也可以看做基于上下文的分类问题，类似于词性消歧和词义消歧
第二知识合并处理
    包含：获取知识、概念匹配、实体匹配、知识评估

知识加工
包含：本体构建、知识推理和质量评估
对已构建好的数据层进行概念抽象,即构建知识图谱的模式层。 知识加工包括本体构建和质量评估。 基于本体形成的知识库不仅层次结构较强,并且冗余程度较小。 由于技术的限制, 得到的知识元素可能存在错误, 因此在将知识加入知识库以前, 需要有一个评估过程。 通过对已有知识的可信度进行量化, 保留置信度高的知识来确保知识库的准确性。
自顶向下

自顶向下的知识图谱构建流程图
本体构建, 构建知识图谱的模式层。
从模式层设计开始，统筹整个图谱构建过程，在这个过程之上丰富整个图谱的架构信息。
实体学习
将知识抽取得到的实体匹配填充到所构建的模式层本体中。
实体抽取
知识抽取包括三个要素：实体抽取（命名实体识别）、实体关系抽取和属性抽取。
使用深度学习技术完成命名实体识别
可利用预训练模型和循环神经网络进行文本特征信息的提取。利用CRF（Conditional random field，条件随机场）。给定一组输入随机变量条件下另一组输出随机变量的条件概率分布模型，其特点是假设输出随机变量构成马尔可夫随机场。
一般训练使用BIO体系进行打标：业务数据标签采用“BIO”体系，即实体的第一个字为 B_，其余字为 I_，非实体字统一标记为 O。大部分情况下，标签体系越复杂，准确度也越高。
获取语料库：装备部门或军队其他部门内部书籍、教材、资料等。
特征函数：定义特征函数，这里其实更像是定义特征函数的模板，因为真正的特征函数会根据这个定义的模板去生成，而且一般生成的特征函数数量是相当大的，然后通过训练确定每个特征函数对应的权重。
训练模型：将训练数据喂给模型即可，深度技术一般采用的是端到端的训练方法。
预测：输入原始语料加载模型进行效果测试。
评估：我们采用准确度，精确度，F1值进行评估
基于bert+CRF的命名实体识别
Bert指的是双向transform；CRF指的是条件随机场。
数据预处理：将打标后的数据进行格式处理。
模型构建：采用bert对序列进行处理，利用crf对模型的结果进行修正。
模型训练与测试。
模型验证。
基于正则的实体抽取
基于正则技术的关键词提取技术：
利用正则技术将我们实体识别过程中不能精确识别的实体信息进行补充完善。
实体关系抽取
实体和实体之间存在着语义关系, 当两个实体出现在同一个句子里时, 上下文环境就决定了两个实体间的语义关系。
完整的实体关系包括两方面：关系类型和关系的参数，关系类型说明了该关系是什么关系。
实体关系抽取问题可以看做一个分类问题。使用有监督（标记学习）、半监督（统计分析）或无监督（聚类方法）等方法进行。实体关系抽取往往关注一个句子内的上下文。
基于联合抽取模型的关系抽取
联合模型通过实现实体识别和关系分类两个过程的参数共享，使得两个过程的信息能够交互，从而同时提升实体识别和关系分类的性能。
属性抽取
属性抽取的目标是从不同信息源中采集特定实体的属性信息，从而完成对实体属性的完整勾画，如针对某款手机，可以从互联网中获取多源（异构）的数据，从中得到其品牌、配置等信息。
如果把实体的属性值看作是一种特殊的实体，那么属性抽取实际上也是一种关系抽取。
知识融合
知识融合（也称本体对齐、本体匹配、实体对齐），即合并两个知识图谱(本体)，基本的问题都是研究怎样将来自多个来源的关于同一个实体或概念的描述信息融合起来。
知识融合的技术流程：
1、基本技术流程
知识融合一般分为两步：本体对齐 和 实体匹配，因为两者相关性，方法思路如下：
==》Pipeline方法、Joint方法
2、数据预处理
数据预处理阶段：原始数据的质量会直接影响到最终链接的结果，不同的数据集对同一实体的描述方式往往是不相同的，对这些数据进行归一化处理是提高后续链接精确度的重要步骤。
数据预处理相关技术：
    语法正规化
        语法匹配：联系电话的表示方法
        综合属性：家庭地址的表达方式
    数据正规化
        移除空格，《》，“”，-，等符号
        输入错误类的拓扑错误
        用正式名字替换昵称和缩写等
3、记录链接
假设两个实体的记录 x x x 和 y y y ， x x x 和 y y y 在第 i i i 个属性上的值是 x i , y i x_i,y_i xi​,yi​，那么通过如下两步进行记录链接：

    属性相似度：
        综合单个属性相似度得到属性相似度向量
      
    实体相似度：
        根据属性相似度向量得到一个实体的相似度
（1）属性相似度
计算属性相似度的方法：编辑距离（基于字符）、集合相似度计算 和 基于向量的相似度计算。
① 编辑距离
Levenshtein distance (最小编辑距离)：
    目的：用最少的编辑操作将一个字符串转换成另一个。
    示例：将 Lvensshtain 转换成Levenshtein

上述将 Lvensshtain 转换成Levenshtein，总共的操作 3 次，编辑距离也就是 3。
求解：Levenshtein distance是一个典型的动态规划问题，可以使用动态规划算法计算：

其中， + 1 +1 +1 表示的是插入，删除和替换的代价。
Wagner and Fisher distance：（Levenshtein 的扩展）
    基本思想：将该模型中编辑操作的代价赋予了不同的权重
    模型计算 如下：
    
    其中， del 和 ins 以及 sub 分别是删除、插入和替换的代价。
Edit Distance with affine gaps：引入 gap penalty 概念
    基本思想：将上述的插入，删除和替换操作用用gap opening和gap extension代替。
    编辑操作的代价也就表示为：
    c o s t ( g ) = s + e ∗ l cost(g)=s+e*l cost(g)=s+e∗l
    其中， s s s 是 open gap 的代价， e e e 是 extend gap 的代价， l l l 是 gap 的长度。
      首先将首尾对其，然后将需要添加和修改的位置变成Gap。
    其中， E \mathcal{E} E 代表一个gap，结合上述代价公式，若设置 s = 2 , e = 1 s=2,e=1 s=2,e=1 上述编辑操作代价为 ( 2 + 1 ∗ 1 ) ∗ 4 = 12 (2+1∗1)∗4=12 (2+1∗1)∗4=12。
② 基于集合相似度
Dice 系数——度量两个集合的相似性
    基本思想：可以把字符串理解为一种集合，因此Dice距离也会用于度量字符串的相似性。
    定义：

    示例：以 Lvensshtain 转换成Levenshtein为例
        两者相似度为 2 ∗ 9 / ( 11 + 11 ) = 0.82 2*9/ (11+11)= 0.82 2∗9/(11+11)=0.82。
Jaccard 系数：
    适合处理 短文本的相似度。
    定义：

文本转换为集合：
    使用符号分隔单词
    使用 n-gram 分割单词，用 n-gram 分割句子来构建集合
    示例：如将 Lvensshtain 分割为 {Lv},{ve},...,{in}
③ 基于向量的相似度
TF-IDF：
    目标：用来评估某个字或者用某个词对一个文档的重要程度。可以用来过滤常见词、保留重要词。
    计算公式：
   ​
  其中，TF：词频（term frequency） 指的是某一个给定的词语在该文件中出现的频率，衡量了一个词在一个文档中的重要程度；
        
 IDF：逆向文件频率（inverse document frequency） 是一个词语普遍重要性的度量，如冠词a、an、the等虽然出现频率高但是并不重要。
     

示例：比如某个语料库中有5万篇文章，含有 健康 的有2万篇，现有一篇文章，共1000个词， 健康 出现30次，则 T F − I D F = 30 / 1000 × log ⁡ ( 50000 / ( 20000 + 1 ) ) = 0.012 TF−IDF=30/1000 \times{\log(50000/(20000+1))}=0.012 TF−IDF=30/1000×log(50000/(20000+1))=0.012
（2）实体相似度
实体相似度的方法：聚合（加权平均、手动制定规则、分类器）、聚类（层次聚类、相关性聚类、Canopy + K-means）和表示学习。
① 基于聚合的方法
相似度得分向量： 
      
常用方法：
    加权平均：
       
    手动制定规则：
       
    分类器：逻辑回归，决策树，SVM和条件随机场等
存在问题：
    训练集的生成——（最关键）
    分类不均衡 (更多不匹配的记录对)；
    误分类
解决方法：
    无监督/半监督 (EM，生成模型等)；
    主动学习 (众包等)

知识加工
知识加工：对于经过融合的新知识，需要经过质量评估之后（部分需要人工参与甄别），	才能将合格的部分加入到知识库中，以确保知识库的质量。其主要内容包括本体构建、知识推理、质量评估。
本体（ontology）是指工人的概念集合、概念框架，如“人”、“事”、“物”等。本体可以采用人工编辑的方式手动构建（借助本体编辑软件），也可以以数据驱动的自动化方式构建本体。因为人工方式工作量巨大，且很难找到符合要求的专家，因此当前主流的全局本体库产品，都是从一些面向特定领域的现有本体库出发，采用自动构建技术逐步扩展得到的。
自动化本体构建过程包含三个阶段：
1.实体并列关系相似度计算
2.实体上下位关系抽取
3.本体的生成
知识推理
所谓推理就是通过各种方法获取新的知识或者结论。知识推理主要是利用现有知识图谱已存在的事实或者语料。
运用算法工具，推理出实体之间的关联的关系，自动产生新的知识，补充缺失的事实，完善知识图谱。
基于Bi-LSTM的命名实体识别和实体提取系统
Bi-LSTM模型
长短期记忆网络 LSTM（long short-term memory）是 RNN 的一种变体，其核心概念在于细胞状态以及“门”结构。细胞状态相当于信息传输的路径，让信息能在序列连中传递下去。你可以将其看作网络的“记忆”。理论上讲，细胞状态能够将序列处理过程中的相关信息一直传递下去。因此，即使是较早时间步长的信息也能携带到较后时间步长的细胞中来，这克服了短时记忆的影响。信息的添加和移除我们通过“门”结构来实现，“门”结构在训练过程中会去学习该保存或遗忘哪些信息。
LSTM算法

a.遗忘门：决定应丢弃或保留哪些信息。来自前一个隐藏状态的信息和当前输入的信息同时传递到 sigmoid 函数中去，输出值介于 0 和 1 之间，越接近 0 意味着越应该丢弃，越接近 1 意味着越应该保留
                  

b. 输入门：输入门用于更新细胞状态。首先将前一层隐藏状态的信息和当前输入的信息传递到 sigmoid 函数中去。将值调整到 0~1 之间来决定要更新哪些信息。0 表示不重要，1 表示重要。其次还要将前一层隐藏状态的信息和当前输入的信息传递到 tanh 函数中去，创造一个新的侯选值向量。最后将 sigmoid 的输出值与 tanh 的输出值相乘，sigmoid 的输出值将决定 tanh 的输出值中哪些信息是重要且需要保留下来的

             


	c. 细胞状态：前一层的细胞状态与遗忘向量逐点相乘。如果它乘以接近 0 的值，意味着在新的细胞状态中，这些信息是需要丢弃掉的。然后再将该值与输入门的输出值逐点相加，将神经网络发现的新信息更新到细胞状态中去。至此，就得到了更新后的细胞状态

        



	d . 输出门：输出门用来确定下一个隐藏状态的值，隐藏状态包含了先前输入的信息。首先，我们将前一个隐藏状态和当前输入传递到 sigmoid 函数中，然后将新得到的细胞状态传递给 tanh 函数。最后将 tanh 的输出与 sigmoid 的输出相乘，以确定隐藏状态应携带的信息。再将隐藏状态作为当前细胞的输出，把新的细胞状态和新的隐藏状态传递到下一个时间步长中去
              



模型的技术架构




损失函数
   
4.模型输入
对于输入的自然语言序列，可通过特征工程的方法定义序列字符特征，如词性特征、前后词等，将其输入模型。但现在多数情况下，可以直接选择句中每个字符的字嵌入或词嵌入向量，可以是事先训练好的或是随机初始化。对于中文，我个人倾向于将字符向量和其所属的词向量进行拼接，词嵌入使用预训练好的，字嵌入随机初始化。
       5.模型的工作流程：
BiLSTM接收每个字符的embedding，并预测每个字符的对5个标注标签的概率。
LSTM是一种特殊的循环神经网络，可以解决RNN的长期依赖问题，其关键就是细胞状态，见下图中贯穿单元结构上方的水平线。细胞状态在整个链上运行，只有一些少量的线性交互，从而保存长距离的信息流。具体而言，LSTM一共有三个门来维持和调整细胞状态，包括遗忘门，输入门，输出门。
	



基于NLP的装备技术保障知识库
	该模块主要利用技术为深度学习领域的RNN技术，整个系统流程包含数据处理，模型设计。
文本预处理：
文本预处理过程是在文本中提取关键词表示文本的过程，中文文本处理中主要包括文本分词和去停用词两个阶段。之所以进行分词，是因为很多研究表明特征粒度为词粒度远好于字粒度，其实很好理解，因为大部分分类算法不考虑词序信息。
中文分词技术：
1）基于字符串匹配的分词方法：
过程：这是一种基于词典的中文分词，核心是首先建立统一的词典表，当需要对一个句子进行分词时，首先将句子拆分成多个部分，将每一个部分与字典一一对应，如果该词语在词典中，分词成功，否则继续拆分匹配直到成功。
核心： 字典，切分规则和匹配顺序是核心。
分析：优点是速度快，时间复杂度可以保持在O（n）,实现简单，效果尚可；但对歧义和未登录词处理效果不佳。
2）基于理解的分词方法：
基于理解的分词方法是通过让计算机模拟人对句子的理解，达到识别词的效果。其基本思想就是在分词的同时进行句法、语义分析，利用句法信息和语义信息来处理歧义现象。它通常包括三个部分：分词子系统、句法语义子系统、总控部分。在总控部分的协调下，分词子系统可以获得有关词、句子等的句法和语义信息来对分词歧义进行判断，即它模拟了人对句子的理解过程。这种分词方法需要使用大量的语言知识和信息。由于汉语语言知识的笼统、复杂性，难以将各种语言信息组织成机器可直接读取的形式，因此目前基于理解的分词系统还处在试验阶段。
3）基于统计的分词方法：
过程：统计学认为分词是一个概率最大化问题，即拆分句子，基于语料库，统计相邻的字组成的词语出现的概率，相邻的词出现的次数多，就出现的概率大，按照概率值进行分词，所以一个完整的语料库很重要。

主要的统计模型有： N元文法模型（N-gram），隐马尔可夫模型（Hidden Markov Model ，HMM），最大熵模型（ME），条件随机场模型（Conditional Random Fields，CRF）等。
文本表示：
将文本转换成计算机可理解的方式。一篇文档表示成向量，整个语料库表示成矩阵

                    

模型：
TextRNN的一个工作流程，详细结构参考，一中的LSTM详细说明。LSTM是RNN的一种更进一步的结构，它解决了RNN长时记忆丢失问题，因此在使用的时候我们使用的是LSTM来代替RNN来工作。




基于深度学习算法的保障决策模型构建系统
系统基于SAE算法实现应急处置辅助决策模型构建功能
SAE算法是指“自编码器”（Sparse Autoencoder）算法，是一种无监督学习算法，主要用于特征提取和降维。

SAE算法通过将输入数据进行编码，然后再进行解码，使得解码后的输出尽可能地接近原始输入数据。在此过程中，为了保证模型的鲁棒性和泛化能力，会加入稀疏性约束和正则化项等技术，使得自编码器学到的特征更加具有代表性。
SAE算法被广泛应用于图像处理、语音识别、自然语言处理等领域，能够有效地提高模型的性能和效率。

自动编码器(Auto-Encoders,AE)
传统的自动编码器是一种数据的压缩算法，其算法包括编码阶段和解码阶段，且拥有对称的结构。
目前自编码器的应用主要有两个方面，第一是数据去噪，第二是为进行可视化而降维。配合适当的维度和稀疏约束，自编码器可以学习到比PCA等技术更有意思的数据投影。

传统编码器的编解码过程描述如图：

      
其中过程可以使用如下公式描述：
                   
损失函数描述为如下形式:
            
自动编码器的训练过程使用传统的基于梯度的方式进行训练。

降噪自编码(Denoising Auto-Encoders, DAE)(2008)
自编码器真正关心的是隐藏层的特征表达，一个好的表达能够捕获输入信号的稳定结构，以该目的为出发出现了降噪自动编码器。降噪自动编码器，首先对干净的输入信号加入噪声产生一个受损的信号。然后将受损信号送入传统的自动编码器中，使其重建回原来的无损信号。

降噪自编码器的编解码过程描述如图：
           
其中过程可以使用如下公式描述：

                
降噪自编码器的目标是最小化损失函数。
             
降噪自编码器与传统的自动编码器的主要区别在于:
堆叠降燥自动编码器 (Stacked Denoising Auto-Encoders, SAE)(2008)
参考深度置信网络的方法，将降噪自编码器进行堆叠可以构造成堆叠降噪自编码器。与自编码器和降噪自编码器不同，堆叠降噪自编码器的提出是为了解决。

降噪自编码器的编解码过程描述如图：





2.系统基于MLP算法实现装备运维修理辅助模型构建功能
多层感知机（MLP，Multilayer Perceptron）也叫人工神经网络（ANN，Artificial Neural Network），除了输入输出层，它中间可以有多个隐层，最简单的MLP只含一个隐层，即三层的结构，如下图：




输入层：比如输入是一个n维向量，就有n个神经元。
模型的整体框架如上所示，乍一看，还以为是transformer，输入都是分patch后作为输入，和transformer图很像了。当然了，后续的操作肯定还是不一样的。简单解释一下，比如一张
的图，patch的大小是
。那么他就可以得到64个patch，每个patch的参数维度为
，也就是说这样的输入维度为
                       

其中，b是batchsize。输入的形式和VIT应该是一致的。
顺带提一下。对于图像的低级任务，像去雾去噪超分辨等，好像最早就有说分patch去做的，单patch的超分辨去噪似乎也没太大影响

模型框架，MLP layers
从input进入，首先经历一个per-patch fully-connected，其实也就是个embedding的操作。然后进入一个N次的Mixer Layer。最后池化+全连接，得到后续的分类结果
在MLP layers之中，先进行一次token-mixing MLP，再进行一次channel-mixing MLP 。

多层感知器(MLP)训练学习过程：
多层感知器中的神经元可以使用任意激活函数。多层感知器属于前馈算法的范畴，输入与加权和中的初始权重相结合并受到激活函数的影响，在多次感知器中，每个线性组合都会传播到下一层，每一层都在为下一层提供它们的计算结果。
如果算法只计算每个神经元的加权和，将结果传播到输出层，然后停止，这就无法计算最小化成本函数的权重；如果算法只计算一次迭代，那算法就没有实际的进行学习。这时多层感知器反向传播机制就开始发挥作用。
反向传播允许多层感知器迭代地调整网络中的权重，直至获得最小化成本函数的权重。
反向传播要正常工作有一个硬性要求。在神经元中组合输入、权重函数和阈值函数必须是可微的。这些函数必须有一个有界导数，因为梯度下降通常是多层感知器中使用的优化函数。

在每次迭代中，在加权和通过所有层转发之后，均方误差的梯度在所有输入-输出对中计算。然后，为了将其传播回去，第一个隐藏层的权重用梯度值更新。这个过程一直持续到每个输入-输出对的梯度收敛，这意味着与前一次迭代相比，新计算的梯度没有超过指定的收敛阈值。

1、从输入层开始，将数据向前传播到输出层；
2、根据输出，计算预测结果与已知结果之间的差异；
3、反向传播差异，求其对网络中每个权重的导数，并更新模型。
重复上面的三个步骤来学习训练优化算法。



                                      




装备预先研究项目建议书



      项目名称： 
      项目编号：
      申报单位（盖章）： 
      项目负责人（签字）：
      编制日期： 





辑  要  页


研究内容
技术条目	
关    键
考核指标	
主  要
创新点	
研究进度	
主    要
成果形式	
申请经费
（配套经费）	
申请单位	

目    录
一、军事需求与国内外研究状况	2
（一）军事需求	2
（二）国内外现状分析	4
二、研究目标、研究内容与考核指标	15
（一）研究目标	15
（二）研究内容	16
（三）关键技术	17
（四）技术指标	25
三、拟采取的研究方法及途径	25
（一）总体方案	25
（二）技术途径	27
（三）创新点	79
四、研究进度、成果形式及应用方向	79
（一）研究进度	79
（二）成果形式	80
（三）应用方向	81
五、研究条件及保障措施	81
（一）本单位研究基础	81
（二）人才条件	82
（三）研究条件	83
（四）外协条件	84
（五）管理保障	84
六、经费概算	85
（一）按研究内容分解经费	85
（二）按年度分解经费	85
一、军事需求与国内外研究状况
（一）军事需求

（二）国内外现状分析
2. 运维辅助技术
2.1 知识图谱
知识图谱（Knowledge Graph）的概念由谷歌2012 年正式提出，旨在实现更智能的搜索引擎，并且于2013 年以后开始在学术界和业界普及，并在智能问答、情报分析、反欺诈等应用中发挥重要作用。从构建过程是否依赖自动抽取技术来看，知识图谱大致可分为两类。一类是早期的本体，如WordNet、CYC、HowNet等。这类知识图谱大多由专业人士手工构建，规模较小；但其知识质量高，能够确保准确性与完整性。另一类是从开放的互联网信息中自动抽取实体与关系构建的，如YAGO、DBPedia、ConceptNet等。这类知识图谱规模大；但因其数据源的复杂多样及自动抽取算法的不完全准确，可能会有大量不完整信息、噪声等。近年来，随着知识图谱成为学界及商界的热点，国内也重视知识图谱的研究发展，中文的知识图谱纷纷涌现，如OpenKG、CN-DBpedia、zhishi.me等。
知识图谱也可分为通用知识图谱与行业知识图谱两类。通用知识图谱(generic knowledge graph) 描述全面的常识性的知识，主要应用于语义搜索，对知识的准确度要求不高，如百科类的DBpedia、zhishi.me 和语言学类的WordNet、大词林等。通用知识图谱强调知识的广度，大多采用自底向上的方式构建，侧重实体层的扩充，因此也导致其大部分较难构建规范的本体层。行业知识图谱(domain knowledge graph) 面向特定领域，能够进行知识推理，实现辅助分析及决策支持等功能，如GeoNames、中医医案知识图谱等。行业知识图谱对专业性与准确度的要求高，这也要求其必须有严格的本体层模式，通常采用自底向上与自顶向下结合的方式进行构建。通用知识图谱可作为行业知识图谱的构建基础，行业知识图谱也可在构建完成后补充融合至通用知识图谱中。一般来说，通用知识图谱的使用率更高，是现有知识图谱的基础; 而行业知识图谱则推进了知识图谱技术融入生活。
2.2 语义解析
语义解析semantic parsing是一种相对于语法分析级别上更为高层的分析。具体来说，通常指的是将自然语言转换成为机器可以理解的意义表示。这种机器可以理解的意义表示，通常指逻辑形式（Logic Forms）。通常运用各种机器学习方法，挖掘并学习文本、图片、信息等对象的深层次含义，并生了一些让扩展项目，如文本语义分析、图片语义理解、语义索引、短串语义关联、用户广告语义匹配等。
对于一段文本后，通常情况下，首先要做分词。分词的方法一般有如下几种：基于字符串匹配的分词方法，按照不同的扫描方式，逐个查找词库进行分词，可细分为：正向最大匹配，反向最大匹配，双向最大匹配，最小切分(即最短路径)；总之就是各种不同的启发规则；全切分方法，首先切分出与词库匹配的所有可能的词，再运用统计语言模型决定最优的切分结果，可以解决分词中的歧义问题；由字构词的分词方法，可以理解为字的分类问题，也就是自然语言处理中的sequence labeling问题，通常做法里利用HMM，MAXENT，MEMM，CRF等预测文本串每个字的标识。
目前较为突出的语义解析研究主要包括：Xiao等人提出的结合符号先验背景和 RNN 模型的主义分析技术，该技术面向 semantic parsing 本身，运用well-formedness 逻辑形式并标注语义体系，但其需要面向 semantic parsing 本身标注体系。Chen等人提出利用强化学习，面向Q-A pairs的技术，该技术不需要中间逻辑形式的标注，利用神经符号机器算法，面向问题的答案，因而没有中间的 Logic Forms形式。Percy等人发现为输入问题提供的 Logic Forms，与使用人工规则得到的句子中与查询问题很相似，因而先利用确定性生成一个候选的逻辑形式集合，随后使用 paraphrase 模型去挑选最合适的解析。Yih等人探讨了 semantic parser中间标注的价值，并与从 Q-A pairs 学习的对比，并构建了 WEBQSP 的数据从而实现主义解析。
2.3 智能问答
问答技术是一个用自然语言与人们进行互动的计算机技术。问答技术已经广泛应用到社会各个方面，其作为整个计算机领域重点的研究领域，引起了人们的高度重视。随着机器学习、强化学习，尤其是深度学习等技术的革命性发展给智能问答带来了长足的进步。
问答技术的复杂程度可以从三个维度来衡量：问题维度，可以分为限定领域(指系统能接受的问题只能是关于某个特定的主题)的问答技术和开放领域 (指系统能接受的问题可以是任意主题的问题，没有任何限制)的问答技术；数据维度，可以分为处理结构数据(或半结构数据)的问答技术 (例如关系数据)和处理无结构数据(例如文本)的问答技术；答案维度，可以分为抽取式 (所谓抽取，是指答案是从数据或者文本中抽取出来的，例如文本片段)问答技术和产生式(所谓产生，是指答案是通过一定的规则或者内在的编码生成出来的，例如对话)问答技术。
问答技术中问题分析主要是用于分析和理解问题，从而协助后续的检索和答案提取，一般具有问句分类、问句主题提取两个主要研究内容：
问句分类是根据问句的答案类型对问句进行分类，其任务就是把一个问句分类到已有的分类结构中一个或几个类(软分类)。问句分类的方法主要使用模式匹配方法和机器学习方法。Zhang 等人在使用表层n-gram特征，在K最近邻算法、决策树、朴素贝叶斯等分类方法中，支持向量 机(support vector machine，SVM)效果较好。Li 等人采用更深层次的特征，包括语法(词性、词组)和 语义(解释、近义词)信息，首先顶层分类器把问句归 类在一个大类别中，然后根据该大类内的分类器把它分到小类别中，分类效果较好。
问句主题，在问答技术中需要选择问题中的一些关键词作为查询词，很多时候会调整查询，为了保证高相关性，查询词都应该包含问题的主题。一般通过对问题进行句法分析，获得问题的中心词，然后选取中心词及其修饰词作为问题的主题。因此，如何选取合适的中心词是该类方法的核心。Cui 等人提出了一种基于外部资源选取主题的方法。它利用搜索引擎返回的结果去计算各种词组合的点互信息，如 果词组合的点互信息高于某个阈值就被认为是词 组，那么词组的序列就被认为是问题的主题。
2.4 智能检索
智能检索以文献和检索词的相关度为基础，综合考查文献的重要性等指标，对检索结果进行排序，以提供更高的检索效率。智能检索的结果排序同时考虑相关性和重要性，相关性采用各字段加权混合索引，相关性分析更准确，重要性指通过对文献来源权威性分析和引用关系分析等实现对文献质量的评价，这样的结果排序更加准确，更能将与用户愿望最相关的文献排到最前面，提高检索效率。
对于智能问答系统中的智能检索技术来说，找到和问题类似的问题，然后返回答案或者相似问题列表是首要解决问题，其中构建适合Q-A pairs的检索模型和Q-A pairs的相似性判断是最关键的两个问题。Duan 等人采用基于最小描述长度(minimum description length，MDL)的树剪切(tree cut)模型去识别问题的主题和焦点，然后利用语言模型的方法去 匹配问题主题和焦点来缩小检索范围，提高检索精度。Xue 等人构建一个相似问题的集合，随后训练一个翻译模型，对问题部分采用基于翻译模 型的语言模型，对答案部分采用 Query Likelihood 模型，这两者合并在一起构成了一个检索模型。Bian 等人发现文本特征和社区特征对于检索效果的影响很大; 同时，其他特征也能提高训练排序函数的效果，因此提出了对于事实类型问题的检索框架，属于半监督的方法。Wang 等人通过类比推理技术去建模问题与答案之间的关系，提出了对于答案的排序方法，该方法的平均排序倒数(mean reciprocal rank，MRR)值能达到78%，比采用朴素贝叶斯和 Cosine的方法效果都好。
除了从传统的信息检索的角度来看待信息检索部分，还可以从问题对相似性的角度来看这个问题。其实传统的信息检索角度，其本质也是把相似的问题检索出来。首先把与给定问题相似的问题找到，然后再在相似的问题中寻找最好的答案。由于syntactic tree 特征对于问题的相似性比较具有明显的价值，Wang 等人通过将每一个问题句子都生成其 syntactic tree 的形式，然后比较问题的 syntactic tree 的相似性来判断问题的相似性。Stiff等人的研究依据“如果两个问题的答案相似，那么这两个问题是相似的”的原则，把问题的所有答案作为单一文档，然后用语言模型去计算答案之间的相似性，从而去判断两个问题之间的相似性。Akiyoshi 等人采用简单的基于关键字的检索方法去缩小搜索范围，然后再利用 BBS 文章的结构特征(即thread 结构，一个 thread 包含一个问题网页和一组答案网页)，基于这种结构特征，计算一篇问题文章和商业搜索引擎返回的词之间的相关性，最后来判断其相似性。 
2.5 故障分析
所谓故障，广义的讲，可以理解为任何系统的异常现象，使系统表现出所不期望的特性。装备运维技术主要包含三方面的内容：故障检测、故障隔离、故障辨识。所谓故障检测是判断系统中是否发生了故障及检测出故障发生的时刻；故障隔离就是在检测出故障后确定故障的位置和类型；故障辨识是指在分离出故障后确定故障的大小和时变特性。从本质上讲，装备运维技术是一个模式分类与识别问题，即把系统的运行状态分为正常和异常两类，而异常的信号样本究竟又属于哪种故障，这又属于一个模式识别的问题。近几十年来，装备运维技术得到了深入广泛的研究，提出了众多可行的方法。
现有的故障分析方法，概括起来可分为三大类：基于信号处理的方法、基于解析模型的方法和基于知识的分析方法。所谓基于信号处理的方法，通常是利用信号模型，如相关函数、频谱、自回归滑动平均、小波变换等，直接分析可测信号，提取诸如方差、幅值、频率等特征值，从而检测出故障。所谓基于解析模型的方法，是在明了分析对象数学模型的基础上，按一定的数学方法对被测信息进行处理分析，它可分为状态估计法、等价空间法和参数估计法。近年来，人工智能及计算机技术的飞速发展，为装备运维技术提供了新的理论基础，产生了基于知识的装备运维方法，此方法由于不需要对象的精确数学模型，而且具有某些“智能”特性，因此是一种很有生命力的方法。基于知识的装备运维方法主要可以分为：专家系统装备运维方法；模糊装备运维方法；故障树装备运维方法；神经网络装备运维方法和数据融合装备运维方法等。

二、研究目标、研究内容与考核指标
（一）研究目标

（二）研究内容
2. 密码装备运维信息平台
密码装备运维信息平台，提供运维知识和运维数据的收集和聚合处理，通过数据关联分析准确全面定位装备故障，提升问题检索效能和决策建议满意度，为智能预警、问题检索、科学决策提供数据支撑。
（2）运维知识图谱构建与补全技术
针对密码装备运维知识涉及面广、复杂程度高、关联性强、更新速度快等问题，收集装备实现技术、装备常见故障、装备维护方法、装备检测手段等装备运维知识，研究密码装备运维知识图谱构建与补全技术，将密码装备运维相关知识转化为具有属性的实体，并通过实体间关系链接成网状的知识库。研究基于神经网络的命名实体识别(NER)和关系分类(RC)技术，并构建联合神经抽取模型实现多个三元组同时提取；研究传递关系嵌入模型，基于共享的识别机制实现嵌入空间转换，并对属性三元组中的实体进行对齐，通过基于图形的模型预测实体间的相互链接，构建新实体与原图中实体的关系，完成知识图谱补全(KGC)。
3. 密码装备运维信息分析检索中心
密码装备运维信息分析检索中心相当于人类“大脑”的功能，用于对运维问题和事件进行分析、处理，并给出检索结果和决策建议。密码装备运维信息分析检索中心利用人工智能算法，根据具体的运维场景、业务规则、以往经验等构建的数据分析平台，具有可重用、可演进、可了解的特性。密码装备运维信息分析检索中心的实现主要应用到了两种技术，分别是基于运维知识图谱的问题检索和基于运维数据的动态分析。
（1）基于知识图谱的运维问题检索技术
针对密码装备使用维护人员工作中遇到的装备运维问题无法及时得到有效解答的难题，本项目研究基于知识图谱的运维问题检索技术，通过语义分析与认知推理，以简洁的问答式对话模式解决装备使用维护人员核心认知决策问题。研究知识图谱运用中涉及到的自然语言处理（NLP）、意图识别(IR)、实体链指(EL)、关系识别(RD) 、查询语句拼装(QC)、返回结果选择(AS)等相关技术，将自然语言转化为形式化的逻辑形式（logic form），通过对逻辑形式进行自底向上的解析，得到一种可以表达整个问题语义的逻辑形式，通过相应的查询语句在知识图谱中进行查询，从而得出答案。
（2）基于知识图谱的运维数据动态分析技术
针对密码装备故障预测、判断、处理等过程中存在的问题，本项目研究基于密码装备运维数据的动态分析技术，在接入装备实时运维数据的基础上，结合运维知识图谱实现异常预警、异常检测、故障分析、故障定位、故障描述等，并提供运维辅助提示。研究运维数据智能分析的动态规划方法，实现业务上下文理解、运算资源能力分析、检测模式与技术方案设计、执行路线图规划等内容；在经典分析算法和非结构化数据算法的基础上，研究装备故障和运行状态分析所需的知识库、参数库和算法库，提供时序分析算法、数据波动分析算法、参数配置算法、故障知识检索算法等；针对典型密码装备组成部件（如存储、接口、处理等），研究基于知识图谱的故障树分析（FTA）技术，包括典型故障类型、特征变量、以及故障研判等。 
4. 密码装备智能化辅助组件
智能化辅助组件是部署于密码密码之中的运维工具，对密码装备实施状态监控、环境监测、故障预警、故障展示、问题检索、运行控制等系列操作。组件既具备运维数据直接采集功能，又具备运维问题初步查询和结果反馈功能，还具备故障预警、展示和简单维护功能，保障密码装备持续、安全、稳定、可靠地运行。
（2）基于边缘计算的运维问题弹性检索技术
针对密码装备运维信息分析检索中心规模有限，无法同时处理所有运维问题检索工作，而密码装备资源有限，分析检索复杂运维问题较为困难，本项目研究基于边缘计算的运维问题弹性检索技术。通过该技术对密码装备使用维护人员的提出运维问题进行初步分析，在本地运维知识库中检索并返回结果；若本地库中没有适合的答案，将运维问题中未检索到的信息发送到运维信息分析检索中心，随后将中心返回的答案与本地检索到的答案进行整合并反馈给用户。在深入分析Openstack、Cloudlet、EdgeX Foundry、Cord等边缘计算的解决方案的基础上，研究适合密码装备运维问题检索的问题检索架构、预置模型、模型训练、问题集成、模型部署等技术，以运维信息分析检索中心为基础，密码装备本地智能化辅助组件为支撑，组成运维数据弹性搜索集群；研究全文搜索、结构化搜索、搜索分析等技术，实现运维问题实时弹性搜索。
（3）基于知识图谱的智能化维护操作技术
针对密码装备使用维护人员技术水平参差不齐，装备故障处理流程不熟悉等问题，本项目研究基于知识图谱的智能化维护操作技术，根据运维信息分析检索中心和边缘计算层提供的故障信息和运维脚本，实现密码装备故障预警提示、故障点可视化展示和智能化运维操作。研究故障运维操作流程，结合装备运维知识图谱，通过运维信息分析检索中心和边缘计算层智能生成运维操作脚本，并推送至故障密码装备，实现智能化维护操作。
（三）关键技术
2. 基于神经网络与共享识别机制的装备运维知识图谱构建与补全技术
针对密码装备运维知识涉及面广、复杂程度高、关联性强、更新速度快等问题，提出了基于神经网络与共享识别机制的装备运维知识图谱构建与补全技术。通过图的形式客观描述密码装备运维中的事实，将装备运维知识转化为语义网络，便于运维信息的分析与检索。本项目提出了一种新的多三元组联合提取模型，在统一的标签方案下将实体和关系识别问题转化为标签问题，并利用端到端模型来解决问题。在实体和关系抽取时，设计一个三维标签并使用该标签描述每个单词的特征，基于该标签，运用Bi-LSTM神经网络算法学习实体特征，并通过CRF生成带有标记序列单词的句子抽取实体关系，完成知识图谱构建。基于开放世界和共享识别机制的抽取不在知识库中的实体，运用内容屏蔽技术消除原图谱中的噪声，运用目标融合技术实现信息提纯，运用语义平均技术实现新实体的编码与计算，最终将合理的实体及其关系加入图谱，实现知识图谱补全。
4、基于知识图谱与边缘计算的装备故障检测与运维问题检索技术
针对密码装备运维信息分析检索中心无法同时实现所有装备的故障检测和问题检索，而单台密码装备资源有限，分析检索复杂运维信息较为困难等问题，提出了基于知识图谱与边缘计算的装备故障检测与运维问题检索技术。本项目基于边缘计算技术，以装备运维信息分析检索中心为基础，密码装备本地边缘计算层为支撑，构建运维信息弹性分析检索集群。通过运维数据智能分析的动态规划方法，将时序分析算法、数据波动分析算法、参数配置算法等故障分析算法动态分布于装备的本地边缘计算层中，基于边缘计算层中有针对性的运维知识图谱和实时采集的装备运维数据，实现装备故障初步预警与检测，随后根据将故障信息上传运维信息分析检索中心，综合运用故障树分析技术与知识图谱检索技术，实现密码装备异常预警、异常检测、故障分析、故障定位、故障描述等。通过预置模型、模型训练、问题集成、模型部署等技术，构建装备运维问题检索架构，运用全文搜索、结构化搜索、搜索分析等图谱检索技术，实现运维问题实时弹性搜索，根据运维信息分析检索中心和边缘计算层的运算能力，动态部署然语言处理、意图识别、实体链指、关系识别、查询语句拼装、返回结果选择等技术，通过查询不同层级上的知识图谱向装备使用和维护人员返回最终答案。
5、基于知识图谱与配置脚本推送的装备智能维护操作技术
针对密码装备使用维护人员技术水平参差不齐，装备故障处理流程不熟悉等问题，提出基于知识图谱与配置脚本推送的装备智能维护操作技术。根据运维信息分析检索中心和边缘计算层提供的故障信息和运维提示，检索运维知识图谱中的运维知识，构建运维配置脚本，实现智能化运维操作。在深入分析故障装备运维操作流程和Ansible配置管理架构的基础上，构建适用于密码装备的运维操作模块，结合Ansible核心模块，实现密码装备的初始配置、安全配置、系统更新等日常运维操作，运用多种任务模式组合维护操作、优化运维流程，结合运维知识图谱中的故障处理方式，构建合理的运维配置脚本PY文件，并推送至故障装备，实现密码装备的智能化运维操作。

（四）技术指标
三、拟采取的研究方法及途径
（一）总体方案
（二）技术途径
2. 密码装备运维信息平台
2.2 运维知识图谱构建与补全技术
密码装备运维知识图谱本质上是一种语义网络，用图的形式客观描述装备运维中的事实。密码装备运维知识图谱中的节点表示装备运维的基本概念和具体事物；边表示运维事物的关系和属性，运维事物的内部特征用属性来表示，外部联系用关系来表示。
（1）基于神经网络的知识图谱构建技术
知识图谱的构建方法主要有两种：一种是自底而上的构建方法和自顶而下的构建方法。本项目采用自底向上的构建方法框架如下图9所示，从开放链接的数据源中提取实体、属性和关系，加入到知识图谱的数据层；然后将这些知识要素进行归纳组织，逐步往上抽象为概念，最后形成模式层。

图9 知识图谱构建框架
a、数据获取（Data Acquisition）
数据获取是建立知识图谱的第一步。密码装备运维知识图谱数据源按来源渠道的不同可分为两种：一种是密码装备运维业务本身的数据，这部分数据包含在机要部门内部数据库中（如装备型谱数据、装备技术指标数据等），以结构化或半结构化的方式在机要部门内部存储，是一种非公开的数据；另一种是公开或半公开的数据，这些数据通常是以书籍、教材、资料等形式存在，存在于机要部门或军队其他部门内部，是非结构化的数据。构建密码装备知识图谱最重要的问题就是获取这些数据，对于公开或半公开的数据，可以通过借阅、学习、培训等方式获取；对于非公开数据，一方面通过军办机要局协调数据拥有单位提供，另一方面通过项目合作、实地调研、专家协商等方式获取。
b、信息抽取（Information Extraction）
信息抽取的关键问题是如何从异构密码装备维护数据源中自动抽取信息得到候选知识单元。对于结构化和半结构化装备运维数据只需要简单预处理即可以作为后续系统的输入，对于非结构化一般需要借助于自然语言处理等技术来提取出结构化信息，这也是本项目的难点之一，涉及的关键技术包括实体抽取、关系抽取和属性抽取。
（i）实体抽取（Entity Extraction）
实体抽取又称为命名实体识别（NER），是指从文本数据集中自动识别出命名实体，其目的就是建立知识图谱中的“节点”。实体抽取的质量（准确率和召回率）对后续的知识获取效率和质量影响极大，是信息抽取中最为基础和关键的部分。密码装备运维实体的类型主要包括三大类七小类：实体类（包括装备名，技术名，资源名），时间类（日期，时间），数字类（数值、百分比）。
本项目提出了一种新的多三元组联合提取模型，将实体抽取转化为标签问题，在统一的标签方案下将实体和关系识别问题转化为标签问题，并利用端到端模型来解决问题。在实体抽取时，设计一个三维标签（位置、类型、关系），并使用该标签来描述每个单词的特征。随后基于该标签，运用Bi-LSTM神经网络算法学习实体特征，并通过CRF生成带有标记序列单词的句子。
（ii）关系抽取（Relation Extraction）
文本语料经过实体抽取之后得到的是一系列离散的命名实体（节点），为了得到语义信息，还需要从相关的语料中提取出实体之间的关联关系（边），才能将多个实体或概念联系起来，形成网状的知识结构。研究关系抽取技术，就是研究如何解决从文本语料中抽取实体间的关系。
在前面带有标记序列单词的句子中，只有实体才能参与关系识别，我们利用外部标签无关嵌入来描述实体间关系特征。通过实体和关系形成的三元组（eh; et; r）满足问题转化的约束eh + r≈et。为了防止Bi-LSTM算法产生的实体特征偏差，我们还制定了两个额外的约束，并对其进行检测。最后为了更好地训练抽取模型，引入了一个负抽样策略来实现一个基于排序的关系提取器。
（iii）属性抽取（Attribute Extraction）
属性抽取的目标是从不同信息源中采集特定实体的属性信息，从而完成对实体属性的完整勾画，如针对具体装备，可以从装备资料库中获取多源（异构）的数据，从中得到其型号、结构、技术参数等信息。
c、知识融合（Knowledge Fusion）
经由信息抽取之后的信息单元间的关系是扁平化的，缺乏层次性和逻辑性，同时存在大量冗余甚至错误的信息碎片。通过知识融合将多个知识库中的知识进行整合，形成一个知识库的过程，在这个过程中，主要关键技术包含指代消解、实体消歧、实体链接。不同密码装备知识库收集知识的侧重点不同，对于同一个实体，有的知识库可能侧重于其本身某个方面的描述，有的知识库可能侧重于描述实体与其它实体的关系，知识融合的目的就是将不同知识库对实体的描述进行整合，从而获得实体的完整描述。
（i）指代消解（Coreference Resolution）
密码装备知识图谱中的指代消解过程中主要完成两个工作，指示性指代和同指。
指示性指代 (也称回指)，是当前的指代词与上文出现的词、短语或句子（句群）存在密切的语义关联性，它指向另一个词（称为先行词），该指代词的解释依赖于先行词的解释，具有非对称性和非传递性。
同指 (也称共指)，是两个名词(包括代名词、名词短语)指向真实世界中的同一参照体，这种指代脱离上下文仍然成立。共指消解技术主要用于解决多个指称对应同一实体对象的问题。
（ii）实体消歧（Entity Disambiguation）
实体消歧是专门用于解决同名实体产生歧义问题的技术，通过实体消歧，就可以根据当前的语境，准确建立实体链接。在不同的密码装备运维知识库中，有些实体写法不一样，但指向同一个实体，比如“加解密”表示通过算法进行加解密运算，而“加脱密”同样也是同一个意思。这种情况下，实体消歧可以减少实体的种类，降低图谱的稀疏性。在本项目中实体消歧主要采用机器学习中的聚类算法来实现，将其看做基于上下文的分类问题。
（iii）实体链接（Entity Linking）
实体链接（entity linking）是指对于从非结构化数据（如文本）或半结构化数据（如表格）中抽取得到的实体对象，将其链接到知识库中对应的正确实体对象的操作。其基本思想是首先根据给定的实体指称项，从知识库中选出一组候选实体对象，然后通过相似度计算将指称项链接到正确的实体对象。本项目提出了一种新的嵌入模型，该模型从属性三元组生成属性嵌入，然后利用属性嵌入将两个知识库中的实体嵌入移动到同一个向量空间，并对对这些属性三元组进行实体对齐。
（vi）知识合并
知识合并是对结构化数据进行处理，主要处理数据层和模式层的冲突问题。
d、知识加工（Knowledge Processing）
海量数据在经信息抽取、知识融合之后得到一系列基本的事实表达，但这并不等同于知识，要想获得结构化，网络化的知识体系，需要经过知识加工才能将合格的部分纳入知识体系中以确保知识图谱的质量。密码装备运维知识加工主要包括三方面内容：本体构建、知识推理和质量评估。
（i）本体构建（Ontology Extraction）
本体定义了组成领域的词汇表的基本术语及其关系，以及结合这些术语和关系来定义词汇表外延的规则。密码装备知识本体构建中通过实体并列关系相似度算法计算图谱中新入实体间的关系，随后运用实体上下位关系抽取技术得到实体间的类型差异，并对实体进行分类，最后运用本体生成技术完成知识本体的构建。
（ii）知识推理（Knowledge Inference）
完成了本体构建之后，知识图谱雏形虽然搭建好，但实体关系缺失值非常严重，知识图谱还是残缺的，需要使用知识推理技术，完成进一步的知识发现。知识推理就是从知识库中已有的实体关系数据出发，经过计算机推理，建立实体间的新关联，从而扩展和丰富知识网络。知识推理的对象也并不局限于实体间的关系，也可以是实体的属性值，本体的概念层次关系等。
（iii）质量评估（Quality Evaluation）
质量评估是知识库构建技术的重要组成部分，对知识的可信度进行量化，通过舍弃置信度较低的知识来保障知识库的质量。
（2）基于共享的识别机制的知识图谱补全技术
由于密码装备和装备运维发展迅速、实现技术快速更新、相关领域不断拓展、知识体系逐步完善，整个图谱并不是一成不变的知识，图谱需要不断更新和完善。因此当遇到不存在与以前知识库中的实体或者关系如何对知识库进行补全则是一个重要的研究问题。知识图谱补全与关联技术的目标则是填补知识图谱中缺失的事实，对知识图谱进行更新和完善。
传统的知识库补全算法大都是基于封闭世界假设的，也是就说补全的实体必须在知识图谱内。然而密码装备运维知识图谱中的知识是一直进化的，整个图谱并不是一成不变的。因此当遇到新的实体或者关系，对知识库进行补全则是密码装备运维知识图谱研究中面临的一个重要问题。本项目提出了一个基于开放世界假设和共享识别机制的知识补全技术，该技术可以将未出现在知识库中的实体进行补全，进而克服传统知识库补全算法的问题。
a、依赖关系内容屏蔽
由于基于开放世界和共享的识别机制的知识图谱补全技术是可以抽取不在知识库中的实体，因此待抽取的实体则可能会在原有的图谱中出现。而原有的图谱中又会隐含大量的噪声和补全的三元组无关。为了去掉原来图谱中的噪声，我们通过共享的识别机制来计算文本和关系的相关程度进而获取关键词，并对其进行屏蔽。
b、目标融合
目标融合主要的作用是对上一步中获取的信息进行进一步的提纯。在这一步中主要采用远程监督中据有良好效果的卷积神经网络（CNN）模型。CNN模型将上文选出的关键词融合到新的实体表示向量中。
c、语义平均
目标融合只是对文本进行了编码，但是当出现新的实体时，模型也需要将他们进行编码。我们设计了一个非常简单的编码模型，并通过列表位置损失函数来计算实体编码值，通过实体中每个词编码的平均值来计算实体的表述，将合理的的实体及其关系加入图谱，实现知识图谱补全。
3. 密码装备运维信息分析检索中心
3.1 基于知识图谱的运维问题检索技术
知识检索系统有多种数据来源，包括网页文档、搜索引擎、百科描述、问答社区等，这些数据来源都是非结构化的纯文本数据。而近年来，基于知识图谱的检索系统则成为学术界和工业界的研究和应用热点，相较于纯文本，知识图谱在数据关联度、数据精度、数据结构化等方面具有较大的优势，这些优势都促使本项目使用知识图谱来作为问题检索的知识来源。
（1）运维问题检索技术框架
基于知识图谱为知识源进行问题检索时，一个问题对应于知识图谱的一个子结构。其检索过程的核心在于将自然语言问题映射为知识图谱上的结构化查询。基于知识图谱的问题检索技术，需要解决两个核心问题：如何理解问题语义，并用计算机可以接受的形式进行表示（问题理解与表示）；如何将该问题表示关联到知识图谱的结构化查询中（语义关联）。
问题理解与表示：知识图谱中有数海量的关系，而一种关系可以有各种不同的问法。对于不同的问题形式，问题检索技术使用不同的表示方法，一方面需要归一具有相同语义的问题，另一方面还要区分不同意图的问题。
语义关联：在获取问题表示之后，需要将问题表示映射为结构化查询。然而结构化查询主要依赖于知识库中的属性，属性和表现模型之间存在跨越，属性和表现模型之间匹配并不能直接导出。特别是对于装备运维知识库，超过98%的关系二元关系并不仅仅对应一条边，而是某种复杂的结构对应于类似的复杂结构，使得运维问题检索更为复杂。
依据其理解语义的粒度从小到大，从具体技术到上层应用，运维问题检索技术框架研究架构如图10所示，主要分为以下五个部分。

图10运维问题检索技术框架
实体层：语义搜索实体是自然语言的基本单位之一，基于知识图谱的实体语义理解为上层语义计算，特别是问题中的实体语义，提供基本支持。本项目通过面向实体的语义搜索模型，实现基于大图的局部性的高效搜索。
文本层：动词理解和实体概念化短文本是自然语言的最常见形式之一，起到对实体和更复杂文本单元的承接作用。短文本上已经具备了句法结构特征和上下文关系，知识图谱的加入使系统更精确表示句法结构和上下文信息。本项目提出了动词模板，表示细粒度的动词语义，优化基于上下文的实体概念化方法。
问题层：问题语义理解和表示问题的表示学习，是计算机系统理解问题的核心步骤。本项目提出了问题的模板表示方法，将问题的实体映射到其对应概念，用以表示问题语义。此外，本文还利用问题模板的思路，解决了复杂问句的解析问题。
搜索层：问题与知识图谱的语义关联基于问题的模板表示，需要将其映射为知识图谱的结构化查询，最终实现成功检索。这一映射主要取决于知识库中的属性。本项目提出基于密码装备运维语料的学习方法，利用概率图方法对问题模板到答案的生成进行建模，并利用属性扩展，实现知识图谱中的多步属性，学习问题模板到复杂知识图谱结构的映射关系。
应用层：通用人工智能实现面向全领域的问题检索依然是非常困难的，大部分真实应用中的问题检索技术是面向具体领域的。本项目针对密码装备运维领域的应用场景，将开放领域的自然语言模型适配到装备运维领域，使得问题检索相关自然语言处理模块在特定领域正常运行。随后从自然语言文本中，为密云装备运维领域进行知识抽取。
（2）基于局部搜索的语义挖掘
问题检索对问题理解的基础是对问题实体的理解。语义挖掘有助于实现实体语义分析。对于一个语义网络或知识图谱中的结点，语义挖掘目标是找到其所属的最佳集合，通常是它的邻居区域的一部分。现有方法使用全局搜索来寻找最佳集合，但是时间消耗极大，尤其是整个网络中的结点都需要被遍历到。本项目提出一个局部搜索的策略，在给定查询点的邻居中进行搜索来找到最佳集合，这个最佳集合的度量是它的最小度。
a、语义集合与度量
语义网络和知识图谱是复杂网络，这种复杂网络可以被划分成若干个集合，集合内部的点连接紧密，而集合外的点连接稀疏。通过研究发现密码装备运维语义网络中集合结构是和节点语义紧密相连的，节点语义描述了这个点的相关特征。基于语义网络的实体语义计算为上层语义计算提供基本支持。由于语义集合具有的重要意义，本项目首先分析语义集合查找问题，对于给定结点，找到其属于的最可能主义集合，语义集合对于问题搜索中的语义扩展和实体语义理解有着重要的帮助。
∙ 语义扩展：在问题检索中，当一个用户提交一个查询时，查询可以扩展为语义集合中的其它单词，从而扩充查询结果。
∙ 实体语义理解：实体理解的基本问题之一是语义理解，理解给定实体/概念的主题。基于知识图谱的问题搜索中，实体语义理解可以转换为集合搜索问题，即给定某个实体/概念，查找其所隶属的最佳集合。
为了高效的进行语义集合搜索，需要首先确定什么是一个好的语义集合。一个语义集合的好坏，其评估标准在于其内部结点的粘结度。计算粘结度的方法有很多，最小度较好的捕捉了关于集合粘结度的度量，本项目使用两个语义集合的度量指标。最小度是计算该集合结点的导出子图的度的最小值。一个好的语义集合就是一个具有较大最小度的集合。使用最小度作为集合搜索的度量，将语义集合搜索的问题，转化为查找包含查询点的点集，使其导出子图的最小度最大。
b、最小度最大集合搜索技术
最小度的一个重要特性是它的非单调性，由于最小度的非单调性，使用局部搜索策略找到最小集合的问题是很困难的。不同于直接找到集合最优解，在一些应用中，用户可能对于找到满足度量大于某一阈值的集合感兴趣，即δ(G[H])≥k。这里k是一个给定的阈值限制。通过控制k，用户可以控制所找到的集合的大小。通过阈值可以将最大度量的集合搜索在一定条件下转化为带阈值限制的集合搜索问题。
最大度量的集合搜索是一个最优化问题，它的对应的判定问题是：判定是否存在H ⊆V，满足最大度量的集合搜索问题定义的三个条件。很明显，最大度量的集合搜索就是带阈值限制的集合搜索问题的构造版本。也就是说，算法不仅需要判断有效解是否存在，也需要在解存在时，构建或找到一个具体解。
对于最大度量的集合搜索和带阈值限制的集合搜索问题，通常只期望寻找其中的一个解，因为可能有指数级别的解。为了说明这一点，考虑包括N个度为1的结点和1个度为N的结点的情况。假设 结点vc的度为N，那么很显然有m*(G,vc) = 1。但是H*(G,vc)可能是任何包含vc的子集。 这样这个图中最优解的个数就是Θ(2N)。为了避免这种指数级的枚举，在一般求解的问题中，只查找其中的一个解。
c、带阈值限制的集合搜索技术
带阈值限制的集合搜索问题的目标是找到对于给定结点的最佳集合。其主要挑战在于，集合的度量δ(·) 是非单调的。通过暴力枚举来解决的方法，其复杂度是指数级的。之前的研究人员提出了通过二分最大度量的集合搜索来解决带阈值限制的集合搜索的方法。本项目在其基础上提出了一个更为高效的自底向上的方法。首先，它从查询点v0开始扩展搜索空间。第二，它在此查询空间中，生成一个候选结点集C。第三，它通过最大核算法在候选结点集中来找到最终的答案。
在第一步中，算法的目标是通过扩展搜索空间，来找到一个子集H，使得在线性复杂度下，当剪枝掉尽量多的无效点后，它的δ(G[H])尽可能大。算法从结点v0开始，每一步通过局部搜索策略选择新的点，并加入当前结果中。这里算法使用最大邻接数来作为策略选择局部最优结点。然后，在每一轮的最后，由于所有的结点度数小于δ(G[H])+1的结点无法存在于更优的解中。算法用H作为过滤依据，来扩展需要访问的结点集合。
在第二步中，算法从第一步生成的H产生候选结点集合。算法使用两 个方法来产生C，并分析了在生成质量和性能上的权衡取舍。假设Cnaive(k)表示算法的结果，也就是说，从v0的邻居中不断移除度数小于k的点，就形成了Cnaive(k)。
第三步中，选择不同的γ不会影响答案的质量，但是会影响程序运行时间。一般来说，当γ→−∞，由于算法已经给了足够的次数来尝试找到好的H，算法非常有可能在第二步之前找到一个完整解，或者一个好的部分解。然而，这会导致很大的运行时间消耗。如果一个完整解或者部分解已经在第一步被找到，最大核算法过程就只会花费极少的时间。
最后，需要强调的是，使用不同的策略实现，其最差情况的时间复杂 度都是O(|V|+|E|)。然而，在带阈值限制的集合搜索问题中，可以期望通过局部搜索，使用很少的结点访问找到一个最优解。
（3）基于知识图谱的短文动词理解
动词理解在自然语言的语义理解中至关重要。对于动词的理解，有助于在短文本层面理解问题语义，进而帮助实现上下文相关的实体概念化。传统的动词表示，专注于动词的角色，但是动词角色粒度过于粗，无法表示和区分动词的语义。本项目将构建基于动词模板的动词语义表示模式，每个动词模板对应于动词的单个语义。
a、动词模板及其特性
动词模版可以用来表示一个动词更细粒度的语义。动词模版基于语言学家对单词结合的两个原则设计：俗语原则(idiom principle)和开放选择原 则（open-choice principle）。基于这两个原则，我们设计了两种类型的动词模版：
概念化模版：根据开放选择原则，一个动词可以和任何宾语搭配。这些宾语具有特定的概念，可以用于语义表示和消岐，可以使用宾语的概念来表示动词语义。根据宾语的概念，每个开放选择原则中的动词短语会被关联到一个概念化模板中。
俗语模版：根据俗语原则，有些动词短语的具体语义是和宾语概念无关的。在宾语前增加标记来表示此俗语模板（即动词宾语）。
根据上述定义，本项目使用动词模板来表示动词的不同的语义。分配到相同的动词模板的动词短语，其动词具有相似的语义，而分配到不同动词模板的动词具有不同的语义。另一方面，俗语模版表示哪些短语不应被概念化。
由于每个动词短语都有若干候选动词模板，一个好的动词模板需要兼备一般性和特殊性：
一般性：希望用较少的模板个数来覆盖一个动词的所有语义。否则，抽取出的动词模板会变得琐碎。琐碎的动词模板大部分都是没意义的，因为大部分动词短语需要被概念化。
特殊性：期望产生的动词模板具备特殊性，否则结果可能会变得非常模糊，算法可以将任意宾语都概念化到某些非常高层的概念上。这样概念化的模板就会变得特别模糊而无法精确描述一个动词的语义。
一般性和特殊性显然是相互矛盾和制约的。因此如何在一般性和特殊性之间做取舍成为了构建动词模板的主要挑战。
b、非监督的最小描述长度模型
针对构建动词模板时一般性与特殊性的取舍问题，本项目使用最小描述长度（minimum description length，MDL）作为调和这两个目标的基本框架，形式化定义从动词短语中提取动词模板的过程，并计算模板提取过程中两个值：每个动词短语的动词模板分配; 每个动词的动词模板分布。
我们设计了一个基于最小描述长度的模型，它可以精确地建模模板分配中的一般性和特殊性原则。最小描述长度（MDL）是基于数据压缩程度的数据复杂度描述方法。在动词模板分配问题中，一个动词模板可以被视为一组动词短语的压缩。对于概念化的模板，如果一个模板分配是一个对于动词短语的简短描述，那么这个分配方案就抓住了底层的动词语义特征。给定动词短语集合，寻找一个模板分配函数f，使得这些动词短语的描述长度最短，即给定动词短语分布P(p)，找到模板分配f，使得描述长度L(f)最小化。
为了解决描述长度L(f)最小化问题，随后我们提出了一种基于模拟退火的算法来找寻模板分配f，并通过利用外部知识来优化俗语模板。使用模拟退火算法来找到最佳的动词模板分配f。首先选取随机的分配作为初始值（初始温度）。然后，算法生成并评估一个新的分配，如果它是一个更好的分配，用这个分配替换掉之前的分配；否则，算法以一定的概率接受这个分配（温度降低）。重复生成以及替换的步骤直到最后的β轮结果没有出现变化（终止条件）。
候选分配的生成对于模拟退火算法的效用和效率来说非常关键。通常使用直接生成法，模板分配f的最基本的单元是对一个动词短语的模板分配。直接生成方法会随机选择一个动词短语p并将它分配给一个随机的模板a。产生一个有效的模板。算法需要确保a是一个p的俗语模板，或者a是一个实体概念化模板并且ca是op的上位词。然而，因为很难达到最优状态，这个方法效率很低。对于一个动词，假设它有n个动词短语并且每一个动词短语都有平均k个候选模板。达到最优状态的最小轮数平均是kn/2 ，这在大语料库上是不可接受的。我们根据密码装备运维语料的特点，设计了一个利用典型性的生成方法，到对于每一个确定的动词词组，一些模板会因为它们更高的典型性而比其他模板更有效。这使算法倾向于将动词短语分配给具有更高典型性的动词模板。
（4）基于问题模板的检索技术
与网络搜索不同，在自然语言问题能够被精确地理解和映射到知识图谱上的结构化查询的前提下，基于知识图谱的问题检索将给出准确且简洁的结果。但这其中存在的挑战是人类可以以许多不同的方式提出同一询问。现有的解决方案存在着较大的缺陷：基于规则的实现只能理解一小部分的问题，而基于关键词或同义词的实现不能完整地理解问题。在知识图谱和机要语料库的基础上，本项目设计了一种新的问题表现形式：问题模板。基于问题模板，问题检索能够有效地支持二元事实型问题（binary factoid question，BFQ）。
a、基于知识图谱的问题模板构建
为了检索一个问题，首先需要表示这个问题。所谓表示一个问题，指的是将问题从自然语言转换为一种能够捕获问题语义和意图的计算机内部表示。对于每种内部表示，将其映射到知识图谱上的资源描述框架（RDF）进行查询。因此，运维问题检索的第一个难题就是问题内部表示设计，即“问题模板”。
本项目通过模板来理解问题，将问题表示转化为了问题到现有模板的映射。为了实现转化，我们将问题中的实体替换为它的概念。这一过程并不是直接的，而是通过一种称为概念化的机制来完成。这一机制会自动对输入进行歧义消除。概念化机制本身基于包括机要密码概念的语义网络，拥有足够的粒度来模板化所有类型的问题。此外模板的思想对于复杂问题同样起效。通过使用模板，可以将复杂问题简单地分解为一系列仅对应一个属性的简单问题。
通过用实体e的一个概念c替换e，可以从问题q中得到模板t。这一模板记为t = t(q,e,c)。一个问题可能含有多个实体，并且一个实体可能属于多个概念。系统通过上下文相关的概念化过程获得e的概念分布。当一个问题到来，首先将其解析并分解为一系列二元事实型问题（BFQ）。对于每个二元事实型问题，基于给定模板的属性分布P(p|t)，使用概率推断来寻找它的值。
b、问题模型
本项目通过机要语料库和装备运维知识图谱进行学习。由于问题检索过程的不确定性、不完整性和噪音等问题，我们为知识图谱上的问题检索技术构建了一个概率模型。需要强调的是从问题意图到知识图谱属性的不确定性。给定问题q，问题检索的目标是寻找具有最大概率的回答v。
为了说明给定问题时如何寻找目标值，我们构建了一个问题模型。从问题q开始，首先通过其分布P(e|q)生成/识别它的实体e。在得知了问题和实体之后，根据分布P(t|q,e)产生问题模板t。由于属性p仅依赖于t，系统可以通过P(p|t)来推断p。最终，给定实体e和属性p，系统通过v产生回答值P(v|e,p)。v可以被直接返回，或是嵌入一个自然语言句子作为回答。并且图11展示了问题模型，并描述了随机变量的依赖关系。

图11 问题模型
c、概率计算
（i）实体分布P(e|q)。这一分布代表从问题中辨识实体。当满足以下两个条件时，将其辨识为实体：它是问题中的一个实体；它在知识图谱中。对于第一条，使用命名实体识别NER就可以完成。对于第二条，需要检验实体的名字是否在在知识图谱中。如果存在多个候选实体，简单地给予他们一样的概率。通过q的回答优化P(e|q)的计算，已经从问题qi和回答ai中提取了实体-值对EVi。
（ii）模板分布P(t|q,e)。模板是将一个问题中的某个实体替换为实体的概念的结果。令t =t(q,e,c)表示模板t是通过将q中实体e替换为e的概念c得到的。其中P(c|q,e)是e在上下文q中的概念分布。我们直接应用的概念化方法来计算P(c|q,e)。
（iii）值（回答）分布P(v|e,p) 。对于实体e和一个关于e的属性p，在知识图谱中寻找属性指向的值v是容易的。通过知识图谱很容易就很能从中得到得到检索到其属性值。但有一些属性可能有多个指向的值，在这种情况下，模型假定所有可能的值有相同的概率。
（iv）问题的回答。在这一过程中，给定用户问题q0，系统可以通过计算p(v|q0)， 并且返回argmaxvP(v|q0)作为回答。计算过程中，系统依次枚举q0的实体、模板、属性和对应值。系统将每个问题的实体数，每个实体的概念数，每个实体-属性对的对应值数视为常量。因此在线计算过程的复杂度是O(|P|)，由对属性的枚举而产生。这里|P|指知识图谱中的属性数。
3.2 基于知识图谱的运维数据动态分析技术
针对密码装备故障预测、判断、处理等过程中存在的问题，本项目研究基于知识图谱的密码装备运维数据动态分析技术，在接入装备实时运维数据的基础上，结合运维知识图谱实现异常预警、异常检测、故障分析、故障定位、故障描述等，并提供运维辅助提示。 
（1）密码装备运维数据的动态分析规划
不同部门、不同装备、不同作战岗位的密码装备运维数据差异较大，本项目基于密码装备运维的实践，初步提出出一个运维数据分析规划。
a、密码装备运维工作上下文理解
密码装备运维工作上下文包括如下四个方面。如果缺乏这些基本面的把控，密码装备运维数据分析很容易与具体运维工作脱节。
密码装备运维的特点：保密性要求、实时性要求、装备使用人员要求、装备维护人员要求、装备管理人员要求等；
装备对象特点：密码装备是定制化的特殊装备，信息化、集成化程度高，部分装备列装数量大；
装备运维体系：当前密码装备运维体系，运维职责划分，运维成本结构，装备的主要故障模式、装备的诊断经验；
装备运维工作目标与痛点：当前的装备运维工作的目标，运维工作面临的挑战，运维工作改进的方向等。
b、密码装备资源能力分析
密码装备资源能力主要从三个方面进行分析：
（i）装备使用主体的能力分析
不同密码装备的基本特征（工作机理、结构复杂度、失效模式、信息化程度），不同使用人员的知识掌握程度都决定了运维数据分析的着力点。密码装备研制单位掌握大量装备数据，从而在数据技术和知识基础较大优势。但对装备使用、管理、维护人员，即使可以收集装备自身的状态信息，但对整个研制情况以及其他相关状态缺乏了解，运维数据分析中存在一定的限制。因此，在进行装备运维数据分析规划时候，要充分了解装备使用主体的能力，决定了运维数据分析的侧重点在什么地方。
（ii）数据资产分析
在了解相关密码装备内部结构的基础上，还应该从信息物理系统（CPS）思维的角度，去理解密码装备运维数据。
逻辑层面的融合：将密码装备处理的数据与装备控制逻辑、环境、工况、操作控制等信息融合起来，去理解密码装备的真实工作状态。
数据的场景化：通过运维数据尽可能重现装备工作场景，更直观地了解这些场景下装备运维数据的分布和走势。
技术领域常识对运维数据分析的指导：技术领域的经验或常识可以给出了在不同失效阶段，哪些表征量（电流、电压、振动、声波、温度等）是显著的。可以给出一个基本面的判断。
（iii）装备维护经验与运维数据分析
在进行运维数据分析时，对于部分问题，装备使用和维护人员已经有了相对清晰的认识，这时候不需要进行复杂的数据分析。但大部分运维数据仍具有较高的价值，装备使用和维护人员经验毕竟有限，通常不够精确（存在模糊、歧义、不完备、多个逻辑间的冲突等），通过运维数据分析，可以支持装备使用、维护人员的经验在运维数据上的验证与精化。针对典型的密码装备故障以及诊断的问题，运维信息分析检索中心存储很多故障模式、故障原因、故障因素、故障表征以及常用的诊断模版，而且FMEA（Failure mode and effectsanalysis）、FTA（Failure Tree Analysis）等经典方法对于细化具体密码装备的故障模式还是很有帮助的。
c、执行路线图
根据密码装备特点进行关键技术攻关，从模型的精度、稳定性等维度快速评价数据分析技术落地的可行性。在数据分析模型投入使用之前，跳出技术，回归到运维工作角度进行再“再思考”：
模型的应用场景：密码装备运维数据分析结果给谁用？对于预警/预测，提前量是多少？是否足够采取必要的干预动作？模型的漏报率、误报率对生产意味着什么？用户使用时倾向于的交互界面是什么？
模型所需输入的可获得性：在模型运行时，运维数据信息是否能够全部获得？
模型的适用范围，以及例外情形处理策略：如果遇到未建模情形，如何处理？模型结果的最差情况是什么？应对措施是什么？
（2）运维数据动态分析方法
本项目在经典数据分析算法和非结构化数据的基础上，构建密码装备故障和运行状态分析所需的算法库。
a、基于时序分析算法的密码装备状态预警
在很多装备运维数据分析场景中，记录之间存在着时序关系，并行化序列通常是有明确业务语义的字段。从时间的角度可以把一个序列基本分为3类：纯随机序列，这种序列无法分析；平稳非随机序列，均值和方差是常数，有成熟的模型来拟合这个序列；非平稳序列，把他们转化为平稳的序列，在按照平稳序列的算法进行拟合。由于密码装备自身和运行环境的复杂性，其运维数据中既包含平衡非随机序列，又包含非平衡序列。因此对其进行分析时，需要从这两个方面进行考虑。
（i）平衡非随机序列
目前最常用的拟合平稳序列的模型为ARMA（Autoregressive moving average）模型，全称是自回归移动平均模型，他又可以分为AR模型，MA模型和ARMA模型三大类。
自回归AR(p)模型。自回归模型描述当前值与历史值之间的关系；
移动平均MA(q)模型。移动平均模型描述的是自回归部分的误差累计；
ARMA(p,q)模型。ARMA(p,q)模型中包含了p个自回归项和q个移动平均项。当q=0时，是AR(p)模型；当p=0时，是MA(q)模型。
由于ARMA模型的综合性，在密码装备运维数据分析时，我们使用ARMA模型。
（ii）平稳序列分析
如果密码装备运维数据是非平稳序列，我们需要先将其转化为平稳序列之后再进行分析。通常使用ARIMA(Autoregressive Integrated Moving Average model)进行分析。ARIMA（p，d，q）中，AR是”自回归”，p为自回归项数；MA为”滑动平均”，q为滑动平均项数，d为使之成为平稳序列所做的差分次数（阶数）。
b、基于数据波动算法的密码装备异常检测
装备异常检测旨在发现复杂业务指标的异常波动，是智能运维工作中的重要环节。密码装备种类繁多，各业务的监控需求迥异，参数配置成本繁重，给异常检测带来了巨大的挑战。本项目在分析各种异常检测系统及其核心技术及能力的基础上，提出了基于时序分析的密码装备异常检测。在异常检测时通常会遇到三种情况，针对这三种情况我们设计了不同的异常检测算法及以适应其场景。
（i）数据小范围波动
正常数据无规律波动，但基本在一个较小的波动范围内。对于这种情况，我们使用恒定阈值解决，超过设定阈值就报警。最简单的办法是进行拒绝数监控，设定在一个单位时间内超过规定个数的拒绝就报警。然而，实际使用中会出现单点毛刺的问题，也就是一个单点超过阈值的报警。当数据来回抖动时，就会产生大量无效报警。常见方法就是通过过滤器来解决，比如设置为连续5个时刻都超过阈值才报警，但这种方法太过僵硬，中间只要有一个点回到阈值范围内就不报。为了解决这些问题，我们采用的是更加柔性的累积法：一段时间窗口内数据的均值超过阈值触发才报警。这样不但能够滤除毛刺，还考虑了原始数据的累计效应。
（ii）数据大幅波动
数据的长期波动幅度较大，但正常情况下短期的波动幅度较小，体现在图像上是一根比较光滑的曲线，不应该有突然性的上升或者下降。这类场景监控的主要思想就是环比附近的数据，检查是否存在突然的上升或者下降。对于这类情况，我们选择使用突升突降类算法，求取数据最近两个窗口的均值变化比例，将原始数据转换到了变化比例空间，在r空间上设置阈值就检测数据的突升或突降。
（iii）数据周期性波动
数据有规律地周期性波动。检测这类数据的方法是与历史数据作同比，从而发现异常。对于这种的情况，我们计算历史上相同时间窗口内数据的均值和标准差，然后计算当前点的z-score值，即当前点的值减去均值之后再除以标准差。逐点计算z值把原始数据转换到另外z空间，在z空间设置阈值发现这类异常。
c、参数配置算法
运维数据分析算法在不同时段的参数不同，工作日和节假日的参数、白天和晚上的参数都不同，人工配置数据分析算法的参数成本较高。此外，运维数据的特征会随着密码系统的架构调整发生相应的变化，算法和参数需要定期维护。因此，本项目构建参数配置算法辅助用户进行参数配置。
（i）恒定阈值算法的参数配置。
通过估算罕见数据出现的概率，即可确定曲线的阈值。把数据看作是一组独立同分布的随机变量的值，可以使用ECDF（经验累积概率分布曲线）来估计随机变量的概率分布。ECDF曲线的横轴是数据值，纵轴是概率，表达的是小于等于某数值的样本比例。通过装备使用、维护人员给定经验故障概率（ECDF的纵轴），即可查找到数值的阈值（ECDF的横轴）。通过ECDF把配置阈值转换成了配置经验故障概率。因为历史数据样本有限，ECDF与真实CDF有一定差距，直接使用容易有较多误报，通过使用补偿系数解决这个问题。
（ii）突升突降算法的参数配置
突升突降算法的参数配置也是类似的，利用空间转换公式把原始数据转换到r空间，然后在r空间上配置恒定阈值。除了r空间上的阈值之外，还有窗口大小w需要设置，不同数据曲线一般不会有太大区别，一般不自动设置。
（iii）同比算法的参数配置
同比算法的参数配置也一样，使用z-score方法把原始数据转换到z空间，就转换成了在z空间上自动配置恒定阈值参数的问题。同比天数k和窗口大小w一般也可以使用全局设置。
（3）基于细粒度分析的故障定位
运行中的密码装备时时刻刻都在产生大量的监控数据，如何运用这些数据实现密码装备故障判断和故障定位，是本项目需要解决的问题。
a、基于细粒度数据分析的故障定位
在标准的故障处理流程中，故障定位一般可以总结为以三个定位的层次，从整体到局部逐步缩小故障范围，找到故障根因：
全局问题定位：快速确认线上状态，缩小故障判定范围。为可能的止损操作提供判断依据。
细分维度定位：通过分析模块、接口、错误码等细分维度，进一步缩小问题范围，确定需要排障的目标模块、接口等。
故障根因确认：一些情况下，问题的根因需要借助除监控指标之外的数据进行分析。例如用途变更、突发事件导致的故障。
（i）单维度取值对比分析
单维度取值对比分析是一种常见的细分维度定位方式。对于同一个维度下取值数量较少的情况，可以通过多维度趋势图和饼图等可视化方式进行快速的分析，查看不同维度取值的取值状态，以及占整体比例情况。而对于维度取值数量多，且不同取值数量级差距较大情况，通过维度取值自动展开功能，分别查看每个维度的状态。
（ii）多个维度关联分析
细分维度的故障所带来的表象可能会在多个维度均有表现。通过矩阵热力图可以有效展示多维度故障数据。将需要做分析的两个维度分别作为横纵坐标，通过阶梯的阈值颜色将对应交叉维度的取值展现再坐标上。可非常直观的看到这这两个维度对于整个装备运行状态的影响情况。
（iii）嵌套维度下钻分析
类似于战区-单位-武器平台的装备部署划分，可以发现密码装备内部很多维度之间存在着层次嵌套的关系。基于这个故障定位的思路，我们提出了从整体到局部逐步分层下钻定位。提供了多维度展开报表功能支持这种下钻分析，通过点击详情，可以跳转到内部资源对应的页面，查看对应模块的详细数据来进行定位。
b、关联事件定位
通过前期调研发现，大多数密码装备故障都是由于变更操作所引起的，包括密码资源、数据、配置等变更事件，增删机器实例、执行预案等运维事件，甚至包括可能引发流量增加的突发事件。对于某些复杂的密码系统，使用和维护人员众多，事件的发生更是错综复杂。
面对这个问题，本项目设计并一种可以解决这种问题的通用性组件，事件流图。通过事件流图，快速筛选出故障的前后时间，发生或发生中的事件，每个事件通过色块的长短位置，展示了开始结束时间以及持续时长。快速判断出对应时间的故障是由于某些操作开始或操作完成引发的。
同一时间段发生的事件可能有上百甚至上千条，我们提供便捷的筛选功能来解决这一问题。通过事件类型标签，打开或关闭某一类事件的展示，优先排查最有可能的根因。同时对于每一类事件的支持细分筛选，用户可以自定义事件筛选的条件，支持多项选择、文本模糊匹配等多种方式，使得定位范围一层层缩小，最终找到问题根因。
（4）密码装备重要部件分析
为了进一步提高密码装备运维数据分析准确性和有效性，运用故障树分析法对典型密码装备组成部件（如存储、接口、处理等）预先进行分析，研究其典型故障类型、特征变量、以及故障研判等。
a、基于故障树的定性分析法
故障树分析(FTA)技术是美国贝尔电报公司的电话实验室于1962年开发的，它采用逻辑的方法，形象地进行危险的分析工作，体现了以系统工程方法研究安全问题的系统性、准确性和预测性。基于故障树的定性分析法，分析密码装备重要部件故障的发生规律及特点，找出应对该事件的可行方案，并从故障树结构上分析各基本原因事件的重要度，以便按轻重缓急分别采取对策。基于故障树的定性分析法主要任务：计算故障树的最小割集或最小径集；计算各基本事件的结构重要度；分析各事件类型的危险性，确定预防故障发生的安全保障措施。
（i）最小割集的计算方法
用基本事件代替中间事件，最后表示出顶事件。最终顶事件表示为几个基本事件的与的或。那么每个基本事件的与就是一个做小割集。满足使顶事件发生，并且最小。首先列出故障树的布尔表达式，从故障树的第一层输入事件开始，“或门’’的输入事件用逻辑加表示，“与门”的输入事件用逻辑积表示；再用第二层输入事件代替第一层，第三层输入事件代替第二层，直至故障树中全体基本事件都代完为止。在代换过程中条件与事件之间总是用逻辑积表示。布尔表达式整理后得到若干个逻辑积的逻辑和，每个逻辑积就是一个割集，然后利用布尔代数的有关运算定律化简，就可求出最小割集。
（ii）最小径集的计算方法
利用它与最小割集的对偶性，首先画出故障树的对偶树——成功树，求成功树的最小割集就是原故障树的最小径集。成功树的画法是将故障树的“与门”换成“或门”，“或门”换成“与门”，并把全部事件的发生变成不发生。经过这样变换后得到的树形就是原故障树的成功树。
（iii）结构重要度计算
在FAT中通常使用利用最小割集和最小径集判断重要度，一般遵循四条原则
一阶（单事件）最小割(径)集中基本事件结构重要度最大；
仅出现在同一个最小割(径)集中的所有基本事件结构重要度相等；
仅出现在基本事件个数相等的若干个最小割(径)集中的各基本事件结构重要度依出现次数而定；
两个基本事件出现在基本事件个数不等的若干个最小割(径)集中，其结构重要度依下列情况而定。
b、存储器故障分析
存储器是密码装备保存信息的主要部件，随着存储器芯片的密度、复杂度日益提高及广泛应用，其稳定性、可用性对密码装备的正常运行起着关键作用。存储器的功能模型 ，存储器的故障模 式主要表现为3类，地址解码器故障、读写逻辑模块故障和存储单元阵列故障。
（i）地址解码器故障
地址译码故障指地址译码逻辑中产生的故障，主要表现为 4 种形式:某个确定的地址，没有相应的存储单元与其对应；对于某个确定的存储单元，找不到一个地址选中它；对于某一确定的地址，能同时选中两个或多个存储单元；多个地址同时选中一个存储单元。在实际的存储器中，上述 4类故障并非总是独立存在，而是相互交织在一起的。
（ii）读写逻辑模块故障
读写逻辑模块故障主要表现为在读写电路中，某些检测放大器的读 出或者写入驱动器的逻辑部分可能产生开路、短路或者I/O固定的故障，在写电路的数据线之间存在交叉祸合干扰。
（iii）存储单元阵列故障
由于存储单元阵列是存储器内结构最为复杂的一个模块，因此出现故障的概率最大，故障的类型也最为繁多，主要是由存储器单元内的数据线开路、短路以及串扰所引起。基于以上各模块的故障表现形式，又由于地址译码故障和读写逻辑故障可以等效映射为存储器单元阵列故障，可把存储器故障简化为下列 4 种功能故障：固定故障、转换故障、耦合故障、相邻矢量敏化故障。
c、数据接口故障
很多情况下，密码装备或密码模块是安装在宿主系统中工作的，为了与宿主系统进行通信，必须使用标准数据接口。这些标准数据接口有信号线少、协议简单、传输速度快等特点，但也存出现故障的可能性，从而导致数据传输的各种出错情况发生。
（i）SPR设定错误
在密码装备（模块）器件时钟频率与宿主器件时钟频率不一致时，如果同步时钟SCK的速率设得太快，将导致接收到的数据不正确。
（ii）模式错误
模式错误是密码装备（模块）主从模式选择的设置和引脚的连接不一致。器件工作在主模式的时候，它的片选信号引脚必须接高电平。在发送数据的过程中，如果它的从高电平跳至低电平，在下降沿模块将检测到模式错误。
（iii）溢出错误
对于密码装备数据接口的溢出错误，是在连续传输多个数据时，后一个数据覆盖了前一个数据而产生的错误。状态标志表示的是数据传输正在进行中，它对数据的传输有较大的影响。在主器件连续发送两个数据的时候将有可能导致从器件的传输标志和主器件下一个数据的传输标志相重叠，第一个收到的数据必然被覆盖，第二个数据的收/发也必然出错，产生溢出错误。
（iv）偏移错误
密码装备数据接口一般要求从器件先工作，然后主器件才开始发送数据。有时在主器件往外发送数据的过程中，从器件才开始工作，主器件的SPIF和从器件的SPIF会发生重叠，数据发生了错位。
4. 密码装备智能化辅助组件
4.2 基于边缘计算的运维问题弹性检索技术
密码装备运算和存储资源有限，当大量用户进行问题检索时，运维信息分析检索中心容易造成通信阻塞。在前期调研过程中发现，简单运维问题占所有运维问题五层左右。对于这些简单问题，可以通过密码装备自身的存储和处理能力进行知识检索。一方面可以减轻维信息分析检索中心运算和网络负载，另一方面可以提高问题分析检索时效性。本项目研究基于边缘计算的运维问题弹性检索技术。通过该技术对密码装备使用维护人员的提出运维问题进行初步分析，在本地运维知识库中检索并返回结果；若本地库中没有适合的答案，将运维问题中未检索到的信息发送到运维信息分析检索中心，随后将中心返回的答案与本地检索到的答案进行整合并反馈给用户。
（1）边缘计算架构
云边协同的联合式网络结构一般可以分为终端层、边缘计算层和云计算层，如图12所示。各层可以进行层间及跨层通信，各层的组成决定了层级的计算和存储能力，从而决定了各个层级的功能。

图12 边缘计算架构
a、终端层
终端层由各种物联网设备（如传感器、RFID标签、摄像头、智能手机等）组成，主要完成收集原始数据并上报的功能。在终端层中，只考虑各种物联网设备的感知能力，而不考虑它们的计算能力。终端层的数十亿台物联网设备源源不断地收集各类数据，以事件源的形式作为应用服务的输入。
b、边缘计算层
边缘计算层是由网络边缘节点构成的，广泛分布在终端设备与计算中心之间，它可以是智能终端设备本身，例如智能手环、智能摄像头等，也可以被部署在网络连接中，例如网关、路由器等。显然，边缘节点的计算和存储资源是差别很大的，并且边缘节点的资源是动态变化的，例如智能手环的可使用资源是随着人的使用情况动态变化的。因此，如何在动态的网络拓扑中对计算任务进行分配和调度是值得研究的问题。边缘计算层通过合理部署和调配网络边缘侧的计算和存储能力，实现基础服务响应。
c、云计算层
在云边计算的联合式服务中，云计算仍然是最强大的数据处理中心，边缘计算层的上报数据将在云计算中心进行永久性存储，边缘计算层无法处理的分析任务和综合全局信息的处理任务也仍然需要在云计算中心完成。除此之外，云计算中心还可以根据网络资源分布动态调整边缘计算层的部署策略和算法。
（2）基于Apache Edgent的密码装备运维问题弹性检索技术
Apache Edgent 是一个开源的编程模型和微内核风格的边缘计算框架。在运行时，它可以被嵌入到密码装备上，用于提供对数据的本地实时分析。基于这个框架，本项目设计了密码装备运维问题弹性检索技术，通过Edgent实现对来自本地密码装备的数据进行高效的分析处理。为加速边缘计算应用在问题检索处理上的开发过程，我们设计了一个开发模型和并使用Apache Edgent 的API实现问题检索处理流程。密码装备运维问题弹性检索开发模型如图13所示，由提供者、拓扑、运维问题导入、问题分析处理、后端系统5个组件组成。

图13 运维问题弹性检索开发模型
a、提供者
一个提供者对象包含了有关问题检索应用程序的运行方式和位置信息，并具有创建和执行拓扑的功能
b、拓扑
拓扑是一个容器，描述运维问题的格式和如何分析运维问题中的关键信息。问题的输入、回答和导出至运维信息分析检索中心的过程都记录在拓扑中。
c、运维问题导入
Edgent提供了多种连接器以不同方式接入数据源，我们通过其数据流接口导入文本形式的运维问题。
d、问题流分析处理
通过Edgent提供一系列功能性的API，实现对密码装备运维问题的的变换、分析、检索、聚合等操作。
e、后端系统
由于密码装备的资源稀缺，无法支撑复杂问题的检索任务。用户可以使用连接器，通过MQTT和Apache Kafka方式连接至后端运维信息分析检索中心进一步对运维问题做处理。
该模型可部署于密码装备或密码模块中，实时检索来自用户的问题，减少了上传至后端运维信息分析检索中心的数据量，并降低了传输成本。基于Edgent系统提供的丰富数据处理API，切合问题检索应用中数据处理的实际需求，降低应用的开发难度并加速开发过程。
4.3 故障可视化展示和智能化维护操作技术
（2）基于Ansible的智能化运维操作
Ansible是一个开源配置管理工具，可以自动化完成网络设备的初始化配置、安全基线配置、更新和打补丁、安装软件包等日常运维任务。Ansible架构相对比较简单，仅需通过SSH连接客户机执行任务，对于资源较少的密码装备较为适合。本项目以Ansible为基础，构建适用于密码装备的模块，根据密码装备运维信息分析检索中心提供的故障信息，结合知识图谱中的运维知识，实现密码装备的智能化运维操作。
a、系统架构
密码装备智能化运维架构如图14所示，Ansible的与节点有关的重要术语包括控制节点，受管节点，清单和主机文件：

图14 系统架构
运算核心部件：以Ansible核心程序为基础，主要完成系统的调度与控制；
装备管理部件：维护由系统管理的密码装备的信息，包括端口、密码、ip等；
模块管理部件：为每台密码装备维护一个YAML格式的文件，该文件指示密码装备需要调用哪些模块来完成的功能；
核心模块：主要操作是通过调用Ansible核心模块来完成管理任务；
适应性模块：由于密码装备有些特殊需求，核心模块无法完成其功能，我们定义了多个适应性模块进行密码装备管理；
知识图谱：存储运维相关知识数据，为日常运维操作和故障处理提供支撑；
连接插件：实现密码装备与运维系统之间的通信。
b、运维任务执行
（i）任务执行模式
系统对被管理密码装备的操作方式可分为两类，即ad-hoc和playbook：
点对点模式，使用单个模块，支持批量执行单条命令。根据知识图谱中的检索内容构建一条ad-hoc 快速输入的命令，推送至密码装备执行；
剧本模式，根据故障信息检索知识图谱中的相关内容，通过多个任务集合完成一组故障处置操作，可以简单地把剧本模式理解为通过组合多条点对点模式操作的配置文件。
（ii）任务执行流程
系统运行时，首先读取装备管理部件生成的配置，根据规则获取被管理密码装备列表，并行的在这些密码装备中执行配置的任务，最后等待执行返回的结果。具体过程如下：
加载系统自身的配置文件；
查找对应的密码装备的配置文件，找到要执行的密码装备或者装备组；
加载系统自身的模块文件；
根据模块接收的运维需求检索知识图谱，找到相关内容并整理成运维操作任务或任务集合；
根据运维操作任务或任务集合，生成对应的临时PY文件，并将该文件传输至密码装备；
对应密码装备执行传送过来的PY文件并返回结果；
删除临时py文件，退出；
（三）创新点
2、密码装备运维知识图谱构建与补全技术
由于密码装备运维知识涉及面广、复杂程度高、关联性强、更新速度快等原因，使得密码装备运维知识图谱构建与补全的难度增大。现有的知识图谱构建技术无法将运维知识库中的实体关联关系同时识别出来，存在识别速度慢、召回率较低等问题。而现有的知识图谱补全技术无法有效描述新旧实体关系之间的固有相关性，存在时间复杂度高、参数数量大等问题，无法有效地应用于密码装备运维知识图谱构建与补全工作中。因此本项目在收集装备实现技术、装备常见故障、装备维护方法、装备检测手段等装备运维知识的基础上，提出了密码装备运维知识图谱构建与补全技术。运用基于神经网络的命名实体识别和关系分类技术，构建联合神经抽取模型实现多个三元组同时提取，通过实体间关系链接成网状的知识知识图谱。构建传递关系嵌入模型，运用共享的识别机制实现嵌入空间转换，构建新实体与原图中实体的关系，完成知识图谱补全。
3、基于知识图谱的装备故障预警与检测技术
随着信息技术的发展，装备故障预警与检测技术也从传统的基于信号处理方法和基于解析模型方法发展到基于知识分析的方法。然而目前装备故障预警与检测主流技术主要还是局限于专家系统、知识规则、故障树、阈值分析等方法。随着密码装备体系的不断发展，装备复杂程度不断提高，原有的故障分析技术已经不能满足装备运维保障的需求，因此本项目提出了基于知识图谱的装备故障预警与检测技术。运用运维数据智能分析的动态规划方法，实现业务上下文理解、运算资源能力分析、检测模式与技术方案设计、执行路线图规划等内容。构建装备故障和运行状态分析所需的知识库、参数库和算法库，对典型密码装备组成部件，运用基于知识图谱的故障树分析技术，实现异常预警、异常检测、故障分析、故障定位和故障描述，并提供运维辅助提示。
5、基于知识图谱的智能化运维操作技术
由于密码装备数量多、使用维护人员水平参差不齐、装备故障处理流程影响因素较多，单纯以人工方式进行密码装备的运维操作容易出现偏差，提出基于脚本推送的智能化运维操作技术，辅助装备使用维护人员进行进行密码装备的日常维护和故障处置。深入分析密码装备组成结构、实现原理和工作流程，在Ansible配置管理架构的基础上，构建适用于密码装备的运维操作模块，结合Ansible核心模块，智能化生成运维操作脚本，实现密码装备的初始配置、安全配置、系统更新等日常运维操作。在装备运维信息分析检索中心和边缘计算层提供的故障信息基础上，结合运维知识图谱中的故障处理方式，运用多种任务模式组合维护操作、优化运维流程，针对装备故障信息构建合理的运维配置脚本PY文件，并推送至故障装备，实现密码装备的智能化运维操作。

四、研究进度、成果形式及应用方向
（一）研究进度
（二）成果形式
1.技术文件类成果
2.实物类成果
（三）应用方向
五、研究条件及保障措施
（一）本单位研究基础

（二）人才条件
（三）研究条件
（四）外协条件
（五）管理保障
六、经费概算
重点阐述课题研究所需经费的概算情况，并按有关经费管理最新规定一并提交经费概算申报书审查。
（一）按研究内容分解经费
研究经费为50万元。其中：
密码装备运维信息平台研究经费为30万元；
密码装备运维信息分析检索中心研究经费为20万元；

（二）按年度分解经费



填报其他注意事项：
1.页面设置：全篇A4幅面，上、下页边距3.0cm，左、右页边距2.6cm，装订线0cm，页眉1.5cm，页脚2.0cm；页码居中。
2、项目建议书首页应有申报单位盖章，项目负责人签字；正文前应附辑要页，主要内容包括：研究内容技术条目、关键考核指标、主要技术创新点、研究进度、主要成果形式、申请经费（配套经费）、研究单位等，作为项目评审对比的重要依据。
3.正文格式：所有行间距为固定值25磅，对齐网格，首行缩进2字符。一级标题黑体三号字；二级标题楷体三号字，加粗；三级及四级标题均为仿宋_GB2312四号字，加粗；正文为仿宋_GB2312四号字。标题编号次序为：二→（二）→2→2.1→2.1.1→（1）→①……
4.页码：目录为ⅠⅡ……，正文为1 2……，居中对齐，字体为Times New Roman五号字。
5.图、表编号：二级标题-序号，如图3-3、表2-2等。
6.表格：外框宽度为1 1/2磅；表头黑体小四，其他仿宋_GB2312小四；表内行距为23磅。
7.成文后封面、目录页和标识页单面打印，其余双面打印，删除所有红色标注和说明。









2022年度检测报告



目录
一、 项目目标和范围	1
1. 项目背景：	1
2. 项目目标：	7
3. 项目内容：	9
1. 密码装备运维信息平台	9
2. 密码装备运维信息分析检索中心	9
3. 密码装备智能化辅助组件	11
二、 项目进展和时间表	12
1. 项目进展：	12
2. 项目开发计划时间表：	12
三、 问题、挑战和解决方案	14
A. 问题：	14
密码装备运维信息平台	14
挑战：	14
运维知识图谱构建与补全技术	14
解决方案：	14
B. 问题：	20
挑战：	20
解决方案：	21
挑战：	31
解决方案：	31
C. 问题：	42
挑战：	42
解决方案：	42
四、 风险和变更管理	46
1. 风险：	46
2. 变更管理：	47
五、 建议	47

项目目标和范围
项目背景：
1.1 知识图谱
知识图谱（Knowledge Graph）的概念由谷歌2012 年正式提出，旨在实现更智能的搜索引擎，并且于2013 年以后开始在学术界和业界普及，并在智能问答、情报分析、反欺诈等应用中发挥重要作用。从构建过程是否依赖自动抽取技术来看，知识图谱大致可分为两类。一类是早期的本体，如WordNet、CYC、HowNet等。这类知识图谱大多由专业人士手工构建，规模较小；但其知识质量高，能够确保准确性与完整性。另一类是从开放的互联网信息中自动抽取实体与关系构建的，如YAGO、DBPedia、ConceptNet等。这类知识图谱规模大；但因其数据源的复杂多样及自动抽取算法的不完全准确，可能会有大量不完整信息、噪声等。近年来，随着知识图谱成为学界及商界的热点，国内也重视知识图谱的研究发展，中文的知识图谱纷纷涌现，如OpenKG、CN-DBpedia、zhishi.me等。
知识图谱也可分为通用知识图谱与行业知识图谱两类。通用知识图谱(generic knowledge graph) 描述全面的常识性的知识，主要应用于语义搜索，对知识的准确度要求不高，如百科类的DBpedia、zhishi.me 和语言学类的WordNet、大词林等。通用知识图谱强调知识的广度，大多采用自底向上的方式构建，侧重实体层的扩充，因此也导致其大部分较难构建规范的本体层。行业知识图谱(domain knowledge graph) 面向特定领域，能够进行知识推理，实现辅助分析及决策支持等功能，如GeoNames、中医医案知识图谱等。行业知识图谱对专业性与准确度的要求高，这也要求其必须有严格的本体层模式，通常采用自底向上与自顶向下结合的方式进行构建。通用知识图谱可作为行业知识图谱的构建基础，行业知识图谱也可在构建完成后补充融合至通用知识图谱中。一般来说，通用知识图谱的使用率更高，是现有知识图谱的基础; 而行业知识图谱则推进了知识图谱技术融入生活。
1.2 语义解析
语义解析semantic parsing是一种相对于语法分析级别上更为高层的分析。具体来说，通常指的是将自然语言转换成为机器可以理解的意义表示。这种机器可以理解的意义表示，通常指逻辑形式（Logic Forms）。通常运用各种机器学习方法，挖掘并学习文本、图片、信息等对象的深层次含义，并生了一些让扩展项目，如文本语义分析、图片语义理解、语义索引、短串语义关联、用户广告语义匹配等。
对于一段文本后，通常情况下，首先要做分词。分词的方法一般有如下几种：基于字符串匹配的分词方法，按照不同的扫描方式，逐个查找词库进行分词，可细分为：正向最大匹配，反向最大匹配，双向最大匹配，最小切分(即最短路径)；总之就是各种不同的启发规则；全切分方法，首先切分出与词库匹配的所有可能的词，再运用统计语言模型决定最优的切分结果，可以解决分词中的歧义问题；由字构词的分词方法，可以理解为字的分类问题，也就是自然语言处理中的sequence labeling问题，通常做法里利用HMM，MAXENT，MEMM，CRF等预测文本串每个字的标识。
目前较为突出的语义解析研究主要包括：Xiao等人提出的结合符号先验背景和 RNN 模型的主义分析技术，该技术面向 semantic parsing 本身，运用well-formedness 逻辑形式并标注语义体系，但其需要面向 semantic parsing 本身标注体系。Chen等人提出利用强化学习，面向Q-A pairs的技术，该技术不需要中间逻辑形式的标注，利用神经符号机器算法，面向问题的答案，因而没有中间的 Logic Forms形式。Percy等人发现为输入问题提供的 Logic Forms，与使用人工规则得到的句子中与查询问题很相似，因而先利用确定性生成一个候选的逻辑形式集合，随后使用 paraphrase 模型去挑选最合适的解析。Yih等人探讨了 semantic parser中间标注的价值，并与从 Q-A pairs 学习的对比，并构建了 WEBQSP 的数据从而实现主义解析。
1.3 智能问答
问答技术是一个用自然语言与人们进行互动的计算机技术。问答技术已经广泛应用到社会各个方面，其作为整个计算机领域重点的研究领域，引起了人们的高度重视。随着机器学习、强化学习，尤其是深度学习等技术的革命性发展给智能问答带来了长足的进步。
问答技术的复杂程度可以从三个维度来衡量：问题维度，可以分为限定领域(指系统能接受的问题只能是关于某个特定的主题)的问答技术和开放领域 (指系统能接受的问题可以是任意主题的问题，没有任何限制)的问答技术；数据维度，可以分为处理结构数据(或半结构数据)的问答技术 (例如关系数据)和处理无结构数据(例如文本)的问答技术；答案维度，可以分为抽取式 (所谓抽取，是指答案是从数据或者文本中抽取出来的，例如文本片段)问答技术和产生式(所谓产生，是指答案是通过一定的规则或者内在的编码生成出来的，例如对话)问答技术。
问答技术中问题分析主要是用于分析和理解问题，从而协助后续的检索和答案提取，一般具有问句分类、问句主题提取两个主要研究内容：
问句分类是根据问句的答案类型对问句进行分类，其任务就是把一个问句分类到已有的分类结构中一个或几个类(软分类)。问句分类的方法主要使用模式匹配方法和机器学习方法。Zhang 等人在使用表层n-gram特征，在K最近邻算法、决策树、朴素贝叶斯等分类方法中，支持向量 机(support vector machine，SVM)效果较好。Li 等人采用更深层次的特征，包括语法(词性、词组)和 语义(解释、近义词)信息，首先顶层分类器把问句归 类在一个大类别中，然后根据该大类内的分类器把它分到小类别中，分类效果较好。
问句主题，在问答技术中需要选择问题中的一些关键词作为查询词，很多时候会调整查询，为了保证高相关性，查询词都应该包含问题的主题。一般通过对问题进行句法分析，获得问题的中心词，然后选取中心词及其修饰词作为问题的主题。因此，如何选取合适的中心词是该类方法的核心。Cui 等人提出了一种基于外部资源选取主题的方法。它利用搜索引擎返回的结果去计算各种词组合的点互信息，如 果词组合的点互信息高于某个阈值就被认为是词 组，那么词组的序列就被认为是问题的主题。
1.4 智能检索
智能检索以文献和检索词的相关度为基础，综合考查文献的重要性等指标，对检索结果进行排序，以提供更高的检索效率。智能检索的结果排序同时考虑相关性和重要性，相关性采用各字段加权混合索引，相关性分析更准确，重要性指通过对文献来源权威性分析和引用关系分析等实现对文献质量的评价，这样的结果排序更加准确，更能将与用户愿望最相关的文献排到最前面，提高检索效率。
对于智能问答系统中的智能检索技术来说，找到和问题类似的问题，然后返回答案或者相似问题列表是首要解决问题，其中构建适合Q-A pairs的检索模型和Q-A pairs的相似性判断是最关键的两个问题。Duan 等人采用基于最小描述长度(minimum description length，MDL)的树剪切(tree cut)模型去识别问题的主题和焦点，然后利用语言模型的方法去 匹配问题主题和焦点来缩小检索范围，提高检索精度。Xue 等人构建一个相似问题的集合，随后训练一个翻译模型，对问题部分采用基于翻译模 型的语言模型，对答案部分采用 Query Likelihood 模型，这两者合并在一起构成了一个检索模型。Bian 等人发现文本特征和社区特征对于检索效果的影响很大; 同时，其他特征也能提高训练排序函数的效果，因此提出了对于事实类型问题的检索框架，属于半监督的方法。Wang 等人通过类比推理技术去建模问题与答案之间的关系，提出了对于答案的排序方法，该方法的平均排序倒数(mean reciprocal rank，MRR)值能达到78%，比采用朴素贝叶斯和 Cosine的方法效果都好。
除了从传统的信息检索的角度来看待信息检索部分，还可以从问题对相似性的角度来看这个问题。其实传统的信息检索角度，其本质也是把相似的问题检索出来。首先把与给定问题相似的问题找到，然后再在相似的问题中寻找最好的答案。由于syntactic tree 特征对于问题的相似性比较具有明显的价值，Wang 等人通过将每一个问题句子都生成其 syntactic tree 的形式，然后比较问题的 syntactic tree 的相似性来判断问题的相似性。Stiff等人的研究依据“如果两个问题的答案相似，那么这两个问题是相似的”的原则，把问题的所有答案作为单一文档，然后用语言模型去计算答案之间的相似性，从而去判断两个问题之间的相似性。Akiyoshi 等人采用简单的基于关键字的检索方法去缩小搜索范围，然后再利用 BBS 文章的结构特征(即thread 结构，一个 thread 包含一个问题网页和一组答案网页)，基于这种结构特征，计算一篇问题文章和商业搜索引擎返回的词之间的相关性，最后来判断其相似性。 
1.5 故障分析
所谓故障，广义的讲，可以理解为任何系统的异常现象，使系统表现出所不期望的特性。装备运维技术主要包含三方面的内容：故障检测、故障隔离、故障辨识。所谓故障检测是判断系统中是否发生了故障及检测出故障发生的时刻；故障隔离就是在检测出故障后确定故障的位置和类型；故障辨识是指在分离出故障后确定故障的大小和时变特性。从本质上讲，装备运维技术是一个模式分类与识别问题，即把系统的运行状态分为正常和异常两类，而异常的信号样本究竟又属于哪种故障，这又属于一个模式识别的问题。近几十年来，装备运维技术得到了深入广泛的研究，提出了众多可行的方法。
现有的故障分析方法，概括起来可分为三大类：基于信号处理的方法、基于解析模型的方法和基于知识的分析方法。所谓基于信号处理的方法，通常是利用信号模型，如相关函数、频谱、自回归滑动平均、小波变换等，直接分析可测信号，提取诸如方差、幅值、频率等特征值，从而检测出故障。所谓基于解析模型的方法，是在明了分析对象数学模型的基础上，按一定的数学方法对被测信息进行处理分析，它可分为状态估计法、等价空间法和参数估计法。近年来，人工智能及计算机技术的飞速发展，为装备运维技术提供了新的理论基础，产生了基于知识的装备运维方法，此方法由于不需要对象的精确数学模型，而且具有某些“智能”特性，因此是一种很有生命力的方法。基于知识的装备运维方法主要可以分为：专家系统装备运维方法；模糊装备运维方法；故障树装备运维方法；神经网络装备运维方法和数据融合装备运维方法等。

项目目标：
系统具备-基于神经网络与共享识别机制的装备运维知识图谱构建与补全功能
针对密码装备运维知识涉及面广、复杂程度高、关联性强、更新速度快等问题，提出了基于神经网络与共享识别机制的装备运维知识图谱构建与补全技术。通过图的形式客观描述密码装备运维中的事实，将装备运维知识转化为语义网络，便于运维信息的分析与检索。本项目提出了一种新的多三元组联合提取模型，在统一的标签方案下将实体和关系识别问题转化为标签问题，并利用端到端模型来解决问题。在实体和关系抽取时，设计一个三维标签并使用该标签描述每个单词的特征，基于该标签，运用Bi-LSTM神经网络算法学习实体特征，并通过CRF生成带有标记序列单词的句子抽取实体关系，完成知识图谱构建。基于开放世界和共享识别机制的抽取不在知识库中的实体，运用内容屏蔽技术消除原图谱中的噪声，运用目标融合技术实现信息提纯，运用语义平均技术实现新实体的编码与计算，最终将合理的实体及其关系加入图谱，实现知识图谱补全。
2、系统具备-基于知识图谱与边缘计算的装备故障检测与运维问题检索功能
针对密码装备运维信息分析检索中心无法同时实现所有装备的故障检测和问题检索，而单台密码装备资源有限，分析检索复杂运维信息较为困难等问题，提出了基于知识图谱与边缘计算的装备故障检测与运维问题检索技术。本项目基于边缘计算技术，以装备运维信息分析检索中心为基础，密码装备本地边缘计算层为支撑，构建运维信息弹性分析检索集群。通过运维数据智能分析的动态规划方法，将时序分析算法、数据波动分析算法、参数配置算法等故障分析算法动态分布于装备的本地边缘计算层中，基于边缘计算层中有针对性的运维知识图谱和实时采集的装备运维数据，实现装备故障初步预警与检测，随后根据将故障信息上传运维信息分析检索中心，综合运用故障树分析技术与知识图谱检索技术，实现密码装备异常预警、异常检测、故障分析、故障定位、故障描述等。通过预置模型、模型训练、问题集成、模型部署等技术，构建装备运维问题检索架构，运用全文搜索、结构化搜索、搜索分析等图谱检索技术，实现运维问题实时弹性搜索，根据运维信息分析检索中心和边缘计算层的运算能力，动态部署然语言处理、意图识别、实体链指、关系识别、查询语句拼装、返回结果选择等技术，通过查询不同层级上的知识图谱向装备使用和维护人员返回最终答案。
3、系统具备-基于知识图谱与配置脚本推送的装备智能维护操作功能
针对密码装备使用维护人员技术水平参差不齐，装备故障处理流程不熟悉等问题，提出基于知识图谱与配置脚本推送的装备智能维护操作技术。根据运维信息分析检索中心和边缘计算层提供的故障信息和运维提示，检索运维知识图谱中的运维知识，构建运维配置脚本，实现智能化运维操作。在深入分析故障装备运维操作流程和Ansible配置管理架构的基础上，构建适用于密码装备的运维操作模块，结合Ansible核心模块，实现密码装备的初始配置、安全配置、系统更新等日常运维操作，运用多种任务模式组合维护操作、优化运维流程，结合运维知识图谱中的故障处理方式，构建合理的运维配置脚本PY文件，并推送至故障装备，实现密码装备的智能化运维操作。
项目内容：
1. 密码装备运维信息平台
密码装备运维信息平台，提供运维知识和运维数据的收集和聚合处理，通过数据关联分析准确全面定位装备故障，提升问题检索效能和决策建议满意度，为智能预警、问题检索、科学决策提供数据支撑。
2. 密码装备运维信息分析检索中心
密码装备运维信息分析检索中心相当于人类“大脑”的功能，用于对运维问题和事件进行分析、处理，并给出检索结果和决策建议。密码装备运维信息分析检索中心利用人工智能算法，根据具体的运维场景、业务规则、以往经验等构建的数据分析平台，具有可重用、可演进、可了解的特性。密码装备运维信息分析检索中心的实现主要应用到了两种技术，分别是基于运维知识图谱的问题检索和基于运维数据的动态分析。
 
3. 密码装备智能化辅助组件
智能化辅助组件是部署于密码密码之中的运维工具，对密码装备实施状态监控、环境监测、故障预警、故障展示、问题检索、运行控制等系列操作。组件既具备运维数据直接采集功能，又具备运维问题初步查询和结果反馈功能，还具备故障预警、展示和简单维护功能，保障密码装备持续、安全、稳定、可靠地运行。
项目进展和时间表
项目进展：
密码装备运维信息平台									  （进行中）
运维监测							                 （已完成）
检测异常
异常警告
算法分析图
参数算法管理  								        （已完成）
知识图谱    	                                （进行中）
检索                                         （未开始）
密码装备运维信息分析检索中心                    （未开始）
密码装备智能化辅助组件                          （未开始）

项目开发计划时间表：
立项阶段（2-4周）
确定项目目标、范围和利益相关者。
制定项目计划和预算。
确定项目团队和分配角色。
需求收集阶段（4-8周）
收集和文档化业务需求和技术需求。
定义产品特性和功能。
评估可行性和风险。
设计阶段（6-12周）
开发架构设计和详细设计。
验证和调整设计方案。
创建原型并进行用户测试。
开发阶段（12-24周）
编写代码和进行单元测试。
进行集成测试和系统测试。
不断地迭代和优化代码。
测试阶段（4-8周）
进行回归测试和负载测试。
识别和修复缺陷。
进行用户验收测试。
部署阶段（2-4周）
准备生产环境。
将应用程序部署到生产环境。
进行最终测试并解决问题。
维护阶段（无限期）
提供技术支持和维护服务。
解决生产环境中的问题并更新应用程序。
根据需要添加新特性和功能。
问题、挑战和解决方案
问题：
     密码装备运维信息平台
挑战：
    运维知识图谱构建与补全技术
密码装备运维知识图谱本质上是一种语义网络，用图的形式客观描述装备运维中的事实。密码装备运维知识图谱中的节点表示装备运维的基本概念和具体事物；边表示运维事物的关系和属性，运维事物的内部特征用属性来表示，外部联系用关系来表示。
解决方案：
（1）基于神经网络的知识图谱构建技术
知识图谱的构建方法主要有两种：一种是自底而上的构建方法和自顶而下的构建方法。本项目采用自底向上的构建方法框架如下图9所示，从开放链接的数据源中提取实体、属性和关系，加入到知识图谱的数据层；然后将这些知识要素进行归纳组织，逐步往上抽象为概念，最后形成模式层。

图9 知识图谱构建框架
a、数据获取（Data Acquisition）
数据获取是建立知识图谱的第一步。密码装备运维知识图谱数据源按来源渠道的不同可分为两种：一种是密码装备运维业务本身的数据，这部分数据包含在机要部门内部数据库中（如装备型谱数据、装备技术指标数据等），以结构化或半结构化的方式在机要部门内部存储，是一种非公开的数据；另一种是公开或半公开的数据，这些数据通常是以书籍、教材、资料等形式存在，存在于机要部门或军队其他部门内部，是非结构化的数据。构建密码装备知识图谱最重要的问题就是获取这些数据，对于公开或半公开的数据，可以通过借阅、学习、培训等方式获取；对于非公开数据，一方面通过军办机要局协调数据拥有单位提供，另一方面通过项目合作、实地调研、专家协商等方式获取。
b、信息抽取（Information Extraction）
信息抽取的关键问题是如何从异构密码装备维护数据源中自动抽取信息得到候选知识单元。对于结构化和半结构化装备运维数据只需要简单预处理即可以作为后续系统的输入，对于非结构化一般需要借助于自然语言处理等技术来提取出结构化信息，这也是本项目的难点之一，涉及的关键技术包括实体抽取、关系抽取和属性抽取。
（i）实体抽取（Entity Extraction）
实体抽取又称为命名实体识别（NER），是指从文本数据集中自动识别出命名实体，其目的就是建立知识图谱中的“节点”。实体抽取的质量（准确率和召回率）对后续的知识获取效率和质量影响极大，是信息抽取中最为基础和关键的部分。密码装备运维实体的类型主要包括三大类七小类：实体类（包括装备名，技术名，资源名），时间类（日期，时间），数字类（数值、百分比）。
本项目提出了一种新的多三元组联合提取模型，将实体抽取转化为标签问题，在统一的标签方案下将实体和关系识别问题转化为标签问题，并利用端到端模型来解决问题。在实体抽取时，设计一个三维标签（位置、类型、关系），并使用该标签来描述每个单词的特征。随后基于该标签，运用Bi-LSTM神经网络算法学习实体特征，并通过CRF生成带有标记序列单词的句子。
（ii）关系抽取（Relation Extraction）
文本语料经过实体抽取之后得到的是一系列离散的命名实体（节点），为了得到语义信息，还需要从相关的语料中提取出实体之间的关联关系（边），才能将多个实体或概念联系起来，形成网状的知识结构。研究关系抽取技术，就是研究如何解决从文本语料中抽取实体间的关系。
在前面带有标记序列单词的句子中，只有实体才能参与关系识别，我们利用外部标签无关嵌入来描述实体间关系特征。通过实体和关系形成的三元组（eh; et; r）满足问题转化的约束eh + r≈et。为了防止Bi-LSTM算法产生的实体特征偏差，我们还制定了两个额外的约束，并对其进行检测。最后为了更好地训练抽取模型，引入了一个负抽样策略来实现一个基于排序的关系提取器。
（iii）属性抽取（Attribute Extraction）
属性抽取的目标是从不同信息源中采集特定实体的属性信息，从而完成对实体属性的完整勾画，如针对具体装备，可以从装备资料库中获取多源（异构）的数据，从中得到其型号、结构、技术参数等信息。
c、知识融合（Knowledge Fusion）
经由信息抽取之后的信息单元间的关系是扁平化的，缺乏层次性和逻辑性，同时存在大量冗余甚至错误的信息碎片。通过知识融合将多个知识库中的知识进行整合，形成一个知识库的过程，在这个过程中，主要关键技术包含指代消解、实体消歧、实体链接。不同密码装备知识库收集知识的侧重点不同，对于同一个实体，有的知识库可能侧重于其本身某个方面的描述，有的知识库可能侧重于描述实体与其它实体的关系，知识融合的目的就是将不同知识库对实体的描述进行整合，从而获得实体的完整描述。
（i）指代消解（Coreference Resolution）
密码装备知识图谱中的指代消解过程中主要完成两个工作，指示性指代和同指。
指示性指代 (也称回指)，是当前的指代词与上文出现的词、短语或句子（句群）存在密切的语义关联性，它指向另一个词（称为先行词），该指代词的解释依赖于先行词的解释，具有非对称性和非传递性。
同指 (也称共指)，是两个名词(包括代名词、名词短语)指向真实世界中的同一参照体，这种指代脱离上下文仍然成立。共指消解技术主要用于解决多个指称对应同一实体对象的问题。
（ii）实体消歧（Entity Disambiguation）
实体消歧是专门用于解决同名实体产生歧义问题的技术，通过实体消歧，就可以根据当前的语境，准确建立实体链接。在不同的密码装备运维知识库中，有些实体写法不一样，但指向同一个实体，比如“加解密”表示通过算法进行加解密运算，而“加脱密”同样也是同一个意思。这种情况下，实体消歧可以减少实体的种类，降低图谱的稀疏性。在本项目中实体消歧主要采用机器学习中的聚类算法来实现，将其看做基于上下文的分类问题。
（iii）实体链接（Entity Linking）
实体链接（entity linking）是指对于从非结构化数据（如文本）或半结构化数据（如表格）中抽取得到的实体对象，将其链接到知识库中对应的正确实体对象的操作。其基本思想是首先根据给定的实体指称项，从知识库中选出一组候选实体对象，然后通过相似度计算将指称项链接到正确的实体对象。本项目提出了一种新的嵌入模型，该模型从属性三元组生成属性嵌入，然后利用属性嵌入将两个知识库中的实体嵌入移动到同一个向量空间，并对对这些属性三元组进行实体对齐。
（vi）知识合并
知识合并是对结构化数据进行处理，主要处理数据层和模式层的冲突问题。
d、知识加工（Knowledge Processing）
海量数据在经信息抽取、知识融合之后得到一系列基本的事实表达，但这并不等同于知识，要想获得结构化，网络化的知识体系，需要经过知识加工才能将合格的部分纳入知识体系中以确保知识图谱的质量。密码装备运维知识加工主要包括三方面内容：本体构建、知识推理和质量评估。
（i）本体构建（Ontology Extraction）
本体定义了组成领域的词汇表的基本术语及其关系，以及结合这些术语和关系来定义词汇表外延的规则。密码装备知识本体构建中通过实体并列关系相似度算法计算图谱中新入实体间的关系，随后运用实体上下位关系抽取技术得到实体间的类型差异，并对实体进行分类，最后运用本体生成技术完成知识本体的构建。
（ii）知识推理（Knowledge Inference）
完成了本体构建之后，知识图谱雏形虽然搭建好，但实体关系缺失值非常严重，知识图谱还是残缺的，需要使用知识推理技术，完成进一步的知识发现。知识推理就是从知识库中已有的实体关系数据出发，经过计算机推理，建立实体间的新关联，从而扩展和丰富知识网络。知识推理的对象也并不局限于实体间的关系，也可以是实体的属性值，本体的概念层次关系等。
（iii）质量评估（Quality Evaluation）
质量评估是知识库构建技术的重要组成部分，对知识的可信度进行量化，通过舍弃置信度较低的知识来保障知识库的质量。
（2）基于共享的识别机制的知识图谱补全技术
由于密码装备和装备运维发展迅速、实现技术快速更新、相关领域不断拓展、知识体系逐步完善，整个图谱并不是一成不变的知识，图谱需要不断更新和完善。因此当遇到不存在与以前知识库中的实体或者关系如何对知识库进行补全则是一个重要的研究问题。知识图谱补全与关联技术的目标则是填补知识图谱中缺失的事实，对知识图谱进行更新和完善。
传统的知识库补全算法大都是基于封闭世界假设的，也是就说补全的实体必须在知识图谱内。然而密码装备运维知识图谱中的知识是一直进化的，整个图谱并不是一成不变的。因此当遇到新的实体或者关系，对知识库进行补全则是密码装备运维知识图谱研究中面临的一个重要问题。本项目提出了一个基于开放世界假设和共享识别机制的知识补全技术，该技术可以将未出现在知识库中的实体进行补全，进而克服传统知识库补全算法的问题。
a、依赖关系内容屏蔽
由于基于开放世界和共享的识别机制的知识图谱补全技术是可以抽取不在知识库中的实体，因此待抽取的实体则可能会在原有的图谱中出现。而原有的图谱中又会隐含大量的噪声和补全的三元组无关。为了去掉原来图谱中的噪声，我们通过共享的识别机制来计算文本和关系的相关程度进而获取关键词，并对其进行屏蔽。
b、目标融合
目标融合主要的作用是对上一步中获取的信息进行进一步的提纯。在这一步中主要采用远程监督中据有良好效果的卷积神经网络（CNN）模型。CNN模型将上文选出的关键词融合到新的实体表示向量中。
c、语义平均
目标融合只是对文本进行了编码，但是当出现新的实体时，模型也需要将他们进行编码。我们设计了一个非常简单的编码模型，并通过列表位置损失函数来计算实体编码值，通过实体中每个词编码的平均值来计算实体的表述，将合理的的实体及其关系加入图谱，实现知识图谱补全。
问题：
密码装备运维信息分析检索中心
挑战：
基于知识图谱的运维问题检索技术

知识检索系统有多种数据来源，包括网页文档、搜索引擎、百科描述、问答社区等，这些数据来源都是非结构化的纯文本数据。而近年来，基于知识图谱的检索系统则成为学术界和工业界的研究和应用热点，相较于纯文本，知识图谱在数据关联度、数据精度、数据结构化等方面具有较大的优势，这些优势都促使本项目使用知识图谱来作为问题检索的知识来源。
解决方案：
（1）运维问题检索技术框架
基于知识图谱为知识源进行问题检索时，一个问题对应于知识图谱的一个子结构。其检索过程的核心在于将自然语言问题映射为知识图谱上的结构化查询。基于知识图谱的问题检索技术，需要解决两个核心问题：如何理解问题语义，并用计算机可以接受的形式进行表示（问题理解与表示）；如何将该问题表示关联到知识图谱的结构化查询中（语义关联）。
问题理解与表示：知识图谱中有数海量的关系，而一种关系可以有各种不同的问法。对于不同的问题形式，问题检索技术使用不同的表示方法，一方面需要归一具有相同语义的问题，另一方面还要区分不同意图的问题。
语义关联：在获取问题表示之后，需要将问题表示映射为结构化查询。然而结构化查询主要依赖于知识库中的属性，属性和表现模型之间存在跨越，属性和表现模型之间匹配并不能直接导出。特别是对于装备运维知识库，超过98%的关系二元关系并不仅仅对应一条边，而是某种复杂的结构对应于类似的复杂结构，使得运维问题检索更为复杂。
依据其理解语义的粒度从小到大，从具体技术到上层应用，运维问题检索技术框架研究架构如图10所示，主要分为以下五个部分。

图10运维问题检索技术框架
实体层：语义搜索实体是自然语言的基本单位之一，基于知识图谱的实体语义理解为上层语义计算，特别是问题中的实体语义，提供基本支持。本项目通过面向实体的语义搜索模型，实现基于大图的局部性的高效搜索。
文本层：动词理解和实体概念化短文本是自然语言的最常见形式之一，起到对实体和更复杂文本单元的承接作用。短文本上已经具备了句法结构特征和上下文关系，知识图谱的加入使系统更精确表示句法结构和上下文信息。本项目提出了动词模板，表示细粒度的动词语义，优化基于上下文的实体概念化方法。
问题层：问题语义理解和表示问题的表示学习，是计算机系统理解问题的核心步骤。本项目提出了问题的模板表示方法，将问题的实体映射到其对应概念，用以表示问题语义。此外，本文还利用问题模板的思路，解决了复杂问句的解析问题。
搜索层：问题与知识图谱的语义关联基于问题的模板表示，需要将其映射为知识图谱的结构化查询，最终实现成功检索。这一映射主要取决于知识库中的属性。本项目提出基于密码装备运维语料的学习方法，利用概率图方法对问题模板到答案的生成进行建模，并利用属性扩展，实现知识图谱中的多步属性，学习问题模板到复杂知识图谱结构的映射关系。
应用层：通用人工智能实现面向全领域的问题检索依然是非常困难的，大部分真实应用中的问题检索技术是面向具体领域的。本项目针对密码装备运维领域的应用场景，将开放领域的自然语言模型适配到装备运维领域，使得问题检索相关自然语言处理模块在特定领域正常运行。随后从自然语言文本中，为密云装备运维领域进行知识抽取。
（2）基于局部搜索的语义挖掘
问题检索对问题理解的基础是对问题实体的理解。语义挖掘有助于实现实体语义分析。对于一个语义网络或知识图谱中的结点，语义挖掘目标是找到其所属的最佳集合，通常是它的邻居区域的一部分。现有方法使用全局搜索来寻找最佳集合，但是时间消耗极大，尤其是整个网络中的结点都需要被遍历到。本项目提出一个局部搜索的策略，在给定查询点的邻居中进行搜索来找到最佳集合，这个最佳集合的度量是它的最小度。
a、语义集合与度量
语义网络和知识图谱是复杂网络，这种复杂网络可以被划分成若干个集合，集合内部的点连接紧密，而集合外的点连接稀疏。通过研究发现密码装备运维语义网络中集合结构是和节点语义紧密相连的，节点语义描述了这个点的相关特征。基于语义网络的实体语义计算为上层语义计算提供基本支持。由于语义集合具有的重要意义，本项目首先分析语义集合查找问题，对于给定结点，找到其属于的最可能主义集合，语义集合对于问题搜索中的语义扩展和实体语义理解有着重要的帮助。
∙ 语义扩展：在问题检索中，当一个用户提交一个查询时，查询可以扩展为语义集合中的其它单词，从而扩充查询结果。
∙ 实体语义理解：实体理解的基本问题之一是语义理解，理解给定实体/概念的主题。基于知识图谱的问题搜索中，实体语义理解可以转换为集合搜索问题，即给定某个实体/概念，查找其所隶属的最佳集合。
为了高效的进行语义集合搜索，需要首先确定什么是一个好的语义集合。一个语义集合的好坏，其评估标准在于其内部结点的粘结度。计算粘结度的方法有很多，最小度较好的捕捉了关于集合粘结度的度量，本项目使用两个语义集合的度量指标。最小度是计算该集合结点的导出子图的度的最小值。一个好的语义集合就是一个具有较大最小度的集合。使用最小度作为集合搜索的度量，将语义集合搜索的问题，转化为查找包含查询点的点集，使其导出子图的最小度最大。
b、最小度最大集合搜索技术
最小度的一个重要特性是它的非单调性，由于最小度的非单调性，使用局部搜索策略找到最小集合的问题是很困难的。不同于直接找到集合最优解，在一些应用中，用户可能对于找到满足度量大于某一阈值的集合感兴趣，即δ(G[H])≥k。这里k是一个给定的阈值限制。通过控制k，用户可以控制所找到的集合的大小。通过阈值可以将最大度量的集合搜索在一定条件下转化为带阈值限制的集合搜索问题。
最大度量的集合搜索是一个最优化问题，它的对应的判定问题是：判定是否存在H ⊆V，满足最大度量的集合搜索问题定义的三个条件。很明显，最大度量的集合搜索就是带阈值限制的集合搜索问题的构造版本。也就是说，算法不仅需要判断有效解是否存在，也需要在解存在时，构建或找到一个具体解。
对于最大度量的集合搜索和带阈值限制的集合搜索问题，通常只期望寻找其中的一个解，因为可能有指数级别的解。为了说明这一点，考虑包括N个度为1的结点和1个度为N的结点的情况。假设 结点vc的度为N，那么很显然有m*(G,vc) = 1。但是H*(G,vc)可能是任何包含vc的子集。 这样这个图中最优解的个数就是Θ(2N)。为了避免这种指数级的枚举，在一般求解的问题中，只查找其中的一个解。
c、带阈值限制的集合搜索技术
带阈值限制的集合搜索问题的目标是找到对于给定结点的最佳集合。其主要挑战在于，集合的度量δ(·) 是非单调的。通过暴力枚举来解决的方法，其复杂度是指数级的。之前的研究人员提出了通过二分最大度量的集合搜索来解决带阈值限制的集合搜索的方法。本项目在其基础上提出了一个更为高效的自底向上的方法。首先，它从查询点v0开始扩展搜索空间。第二，它在此查询空间中，生成一个候选结点集C。第三，它通过最大核算法在候选结点集中来找到最终的答案。
在第一步中，算法的目标是通过扩展搜索空间，来找到一个子集H，使得在线性复杂度下，当剪枝掉尽量多的无效点后，它的δ(G[H])尽可能大。算法从结点v0开始，每一步通过局部搜索策略选择新的点，并加入当前结果中。这里算法使用最大邻接数来作为策略选择局部最优结点。然后，在每一轮的最后，由于所有的结点度数小于δ(G[H])+1的结点无法存在于更优的解中。算法用H作为过滤依据，来扩展需要访问的结点集合。
在第二步中，算法从第一步生成的H产生候选结点集合。算法使用两 个方法来产生C，并分析了在生成质量和性能上的权衡取舍。假设Cnaive(k)表示算法的结果，也就是说，从v0的邻居中不断移除度数小于k的点，就形成了Cnaive(k)。
第三步中，选择不同的γ不会影响答案的质量，但是会影响程序运行时间。一般来说，当γ→−∞，由于算法已经给了足够的次数来尝试找到好的H，算法非常有可能在第二步之前找到一个完整解，或者一个好的部分解。然而，这会导致很大的运行时间消耗。如果一个完整解或者部分解已经在第一步被找到，最大核算法过程就只会花费极少的时间。
最后，需要强调的是，使用不同的策略实现，其最差情况的时间复杂 度都是O(|V|+|E|)。然而，在带阈值限制的集合搜索问题中，可以期望通过局部搜索，使用很少的结点访问找到一个最优解。
（3）基于知识图谱的短文动词理解
动词理解在自然语言的语义理解中至关重要。对于动词的理解，有助于在短文本层面理解问题语义，进而帮助实现上下文相关的实体概念化。传统的动词表示，专注于动词的角色，但是动词角色粒度过于粗，无法表示和区分动词的语义。本项目将构建基于动词模板的动词语义表示模式，每个动词模板对应于动词的单个语义。
a、动词模板及其特性
动词模版可以用来表示一个动词更细粒度的语义。动词模版基于语言学家对单词结合的两个原则设计：俗语原则(idiom principle)和开放选择原 则（open-choice principle）。基于这两个原则，我们设计了两种类型的动词模版：
概念化模版：根据开放选择原则，一个动词可以和任何宾语搭配。这些宾语具有特定的概念，可以用于语义表示和消岐，可以使用宾语的概念来表示动词语义。根据宾语的概念，每个开放选择原则中的动词短语会被关联到一个概念化模板中。
俗语模版：根据俗语原则，有些动词短语的具体语义是和宾语概念无关的。在宾语前增加标记来表示此俗语模板（即动词宾语）。
根据上述定义，本项目使用动词模板来表示动词的不同的语义。分配到相同的动词模板的动词短语，其动词具有相似的语义，而分配到不同动词模板的动词具有不同的语义。另一方面，俗语模版表示哪些短语不应被概念化。
由于每个动词短语都有若干候选动词模板，一个好的动词模板需要兼备一般性和特殊性：
一般性：希望用较少的模板个数来覆盖一个动词的所有语义。否则，抽取出的动词模板会变得琐碎。琐碎的动词模板大部分都是没意义的，因为大部分动词短语需要被概念化。
特殊性：期望产生的动词模板具备特殊性，否则结果可能会变得非常模糊，算法可以将任意宾语都概念化到某些非常高层的概念上。这样概念化的模板就会变得特别模糊而无法精确描述一个动词的语义。
一般性和特殊性显然是相互矛盾和制约的。因此如何在一般性和特殊性之间做取舍成为了构建动词模板的主要挑战。
b、非监督的最小描述长度模型
针对构建动词模板时一般性与特殊性的取舍问题，本项目使用最小描述长度（minimum description length，MDL）作为调和这两个目标的基本框架，形式化定义从动词短语中提取动词模板的过程，并计算模板提取过程中两个值：每个动词短语的动词模板分配; 每个动词的动词模板分布。
我们设计了一个基于最小描述长度的模型，它可以精确地建模模板分配中的一般性和特殊性原则。最小描述长度（MDL）是基于数据压缩程度的数据复杂度描述方法。在动词模板分配问题中，一个动词模板可以被视为一组动词短语的压缩。对于概念化的模板，如果一个模板分配是一个对于动词短语的简短描述，那么这个分配方案就抓住了底层的动词语义特征。给定动词短语集合，寻找一个模板分配函数f，使得这些动词短语的描述长度最短，即给定动词短语分布P(p)，找到模板分配f，使得描述长度L(f)最小化。
为了解决描述长度L(f)最小化问题，随后我们提出了一种基于模拟退火的算法来找寻模板分配f，并通过利用外部知识来优化俗语模板。使用模拟退火算法来找到最佳的动词模板分配f。首先选取随机的分配作为初始值（初始温度）。然后，算法生成并评估一个新的分配，如果它是一个更好的分配，用这个分配替换掉之前的分配；否则，算法以一定的概率接受这个分配（温度降低）。重复生成以及替换的步骤直到最后的β轮结果没有出现变化（终止条件）。
候选分配的生成对于模拟退火算法的效用和效率来说非常关键。通常使用直接生成法，模板分配f的最基本的单元是对一个动词短语的模板分配。直接生成方法会随机选择一个动词短语p并将它分配给一个随机的模板a。产生一个有效的模板。算法需要确保a是一个p的俗语模板，或者a是一个实体概念化模板并且ca是op的上位词。然而，因为很难达到最优状态，这个方法效率很低。对于一个动词，假设它有n个动词短语并且每一个动词短语都有平均k个候选模板。达到最优状态的最小轮数平均是kn/2 ，这在大语料库上是不可接受的。我们根据密码装备运维语料的特点，设计了一个利用典型性的生成方法，到对于每一个确定的动词词组，一些模板会因为它们更高的典型性而比其他模板更有效。这使算法倾向于将动词短语分配给具有更高典型性的动词模板。
（4）基于问题模板的检索技术
与网络搜索不同，在自然语言问题能够被精确地理解和映射到知识图谱上的结构化查询的前提下，基于知识图谱的问题检索将给出准确且简洁的结果。但这其中存在的挑战是人类可以以许多不同的方式提出同一询问。现有的解决方案存在着较大的缺陷：基于规则的实现只能理解一小部分的问题，而基于关键词或同义词的实现不能完整地理解问题。在知识图谱和机要语料库的基础上，本项目设计了一种新的问题表现形式：问题模板。基于问题模板，问题检索能够有效地支持二元事实型问题（binary factoid question，BFQ）。
a、基于知识图谱的问题模板构建
为了检索一个问题，首先需要表示这个问题。所谓表示一个问题，指的是将问题从自然语言转换为一种能够捕获问题语义和意图的计算机内部表示。对于每种内部表示，将其映射到知识图谱上的资源描述框架（RDF）进行查询。因此，运维问题检索的第一个难题就是问题内部表示设计，即“问题模板”。
本项目通过模板来理解问题，将问题表示转化为了问题到现有模板的映射。为了实现转化，我们将问题中的实体替换为它的概念。这一过程并不是直接的，而是通过一种称为概念化的机制来完成。这一机制会自动对输入进行歧义消除。概念化机制本身基于包括机要密码概念的语义网络，拥有足够的粒度来模板化所有类型的问题。此外模板的思想对于复杂问题同样起效。通过使用模板，可以将复杂问题简单地分解为一系列仅对应一个属性的简单问题。
通过用实体e的一个概念c替换e，可以从问题q中得到模板t。这一模板记为t = t(q,e,c)。一个问题可能含有多个实体，并且一个实体可能属于多个概念。系统通过上下文相关的概念化过程获得e的概念分布。当一个问题到来，首先将其解析并分解为一系列二元事实型问题（BFQ）。对于每个二元事实型问题，基于给定模板的属性分布P(p|t)，使用概率推断来寻找它的值。
b、问题模型
本项目通过机要语料库和装备运维知识图谱进行学习。由于问题检索过程的不确定性、不完整性和噪音等问题，我们为知识图谱上的问题检索技术构建了一个概率模型。需要强调的是从问题意图到知识图谱属性的不确定性。给定问题q，问题检索的目标是寻找具有最大概率的回答v。
为了说明给定问题时如何寻找目标值，我们构建了一个问题模型。从问题q开始，首先通过其分布P(e|q)生成/识别它的实体e。在得知了问题和实体之后，根据分布P(t|q,e)产生问题模板t。由于属性p仅依赖于t，系统可以通过P(p|t)来推断p。最终，给定实体e和属性p，系统通过v产生回答值P(v|e,p)。v可以被直接返回，或是嵌入一个自然语言句子作为回答。并且图11展示了问题模型，并描述了随机变量的依赖关系。

图11 问题模型
c、概率计算
（i）实体分布P(e|q)。这一分布代表从问题中辨识实体。当满足以下两个条件时，将其辨识为实体：它是问题中的一个实体；它在知识图谱中。对于第一条，使用命名实体识别NER就可以完成。对于第二条，需要检验实体的名字是否在在知识图谱中。如果存在多个候选实体，简单地给予他们一样的概率。通过q的回答优化P(e|q)的计算，已经从问题qi和回答ai中提取了实体-值对EVi。
（ii）模板分布P(t|q,e)。模板是将一个问题中的某个实体替换为实体的概念的结果。令t =t(q,e,c)表示模板t是通过将q中实体e替换为e的概念c得到的。其中P(c|q,e)是e在上下文q中的概念分布。我们直接应用的概念化方法来计算P(c|q,e)。
（iii）值（回答）分布P(v|e,p) 。对于实体e和一个关于e的属性p，在知识图谱中寻找属性指向的值v是容易的。通过知识图谱很容易就很能从中得到得到检索到其属性值。但有一些属性可能有多个指向的值，在这种情况下，模型假定所有可能的值有相同的概率。
（iv）问题的回答。在这一过程中，给定用户问题q0，系统可以通过计算p(v|q0)， 并且返回argmaxvP(v|q0)作为回答。计算过程中，系统依次枚举q0的实体、模板、属性和对应值。系统将每个问题的实体数，每个实体的概念数，每个实体-属性对的对应值数视为常量。因此在线计算过程的复杂度是O(|P|)，由对属性的枚举而产生。这里|P|指知识图谱中的属性数。
挑战：
基于知识图谱的运维数据动态分析技术
针对密码装备故障预测、判断、处理等过程中存在的问题，本项目研究基于知识图谱的密码装备运维数据动态分析技术，在接入装备实时运维数据的基础上，结合运维知识图谱实现异常预警、异常检测、故障分析、故障定位、故障描述等，并提供运维辅助提示。 
解决方案：
（1）密码装备运维数据的动态分析规划
不同部门、不同装备、不同作战岗位的密码装备运维数据差异较大，本项目基于密码装备运维的实践，初步提出出一个运维数据分析规划。
a、密码装备运维工作上下文理解
密码装备运维工作上下文包括如下四个方面。如果缺乏这些基本面的把控，密码装备运维数据分析很容易与具体运维工作脱节。
密码装备运维的特点：保密性要求、实时性要求、装备使用人员要求、装备维护人员要求、装备管理人员要求等；
装备对象特点：密码装备是定制化的特殊装备，信息化、集成化程度高，部分装备列装数量大；
装备运维体系：当前密码装备运维体系，运维职责划分，运维成本结构，装备的主要故障模式、装备的诊断经验；
装备运维工作目标与痛点：当前的装备运维工作的目标，运维工作面临的挑战，运维工作改进的方向等。
b、密码装备资源能力分析
密码装备资源能力主要从三个方面进行分析：
（i）装备使用主体的能力分析
不同密码装备的基本特征（工作机理、结构复杂度、失效模式、信息化程度），不同使用人员的知识掌握程度都决定了运维数据分析的着力点。密码装备研制单位掌握大量装备数据，从而在数据技术和知识基础较大优势。但对装备使用、管理、维护人员，即使可以收集装备自身的状态信息，但对整个研制情况以及其他相关状态缺乏了解，运维数据分析中存在一定的限制。因此，在进行装备运维数据分析规划时候，要充分了解装备使用主体的能力，决定了运维数据分析的侧重点在什么地方。
（ii）数据资产分析
在了解相关密码装备内部结构的基础上，还应该从信息物理系统（CPS）思维的角度，去理解密码装备运维数据。
逻辑层面的融合：将密码装备处理的数据与装备控制逻辑、环境、工况、操作控制等信息融合起来，去理解密码装备的真实工作状态。
数据的场景化：通过运维数据尽可能重现装备工作场景，更直观地了解这些场景下装备运维数据的分布和走势。
技术领域常识对运维数据分析的指导：技术领域的经验或常识可以给出了在不同失效阶段，哪些表征量（电流、电压、振动、声波、温度等）是显著的。可以给出一个基本面的判断。
（iii）装备维护经验与运维数据分析
在进行运维数据分析时，对于部分问题，装备使用和维护人员已经有了相对清晰的认识，这时候不需要进行复杂的数据分析。但大部分运维数据仍具有较高的价值，装备使用和维护人员经验毕竟有限，通常不够精确（存在模糊、歧义、不完备、多个逻辑间的冲突等），通过运维数据分析，可以支持装备使用、维护人员的经验在运维数据上的验证与精化。针对典型的密码装备故障以及诊断的问题，运维信息分析检索中心存储很多故障模式、故障原因、故障因素、故障表征以及常用的诊断模版，而且FMEA（Failure mode and effectsanalysis）、FTA（Failure Tree Analysis）等经典方法对于细化具体密码装备的故障模式还是很有帮助的。
c、执行路线图
根据密码装备特点进行关键技术攻关，从模型的精度、稳定性等维度快速评价数据分析技术落地的可行性。在数据分析模型投入使用之前，跳出技术，回归到运维工作角度进行再“再思考”：
模型的应用场景：密码装备运维数据分析结果给谁用？对于预警/预测，提前量是多少？是否足够采取必要的干预动作？模型的漏报率、误报率对生产意味着什么？用户使用时倾向于的交互界面是什么？
模型所需输入的可获得性：在模型运行时，运维数据信息是否能够全部获得？
模型的适用范围，以及例外情形处理策略：如果遇到未建模情形，如何处理？模型结果的最差情况是什么？应对措施是什么？
（2）运维数据动态分析方法
本项目在经典数据分析算法和非结构化数据的基础上，构建密码装备故障和运行状态分析所需的算法库。
a、基于时序分析算法的密码装备状态预警
在很多装备运维数据分析场景中，记录之间存在着时序关系，并行化序列通常是有明确业务语义的字段。从时间的角度可以把一个序列基本分为3类：纯随机序列，这种序列无法分析；平稳非随机序列，均值和方差是常数，有成熟的模型来拟合这个序列；非平稳序列，把他们转化为平稳的序列，在按照平稳序列的算法进行拟合。由于密码装备自身和运行环境的复杂性，其运维数据中既包含平衡非随机序列，又包含非平衡序列。因此对其进行分析时，需要从这两个方面进行考虑。
（i）平衡非随机序列
目前最常用的拟合平稳序列的模型为ARMA（Autoregressive moving average）模型，全称是自回归移动平均模型，他又可以分为AR模型，MA模型和ARMA模型三大类。
自回归AR(p)模型。自回归模型描述当前值与历史值之间的关系；
移动平均MA(q)模型。移动平均模型描述的是自回归部分的误差累计；
ARMA(p,q)模型。ARMA(p,q)模型中包含了p个自回归项和q个移动平均项。当q=0时，是AR(p)模型；当p=0时，是MA(q)模型。
由于ARMA模型的综合性，在密码装备运维数据分析时，我们使用ARMA模型。
（ii）平稳序列分析
如果密码装备运维数据是非平稳序列，我们需要先将其转化为平稳序列之后再进行分析。通常使用ARIMA(Autoregressive Integrated Moving Average model)进行分析。ARIMA（p，d，q）中，AR是”自回归”，p为自回归项数；MA为”滑动平均”，q为滑动平均项数，d为使之成为平稳序列所做的差分次数（阶数）。
b、基于数据波动算法的密码装备异常检测
装备异常检测旨在发现复杂业务指标的异常波动，是智能运维工作中的重要环节。密码装备种类繁多，各业务的监控需求迥异，参数配置成本繁重，给异常检测带来了巨大的挑战。本项目在分析各种异常检测系统及其核心技术及能力的基础上，提出了基于时序分析的密码装备异常检测。在异常检测时通常会遇到三种情况，针对这三种情况我们设计了不同的异常检测算法及以适应其场景。
（i）数据小范围波动
正常数据无规律波动，但基本在一个较小的波动范围内。对于这种情况，我们使用恒定阈值解决，超过设定阈值就报警。最简单的办法是进行拒绝数监控，设定在一个单位时间内超过规定个数的拒绝就报警。然而，实际使用中会出现单点毛刺的问题，也就是一个单点超过阈值的报警。当数据来回抖动时，就会产生大量无效报警。常见方法就是通过过滤器来解决，比如设置为连续5个时刻都超过阈值才报警，但这种方法太过僵硬，中间只要有一个点回到阈值范围内就不报。为了解决这些问题，我们采用的是更加柔性的累积法：一段时间窗口内数据的均值超过阈值触发才报警。这样不但能够滤除毛刺，还考虑了原始数据的累计效应。
（ii）数据大幅波动
数据的长期波动幅度较大，但正常情况下短期的波动幅度较小，体现在图像上是一根比较光滑的曲线，不应该有突然性的上升或者下降。这类场景监控的主要思想就是环比附近的数据，检查是否存在突然的上升或者下降。对于这类情况，我们选择使用突升突降类算法，求取数据最近两个窗口的均值变化比例，将原始数据转换到了变化比例空间，在r空间上设置阈值就检测数据的突升或突降。
（iii）数据周期性波动
数据有规律地周期性波动。检测这类数据的方法是与历史数据作同比，从而发现异常。对于这种的情况，我们计算历史上相同时间窗口内数据的均值和标准差，然后计算当前点的z-score值，即当前点的值减去均值之后再除以标准差。逐点计算z值把原始数据转换到另外z空间，在z空间设置阈值发现这类异常。
c、参数配置算法
运维数据分析算法在不同时段的参数不同，工作日和节假日的参数、白天和晚上的参数都不同，人工配置数据分析算法的参数成本较高。此外，运维数据的特征会随着密码系统的架构调整发生相应的变化，算法和参数需要定期维护。因此，本项目构建参数配置算法辅助用户进行参数配置。
（i）恒定阈值算法的参数配置。
通过估算罕见数据出现的概率，即可确定曲线的阈值。把数据看作是一组独立同分布的随机变量的值，可以使用ECDF（经验累积概率分布曲线）来估计随机变量的概率分布。ECDF曲线的横轴是数据值，纵轴是概率，表达的是小于等于某数值的样本比例。通过装备使用、维护人员给定经验故障概率（ECDF的纵轴），即可查找到数值的阈值（ECDF的横轴）。通过ECDF把配置阈值转换成了配置经验故障概率。因为历史数据样本有限，ECDF与真实CDF有一定差距，直接使用容易有较多误报，通过使用补偿系数解决这个问题。
（ii）突升突降算法的参数配置
突升突降算法的参数配置也是类似的，利用空间转换公式把原始数据转换到r空间，然后在r空间上配置恒定阈值。除了r空间上的阈值之外，还有窗口大小w需要设置，不同数据曲线一般不会有太大区别，一般不自动设置。
（iii）同比算法的参数配置
同比算法的参数配置也一样，使用z-score方法把原始数据转换到z空间，就转换成了在z空间上自动配置恒定阈值参数的问题。同比天数k和窗口大小w一般也可以使用全局设置。
（3）基于细粒度分析的故障定位
运行中的密码装备时时刻刻都在产生大量的监控数据，如何运用这些数据实现密码装备故障判断和故障定位，是本项目需要解决的问题。
a、基于细粒度数据分析的故障定位
在标准的故障处理流程中，故障定位一般可以总结为以三个定位的层次，从整体到局部逐步缩小故障范围，找到故障根因：
全局问题定位：快速确认线上状态，缩小故障判定范围。为可能的止损操作提供判断依据。
细分维度定位：通过分析模块、接口、错误码等细分维度，进一步缩小问题范围，确定需要排障的目标模块、接口等。
故障根因确认：一些情况下，问题的根因需要借助除监控指标之外的数据进行分析。例如用途变更、突发事件导致的故障。
（i）单维度取值对比分析
单维度取值对比分析是一种常见的细分维度定位方式。对于同一个维度下取值数量较少的情况，可以通过多维度趋势图和饼图等可视化方式进行快速的分析，查看不同维度取值的取值状态，以及占整体比例情况。而对于维度取值数量多，且不同取值数量级差距较大情况，通过维度取值自动展开功能，分别查看每个维度的状态。
（ii）多个维度关联分析
细分维度的故障所带来的表象可能会在多个维度均有表现。通过矩阵热力图可以有效展示多维度故障数据。将需要做分析的两个维度分别作为横纵坐标，通过阶梯的阈值颜色将对应交叉维度的取值展现再坐标上。可非常直观的看到这这两个维度对于整个装备运行状态的影响情况。
（iii）嵌套维度下钻分析
类似于战区-单位-武器平台的装备部署划分，可以发现密码装备内部很多维度之间存在着层次嵌套的关系。基于这个故障定位的思路，我们提出了从整体到局部逐步分层下钻定位。提供了多维度展开报表功能支持这种下钻分析，通过点击详情，可以跳转到内部资源对应的页面，查看对应模块的详细数据来进行定位。
b、关联事件定位
通过前期调研发现，大多数密码装备故障都是由于变更操作所引起的，包括密码资源、数据、配置等变更事件，增删机器实例、执行预案等运维事件，甚至包括可能引发流量增加的突发事件。对于某些复杂的密码系统，使用和维护人员众多，事件的发生更是错综复杂。
面对这个问题，本项目设计并一种可以解决这种问题的通用性组件，事件流图。通过事件流图，快速筛选出故障的前后时间，发生或发生中的事件，每个事件通过色块的长短位置，展示了开始结束时间以及持续时长。快速判断出对应时间的故障是由于某些操作开始或操作完成引发的。
同一时间段发生的事件可能有上百甚至上千条，我们提供便捷的筛选功能来解决这一问题。通过事件类型标签，打开或关闭某一类事件的展示，优先排查最有可能的根因。同时对于每一类事件的支持细分筛选，用户可以自定义事件筛选的条件，支持多项选择、文本模糊匹配等多种方式，使得定位范围一层层缩小，最终找到问题根因。
（4）密码装备重要部件分析
为了进一步提高密码装备运维数据分析准确性和有效性，运用故障树分析法对典型密码装备组成部件（如存储、接口、处理等）预先进行分析，研究其典型故障类型、特征变量、以及故障研判等。
a、基于故障树的定性分析法
故障树分析(FTA)技术是美国贝尔电报公司的电话实验室于1962年开发的，它采用逻辑的方法，形象地进行危险的分析工作，体现了以系统工程方法研究安全问题的系统性、准确性和预测性。基于故障树的定性分析法，分析密码装备重要部件故障的发生规律及特点，找出应对该事件的可行方案，并从故障树结构上分析各基本原因事件的重要度，以便按轻重缓急分别采取对策。基于故障树的定性分析法主要任务：计算故障树的最小割集或最小径集；计算各基本事件的结构重要度；分析各事件类型的危险性，确定预防故障发生的安全保障措施。
（i）最小割集的计算方法
用基本事件代替中间事件，最后表示出顶事件。最终顶事件表示为几个基本事件的与的或。那么每个基本事件的与就是一个做小割集。满足使顶事件发生，并且最小。首先列出故障树的布尔表达式，从故障树的第一层输入事件开始，“或门’’的输入事件用逻辑加表示，“与门”的输入事件用逻辑积表示；再用第二层输入事件代替第一层，第三层输入事件代替第二层，直至故障树中全体基本事件都代完为止。在代换过程中条件与事件之间总是用逻辑积表示。布尔表达式整理后得到若干个逻辑积的逻辑和，每个逻辑积就是一个割集，然后利用布尔代数的有关运算定律化简，就可求出最小割集。
（ii）最小径集的计算方法
利用它与最小割集的对偶性，首先画出故障树的对偶树——成功树，求成功树的最小割集就是原故障树的最小径集。成功树的画法是将故障树的“与门”换成“或门”，“或门”换成“与门”，并把全部事件的发生变成不发生。经过这样变换后得到的树形就是原故障树的成功树。
（iii）结构重要度计算
在FAT中通常使用利用最小割集和最小径集判断重要度，一般遵循四条原则
一阶（单事件）最小割(径)集中基本事件结构重要度最大；
仅出现在同一个最小割(径)集中的所有基本事件结构重要度相等；
仅出现在基本事件个数相等的若干个最小割(径)集中的各基本事件结构重要度依出现次数而定；
两个基本事件出现在基本事件个数不等的若干个最小割(径)集中，其结构重要度依下列情况而定。
b、存储器故障分析
存储器是密码装备保存信息的主要部件，随着存储器芯片的密度、复杂度日益提高及广泛应用，其稳定性、可用性对密码装备的正常运行起着关键作用。存储器的功能模型 ，存储器的故障模 式主要表现为3类，地址解码器故障、读写逻辑模块故障和存储单元阵列故障。
（i）地址解码器故障
地址译码故障指地址译码逻辑中产生的故障，主要表现为 4 种形式:某个确定的地址，没有相应的存储单元与其对应；对于某个确定的存储单元，找不到一个地址选中它；对于某一确定的地址，能同时选中两个或多个存储单元；多个地址同时选中一个存储单元。在实际的存储器中，上述 4类故障并非总是独立存在，而是相互交织在一起的。
（ii）读写逻辑模块故障
读写逻辑模块故障主要表现为在读写电路中，某些检测放大器的读 出或者写入驱动器的逻辑部分可能产生开路、短路或者I/O固定的故障，在写电路的数据线之间存在交叉祸合干扰。
（iii）存储单元阵列故障
由于存储单元阵列是存储器内结构最为复杂的一个模块，因此出现故障的概率最大，故障的类型也最为繁多，主要是由存储器单元内的数据线开路、短路以及串扰所引起。基于以上各模块的故障表现形式，又由于地址译码故障和读写逻辑故障可以等效映射为存储器单元阵列故障，可把存储器故障简化为下列 4 种功能故障：固定故障、转换故障、耦合故障、相邻矢量敏化故障。
c、数据接口故障
很多情况下，密码装备或密码模块是安装在宿主系统中工作的，为了与宿主系统进行通信，必须使用标准数据接口。这些标准数据接口有信号线少、协议简单、传输速度快等特点，但也存出现故障的可能性，从而导致数据传输的各种出错情况发生。
（i）SPR设定错误
在密码装备（模块）器件时钟频率与宿主器件时钟频率不一致时，如果同步时钟SCK的速率设得太快，将导致接收到的数据不正确。
（ii）模式错误
模式错误是密码装备（模块）主从模式选择的设置和引脚的连接不一致。器件工作在主模式的时候，它的片选信号引脚必须接高电平。在发送数据的过程中，如果它的从高电平跳至低电平，在下降沿模块将检测到模式错误。
（iii）溢出错误
对于密码装备数据接口的溢出错误，是在连续传输多个数据时，后一个数据覆盖了前一个数据而产生的错误。状态标志表示的是数据传输正在进行中，它对数据的传输有较大的影响。在主器件连续发送两个数据的时候将有可能导致从器件的传输标志和主器件下一个数据的传输标志相重叠，第一个收到的数据必然被覆盖，第二个数据的收/发也必然出错，产生溢出错误。
（iv）偏移错误
密码装备数据接口一般要求从器件先工作，然后主器件才开始发送数据。有时在主器件往外发送数据的过程中，从器件才开始工作，主器件的SPIF和从器件的SPIF会发生重叠，数据发生了错位。
问题： 
密码装备智能化辅助组件
挑战：
基于边缘计算的运维问题弹性检索技术
密码装备运算和存储资源有限，当大量用户进行问题检索时，运维信息分析检索中心容易造成通信阻塞。在前期调研过程中发现，简单运维问题占所有运维问题五层左右。对于这些简单问题，可以通过密码装备自身的存储和处理能力进行知识检索。一方面可以减轻维信息分析检索中心运算和网络负载，另一方面可以提高问题分析检索时效性。本项目研究基于边缘计算的运维问题弹性检索技术。通过该技术对密码装备使用维护人员的提出运维问题进行初步分析，在本地运维知识库中检索并返回结果；若本地库中没有适合的答案，将运维问题中未检索到的信息发送到运维信息分析检索中心，随后将中心返回的答案与本地检索到的答案进行整合并反馈给用户。
解决方案：
（1）边缘计算架构
云边协同的联合式网络结构一般可以分为终端层、边缘计算层和云计算层，如图12所示。各层可以进行层间及跨层通信，各层的组成决定了层级的计算和存储能力，从而决定了各个层级的功能。

图12 边缘计算架构
a、终端层
终端层由各种物联网设备（如传感器、RFID标签、摄像头、智能手机等）组成，主要完成收集原始数据并上报的功能。在终端层中，只考虑各种物联网设备的感知能力，而不考虑它们的计算能力。终端层的数十亿台物联网设备源源不断地收集各类数据，以事件源的形式作为应用服务的输入。
b、边缘计算层
边缘计算层是由网络边缘节点构成的，广泛分布在终端设备与计算中心之间，它可以是智能终端设备本身，例如智能手环、智能摄像头等，也可以被部署在网络连接中，例如网关、路由器等。显然，边缘节点的计算和存储资源是差别很大的，并且边缘节点的资源是动态变化的，例如智能手环的可使用资源是随着人的使用情况动态变化的。因此，如何在动态的网络拓扑中对计算任务进行分配和调度是值得研究的问题。边缘计算层通过合理部署和调配网络边缘侧的计算和存储能力，实现基础服务响应。
c、云计算层
在云边计算的联合式服务中，云计算仍然是最强大的数据处理中心，边缘计算层的上报数据将在云计算中心进行永久性存储，边缘计算层无法处理的分析任务和综合全局信息的处理任务也仍然需要在云计算中心完成。除此之外，云计算中心还可以根据网络资源分布动态调整边缘计算层的部署策略和算法。
（2）基于Apache Edgent的密码装备运维问题弹性检索技术
Apache Edgent 是一个开源的编程模型和微内核风格的边缘计算框架。在运行时，它可以被嵌入到密码装备上，用于提供对数据的本地实时分析。基于这个框架，本项目设计了密码装备运维问题弹性检索技术，通过Edgent实现对来自本地密码装备的数据进行高效的分析处理。为加速边缘计算应用在问题检索处理上的开发过程，我们设计了一个开发模型和并使用Apache Edgent 的API实现问题检索处理流程。密码装备运维问题弹性检索开发模型如图13所示，由提供者、拓扑、运维问题导入、问题分析处理、后端系统5个组件组成。



图13 运维问题弹性检索开发模型
a、提供者
一个提供者对象包含了有关问题检索应用程序的运行方式和位置信息，并具有创建和执行拓扑的功能
b、拓扑
拓扑是一个容器，描述运维问题的格式和如何分析运维问题中的关键信息。问题的输入、回答和导出至运维信息分析检索中心的过程都记录在拓扑中。
c、运维问题导入
Edgent提供了多种连接器以不同方式接入数据源，我们通过其数据流接口导入文本形式的运维问题。
d、问题流分析处理
通过Edgent提供一系列功能性的API，实现对密码装备运维问题的的变换、分析、检索、聚合等操作。
e、后端系统
由于密码装备的资源稀缺，无法支撑复杂问题的检索任务。用户可以使用连接器，通过MQTT和Apache Kafka方式连接至后端运维信息分析检索中心进一步对运维问题做处理。
该模型可部署于密码装备或密码模块中，实时检索来自用户的问题，减少了上传至后端运维信息分析检索中心的数据量，并降低了传输成本。基于Edgent系统提供的丰富数据处理API，切合问题检索应用中数据处理的实际需求，降低应用的开发难度并加速开发过程。

风险和变更管理
风险：
技术风险：项目开发所采用的技术是否成熟，能否满足需求，是否存在漏洞等。
进度风险：项目的进展是否按计划进行，是否会出现延误或提前完成。
财务风险：项目开发的成本是否高于预期，是否存在资金缺口等问题。
市场风险：项目产品是否符合市场需求，是否具有竞争力，是否有足够的市场份额。
法律风险：项目开发是否符合法律法规的要求，是否存在知识产权纠纷等问题。
人员风险：项目开发所涉及到的人员是否具备足够的技能和经验，是否会出现离职等问题。
变更管理：
识别变更：发现和记录所有的变化请求。
评估变更：对变更请求进行评估，包括影响范围、时间、资源和成本等方面的影响。
决策处理：将变更请求提交给决策机构，比如变更委员会，以获得批准或否决。
实施变更：如果变更被批准，则需要实施相应的变更，并将其记录在项目文档中。
监督变更：监视变更的实施情况，确保它们按计划实施，并记录结果。

阶段成果
开发进度
密码装备运维信息平台

密码装备运维信息平台，提供运维知识和运维数据的收集和聚合处理，通过数据关联分析准确全面定位装备故障，提升问题检索效能和决策建议满意度，为智能预警、问题检索、科学决策提供数据支撑。
开发使用技术：
（1）运维知识图谱构建与补全技术
针对密码装备运维知识涉及面广、复杂程度高、关联性强、更新速度快等问题，收集装备实现技术、装备常见故障、装备维护方法、装备检测手段等装备运维知识，研究密码装备运维知识图谱构建与补全技术，将密码装备运维相关知识转化为具有属性的实体，并通过实体间关系链接成网状的知识库。研究基于神经网络的命名实体识别(NER)和关系分类(RC)技术，并构建联合神经抽取模型实现多个三元组同时提取；研究传递关系嵌入模型，基于共享的识别机制实现嵌入空间转换，并对属性三元组中的实体进行对齐，通过基于图形的模型预测实体间的相互链接，构建新实体与原图中实体的关系，完成知识图谱补全(KGC)。
开发完成度：
整体项目30%。

成果展示






未来工作计划
1. 密码装备运维信息分析检索中心开发
密码装备运维信息分析检索中心相当于人类“大脑”的功能，用于对运维问题和事件进行分析、处理，并给出检索结果和决策建议。密码装备运维信息分析检索中心利用人工智能算法，根据具体的运维场景、业务规则、以往经验等构建的数据分析平台，具有可重用、可演进、可了解的特性。密码装备运维信息分析检索中心的实现主要应用到了两种技术，分别是基于运维知识图谱的问题检索和基于运维数据的动态分析。
主要技术：
（1）基于知识图谱的运维问题检索技术
针对密码装备使用维护人员工作中遇到的装备运维问题无法及时得到有效解答的难题，本项目研究基于知识图谱的运维问题检索技术，通过语义分析与认知推理，以简洁的问答式对话模式解决装备使用维护人员核心认知决策问题。研究知识图谱运用中涉及到的自然语言处理（NLP）、意图识别(IR)、实体链指(EL)、关系识别(RD) 、查询语句拼装(QC)、返回结果选择(AS)等相关技术，将自然语言转化为形式化的逻辑形式（logic form），通过对逻辑形式进行自底向上的解析，得到一种可以表达整个问题语义的逻辑形式，通过相应的查询语句在知识图谱中进行查询，从而得出答案。
（2）基于知识图谱的运维数据动态分析技术
针对密码装备故障预测、判断、处理等过程中存在的问题，本项目研究基于密码装备运维数据的动态分析技术，在接入装备实时运维数据的基础上，结合运维知识图谱实现异常预警、异常检测、故障分析、故障定位、故障描述等，并提供运维辅助提示。研究运维数据智能分析的动态规划方法，实现业务上下文理解、运算资源能力分析、检测模式与技术方案设计、执行路线图规划等内容；在经典分析算法和非结构化数据算法的基础上，研究装备故障和运行状态分析所需的知识库、参数库和算法库，提供时序分析算法、数据波动分析算法、参数配置算法、故障知识检索算法等；针对典型密码装备组成部件（如存储、接口、处理等），研究基于知识图谱的故障树分析（FTA）技术，包括典型故障类型、特征变量、以及故障研判等。 
2. 密码装备智能化辅助组件开发
智能化辅助组件是部署于密码密码之中的运维工具，对密码装备实施状态监控、环境监测、故障预警、故障展示、问题检索、运行控制等系列操作。组件既具备运维数据直接采集功能，又具备运维问题初步查询和结果反馈功能，还具备故障预警、展示和简单维护功能，保障密码装备持续、安全、稳定、可靠地运行。
主要技术：
（1）基于边缘计算的运维问题弹性检索技术
针对密码装备运维信息分析检索中心规模有限，无法同时处理所有运维问题检索工作，而密码装备资源有限，分析检索复杂运维问题较为困难，本项目研究基于边缘计算的运维问题弹性检索技术。通过该技术对密码装备使用维护人员的提出运维问题进行初步分析，在本地运维知识库中检索并返回结果；若本地库中没有适合的答案，将运维问题中未检索到的信息发送到运维信息分析检索中心，随后将中心返回的答案与本地检索到的答案进行整合并反馈给用户。在深入分析Openstack、Cloudlet、EdgeX Foundry、Cord等边缘计算的解决方案的基础上，研究适合密码装备运维问题检索的问题检索架构、预置模型、模型训练、问题集成、模型部署等技术，以运维信息分析检索中心为基础，密码装备本地智能化辅助组件为支撑，组成运维数据弹性搜索集群；研究全文搜索、结构化搜索、搜索分析等技术，实现运维问题实时弹性搜索。
（2）基于知识图谱的智能化维护操作技术
针对密码装备使用维护人员技术水平参差不齐，装备故障处理流程不熟悉等问题，本项目研究基于知识图谱的智能化维护操作技术，根据运维信息分析检索中心和边缘计算层提供的故障信息和运维脚本，实现密码装备故障预警提示、故障点可视化展示和智能化运维操作。研究故障运维操作流程，结合装备运维知识图谱，通过运维信息分析检索中心和边缘计算层智能生成运维操作脚本，并推送至故障密码装备，实现智能化维护操作。

建议
设定明确的目标和范围：在启动项目前，需要明确项目的目标和范围。目标应该具体、可衡量，而范围应该包含所有需要完成的任务和交付物。
与利益相关者合作：运维开发项目涉及到多个部门和人员，需要与他们进行密切合作，以确保各方利益得到充分考虑。
关注安全性和稳定性：在运维方面，安全性和稳定性是最为关键的。因此，在开发过程中需要注意这两个方面，并采用适当的技术和流程来确保系统的安全性和稳定性。
实施自动化和标准化：运维开发项目涉及到大量的重复性工作和流程，可以采用自动化和标准化的方法来提高效率和减少错误率。
引入DevOps理念：DevOps是一种将软件开发和运维集成在一起，以实现连续交付和持续改进的方法。引入DevOps理念可以帮助提高团队协作效率、加速上线时间、降低风险等。
进行持续监测和优化：在运维开发项目完成后，需要持续监测系统的运行情况，并进行优化和改进。这将帮助提高系统的性能、可靠性和安全性。









2022年度检测报告



目录
一、 项目目标和范围	1
1. 项目背景：	1
2. 项目目标：	7
3. 项目内容：	9
1. 密码装备运维信息平台	9
2. 密码装备运维信息分析检索中心	9
3. 密码装备智能化辅助组件	11
二、 项目进展和时间表	12
1. 项目进展：	12
2. 项目开发计划时间表：	12
三、 问题、挑战和解决方案	14
A. 问题：	14
密码装备运维信息平台	14
挑战：	14
运维知识图谱构建与补全技术	14
解决方案：	14
B. 问题：	20
挑战：	20
解决方案：	21
挑战：	31
解决方案：	31
C. 问题：	42
挑战：	42
解决方案：	42
四、 风险和变更管理	46
1. 风险：	46
2. 变更管理：	47
五、 建议	47

项目目标和范围
项目背景：
1.1 知识图谱
知识图谱（Knowledge Graph）的概念由谷歌2012 年正式提出，旨在实现更智能的搜索引擎，并且于2013 年以后开始在学术界和业界普及，并在智能问答、情报分析、反欺诈等应用中发挥重要作用。从构建过程是否依赖自动抽取技术来看，知识图谱大致可分为两类。一类是早期的本体，如WordNet、CYC、HowNet等。这类知识图谱大多由专业人士手工构建，规模较小；但其知识质量高，能够确保准确性与完整性。另一类是从开放的互联网信息中自动抽取实体与关系构建的，如YAGO、DBPedia、ConceptNet等。这类知识图谱规模大；但因其数据源的复杂多样及自动抽取算法的不完全准确，可能会有大量不完整信息、噪声等。近年来，随着知识图谱成为学界及商界的热点，国内也重视知识图谱的研究发展，中文的知识图谱纷纷涌现，如OpenKG、CN-DBpedia、zhishi.me等。
知识图谱也可分为通用知识图谱与行业知识图谱两类。通用知识图谱(generic knowledge graph) 描述全面的常识性的知识，主要应用于语义搜索，对知识的准确度要求不高，如百科类的DBpedia、zhishi.me 和语言学类的WordNet、大词林等。通用知识图谱强调知识的广度，大多采用自底向上的方式构建，侧重实体层的扩充，因此也导致其大部分较难构建规范的本体层。行业知识图谱(domain knowledge graph) 面向特定领域，能够进行知识推理，实现辅助分析及决策支持等功能，如GeoNames、中医医案知识图谱等。行业知识图谱对专业性与准确度的要求高，这也要求其必须有严格的本体层模式，通常采用自底向上与自顶向下结合的方式进行构建。通用知识图谱可作为行业知识图谱的构建基础，行业知识图谱也可在构建完成后补充融合至通用知识图谱中。一般来说，通用知识图谱的使用率更高，是现有知识图谱的基础; 而行业知识图谱则推进了知识图谱技术融入生活。
1.2 语义解析
语义解析semantic parsing是一种相对于语法分析级别上更为高层的分析。具体来说，通常指的是将自然语言转换成为机器可以理解的意义表示。这种机器可以理解的意义表示，通常指逻辑形式（Logic Forms）。通常运用各种机器学习方法，挖掘并学习文本、图片、信息等对象的深层次含义，并生了一些让扩展项目，如文本语义分析、图片语义理解、语义索引、短串语义关联、用户广告语义匹配等。
对于一段文本后，通常情况下，首先要做分词。分词的方法一般有如下几种：基于字符串匹配的分词方法，按照不同的扫描方式，逐个查找词库进行分词，可细分为：正向最大匹配，反向最大匹配，双向最大匹配，最小切分(即最短路径)；总之就是各种不同的启发规则；全切分方法，首先切分出与词库匹配的所有可能的词，再运用统计语言模型决定最优的切分结果，可以解决分词中的歧义问题；由字构词的分词方法，可以理解为字的分类问题，也就是自然语言处理中的sequence labeling问题，通常做法里利用HMM，MAXENT，MEMM，CRF等预测文本串每个字的标识。
目前较为突出的语义解析研究主要包括：Xiao等人提出的结合符号先验背景和 RNN 模型的主义分析技术，该技术面向 semantic parsing 本身，运用well-formedness 逻辑形式并标注语义体系，但其需要面向 semantic parsing 本身标注体系。Chen等人提出利用强化学习，面向Q-A pairs的技术，该技术不需要中间逻辑形式的标注，利用神经符号机器算法，面向问题的答案，因而没有中间的 Logic Forms形式。Percy等人发现为输入问题提供的 Logic Forms，与使用人工规则得到的句子中与查询问题很相似，因而先利用确定性生成一个候选的逻辑形式集合，随后使用 paraphrase 模型去挑选最合适的解析。Yih等人探讨了 semantic parser中间标注的价值，并与从 Q-A pairs 学习的对比，并构建了 WEBQSP 的数据从而实现主义解析。
1.3 智能问答
问答技术是一个用自然语言与人们进行互动的计算机技术。问答技术已经广泛应用到社会各个方面，其作为整个计算机领域重点的研究领域，引起了人们的高度重视。随着机器学习、强化学习，尤其是深度学习等技术的革命性发展给智能问答带来了长足的进步。
问答技术的复杂程度可以从三个维度来衡量：问题维度，可以分为限定领域(指系统能接受的问题只能是关于某个特定的主题)的问答技术和开放领域 (指系统能接受的问题可以是任意主题的问题，没有任何限制)的问答技术；数据维度，可以分为处理结构数据(或半结构数据)的问答技术 (例如关系数据)和处理无结构数据(例如文本)的问答技术；答案维度，可以分为抽取式 (所谓抽取，是指答案是从数据或者文本中抽取出来的，例如文本片段)问答技术和产生式(所谓产生，是指答案是通过一定的规则或者内在的编码生成出来的，例如对话)问答技术。
问答技术中问题分析主要是用于分析和理解问题，从而协助后续的检索和答案提取，一般具有问句分类、问句主题提取两个主要研究内容：
问句分类是根据问句的答案类型对问句进行分类，其任务就是把一个问句分类到已有的分类结构中一个或几个类(软分类)。问句分类的方法主要使用模式匹配方法和机器学习方法。Zhang 等人在使用表层n-gram特征，在K最近邻算法、决策树、朴素贝叶斯等分类方法中，支持向量 机(support vector machine，SVM)效果较好。Li 等人采用更深层次的特征，包括语法(词性、词组)和 语义(解释、近义词)信息，首先顶层分类器把问句归 类在一个大类别中，然后根据该大类内的分类器把它分到小类别中，分类效果较好。
问句主题，在问答技术中需要选择问题中的一些关键词作为查询词，很多时候会调整查询，为了保证高相关性，查询词都应该包含问题的主题。一般通过对问题进行句法分析，获得问题的中心词，然后选取中心词及其修饰词作为问题的主题。因此，如何选取合适的中心词是该类方法的核心。Cui 等人提出了一种基于外部资源选取主题的方法。它利用搜索引擎返回的结果去计算各种词组合的点互信息，如 果词组合的点互信息高于某个阈值就被认为是词 组，那么词组的序列就被认为是问题的主题。
1.4 智能检索
智能检索以文献和检索词的相关度为基础，综合考查文献的重要性等指标，对检索结果进行排序，以提供更高的检索效率。智能检索的结果排序同时考虑相关性和重要性，相关性采用各字段加权混合索引，相关性分析更准确，重要性指通过对文献来源权威性分析和引用关系分析等实现对文献质量的评价，这样的结果排序更加准确，更能将与用户愿望最相关的文献排到最前面，提高检索效率。
对于智能问答系统中的智能检索技术来说，找到和问题类似的问题，然后返回答案或者相似问题列表是首要解决问题，其中构建适合Q-A pairs的检索模型和Q-A pairs的相似性判断是最关键的两个问题。Duan 等人采用基于最小描述长度(minimum description length，MDL)的树剪切(tree cut)模型去识别问题的主题和焦点，然后利用语言模型的方法去 匹配问题主题和焦点来缩小检索范围，提高检索精度。Xue 等人构建一个相似问题的集合，随后训练一个翻译模型，对问题部分采用基于翻译模 型的语言模型，对答案部分采用 Query Likelihood 模型，这两者合并在一起构成了一个检索模型。Bian 等人发现文本特征和社区特征对于检索效果的影响很大; 同时，其他特征也能提高训练排序函数的效果，因此提出了对于事实类型问题的检索框架，属于半监督的方法。Wang 等人通过类比推理技术去建模问题与答案之间的关系，提出了对于答案的排序方法，该方法的平均排序倒数(mean reciprocal rank，MRR)值能达到78%，比采用朴素贝叶斯和 Cosine的方法效果都好。
除了从传统的信息检索的角度来看待信息检索部分，还可以从问题对相似性的角度来看这个问题。其实传统的信息检索角度，其本质也是把相似的问题检索出来。首先把与给定问题相似的问题找到，然后再在相似的问题中寻找最好的答案。由于syntactic tree 特征对于问题的相似性比较具有明显的价值，Wang 等人通过将每一个问题句子都生成其 syntactic tree 的形式，然后比较问题的 syntactic tree 的相似性来判断问题的相似性。Stiff等人的研究依据“如果两个问题的答案相似，那么这两个问题是相似的”的原则，把问题的所有答案作为单一文档，然后用语言模型去计算答案之间的相似性，从而去判断两个问题之间的相似性。Akiyoshi 等人采用简单的基于关键字的检索方法去缩小搜索范围，然后再利用 BBS 文章的结构特征(即thread 结构，一个 thread 包含一个问题网页和一组答案网页)，基于这种结构特征，计算一篇问题文章和商业搜索引擎返回的词之间的相关性，最后来判断其相似性。 
1.5 故障分析
所谓故障，广义的讲，可以理解为任何系统的异常现象，使系统表现出所不期望的特性。装备运维技术主要包含三方面的内容：故障检测、故障隔离、故障辨识。所谓故障检测是判断系统中是否发生了故障及检测出故障发生的时刻；故障隔离就是在检测出故障后确定故障的位置和类型；故障辨识是指在分离出故障后确定故障的大小和时变特性。从本质上讲，装备运维技术是一个模式分类与识别问题，即把系统的运行状态分为正常和异常两类，而异常的信号样本究竟又属于哪种故障，这又属于一个模式识别的问题。近几十年来，装备运维技术得到了深入广泛的研究，提出了众多可行的方法。
现有的故障分析方法，概括起来可分为三大类：基于信号处理的方法、基于解析模型的方法和基于知识的分析方法。所谓基于信号处理的方法，通常是利用信号模型，如相关函数、频谱、自回归滑动平均、小波变换等，直接分析可测信号，提取诸如方差、幅值、频率等特征值，从而检测出故障。所谓基于解析模型的方法，是在明了分析对象数学模型的基础上，按一定的数学方法对被测信息进行处理分析，它可分为状态估计法、等价空间法和参数估计法。近年来，人工智能及计算机技术的飞速发展，为装备运维技术提供了新的理论基础，产生了基于知识的装备运维方法，此方法由于不需要对象的精确数学模型，而且具有某些“智能”特性，因此是一种很有生命力的方法。基于知识的装备运维方法主要可以分为：专家系统装备运维方法；模糊装备运维方法；故障树装备运维方法；神经网络装备运维方法和数据融合装备运维方法等。

项目目标：
系统具备-基于神经网络与共享识别机制的装备运维知识图谱构建与补全功能
针对密码装备运维知识涉及面广、复杂程度高、关联性强、更新速度快等问题，提出了基于神经网络与共享识别机制的装备运维知识图谱构建与补全技术。通过图的形式客观描述密码装备运维中的事实，将装备运维知识转化为语义网络，便于运维信息的分析与检索。本项目提出了一种新的多三元组联合提取模型，在统一的标签方案下将实体和关系识别问题转化为标签问题，并利用端到端模型来解决问题。在实体和关系抽取时，设计一个三维标签并使用该标签描述每个单词的特征，基于该标签，运用Bi-LSTM神经网络算法学习实体特征，并通过CRF生成带有标记序列单词的句子抽取实体关系，完成知识图谱构建。基于开放世界和共享识别机制的抽取不在知识库中的实体，运用内容屏蔽技术消除原图谱中的噪声，运用目标融合技术实现信息提纯，运用语义平均技术实现新实体的编码与计算，最终将合理的实体及其关系加入图谱，实现知识图谱补全。
2、系统具备-基于知识图谱与边缘计算的装备故障检测与运维问题检索功能
针对密码装备运维信息分析检索中心无法同时实现所有装备的故障检测和问题检索，而单台密码装备资源有限，分析检索复杂运维信息较为困难等问题，提出了基于知识图谱与边缘计算的装备故障检测与运维问题检索技术。本项目基于边缘计算技术，以装备运维信息分析检索中心为基础，密码装备本地边缘计算层为支撑，构建运维信息弹性分析检索集群。通过运维数据智能分析的动态规划方法，将时序分析算法、数据波动分析算法、参数配置算法等故障分析算法动态分布于装备的本地边缘计算层中，基于边缘计算层中有针对性的运维知识图谱和实时采集的装备运维数据，实现装备故障初步预警与检测，随后根据将故障信息上传运维信息分析检索中心，综合运用故障树分析技术与知识图谱检索技术，实现密码装备异常预警、异常检测、故障分析、故障定位、故障描述等。通过预置模型、模型训练、问题集成、模型部署等技术，构建装备运维问题检索架构，运用全文搜索、结构化搜索、搜索分析等图谱检索技术，实现运维问题实时弹性搜索，根据运维信息分析检索中心和边缘计算层的运算能力，动态部署然语言处理、意图识别、实体链指、关系识别、查询语句拼装、返回结果选择等技术，通过查询不同层级上的知识图谱向装备使用和维护人员返回最终答案。
3、系统具备-基于知识图谱与配置脚本推送的装备智能维护操作功能
针对密码装备使用维护人员技术水平参差不齐，装备故障处理流程不熟悉等问题，提出基于知识图谱与配置脚本推送的装备智能维护操作技术。根据运维信息分析检索中心和边缘计算层提供的故障信息和运维提示，检索运维知识图谱中的运维知识，构建运维配置脚本，实现智能化运维操作。在深入分析故障装备运维操作流程和Ansible配置管理架构的基础上，构建适用于密码装备的运维操作模块，结合Ansible核心模块，实现密码装备的初始配置、安全配置、系统更新等日常运维操作，运用多种任务模式组合维护操作、优化运维流程，结合运维知识图谱中的故障处理方式，构建合理的运维配置脚本PY文件，并推送至故障装备，实现密码装备的智能化运维操作。
项目内容：
1. 密码装备运维信息平台
密码装备运维信息平台，提供运维知识和运维数据的收集和聚合处理，通过数据关联分析准确全面定位装备故障，提升问题检索效能和决策建议满意度，为智能预警、问题检索、科学决策提供数据支撑。
2. 密码装备运维信息分析检索中心
密码装备运维信息分析检索中心相当于人类“大脑”的功能，用于对运维问题和事件进行分析、处理，并给出检索结果和决策建议。密码装备运维信息分析检索中心利用人工智能算法，根据具体的运维场景、业务规则、以往经验等构建的数据分析平台，具有可重用、可演进、可了解的特性。密码装备运维信息分析检索中心的实现主要应用到了两种技术，分别是基于运维知识图谱的问题检索和基于运维数据的动态分析。
 
3. 密码装备智能化辅助组件
智能化辅助组件是部署于密码密码之中的运维工具，对密码装备实施状态监控、环境监测、故障预警、故障展示、问题检索、运行控制等系列操作。组件既具备运维数据直接采集功能，又具备运维问题初步查询和结果反馈功能，还具备故障预警、展示和简单维护功能，保障密码装备持续、安全、稳定、可靠地运行。
项目进展和时间表
项目进展：
密码装备运维信息平台									  （已完成）
运维监测							                 
检测异常
异常警告
算法分析图
参数算法管理  								        
知识图谱    	                                
检索                                         
密码装备运维信息分析检索中心                    （已完成）
密码装备智能化辅助组件                          （未开始）

项目开发计划时间表：
立项阶段（2-4周）
确定项目目标、范围和利益相关者。
制定项目计划和预算。
确定项目团队和分配角色。
需求收集阶段（4-8周）
收集和文档化业务需求和技术需求。
定义产品特性和功能。
评估可行性和风险。
设计阶段（6-12周）
开发架构设计和详细设计。
验证和调整设计方案。
创建原型并进行用户测试。
开发阶段（12-24周）
编写代码和进行单元测试。
进行集成测试和系统测试。
不断地迭代和优化代码。
测试阶段（4-8周）
进行回归测试和负载测试。
识别和修复缺陷。
进行用户验收测试。
部署阶段（2-4周）
准备生产环境。
将应用程序部署到生产环境。
进行最终测试并解决问题。
维护阶段（无限期）
提供技术支持和维护服务。
解决生产环境中的问题并更新应用程序。
根据需要添加新特性和功能。
问题、挑战和解决方案
问题：
     密码装备运维信息平台
挑战：
    运维知识图谱构建与补全技术
密码装备运维知识图谱本质上是一种语义网络，用图的形式客观描述装备运维中的事实。密码装备运维知识图谱中的节点表示装备运维的基本概念和具体事物；边表示运维事物的关系和属性，运维事物的内部特征用属性来表示，外部联系用关系来表示。
解决方案：
（1）基于神经网络的知识图谱构建技术
知识图谱的构建方法主要有两种：一种是自底而上的构建方法和自顶而下的构建方法。本项目采用自底向上的构建方法框架如下图9所示，从开放链接的数据源中提取实体、属性和关系，加入到知识图谱的数据层；然后将这些知识要素进行归纳组织，逐步往上抽象为概念，最后形成模式层。

图9 知识图谱构建框架
a、数据获取（Data Acquisition）
数据获取是建立知识图谱的第一步。密码装备运维知识图谱数据源按来源渠道的不同可分为两种：一种是密码装备运维业务本身的数据，这部分数据包含在机要部门内部数据库中（如装备型谱数据、装备技术指标数据等），以结构化或半结构化的方式在机要部门内部存储，是一种非公开的数据；另一种是公开或半公开的数据，这些数据通常是以书籍、教材、资料等形式存在，存在于机要部门或军队其他部门内部，是非结构化的数据。构建密码装备知识图谱最重要的问题就是获取这些数据，对于公开或半公开的数据，可以通过借阅、学习、培训等方式获取；对于非公开数据，一方面通过军办机要局协调数据拥有单位提供，另一方面通过项目合作、实地调研、专家协商等方式获取。
b、信息抽取（Information Extraction）
信息抽取的关键问题是如何从异构密码装备维护数据源中自动抽取信息得到候选知识单元。对于结构化和半结构化装备运维数据只需要简单预处理即可以作为后续系统的输入，对于非结构化一般需要借助于自然语言处理等技术来提取出结构化信息，这也是本项目的难点之一，涉及的关键技术包括实体抽取、关系抽取和属性抽取。
（i）实体抽取（Entity Extraction）
实体抽取又称为命名实体识别（NER），是指从文本数据集中自动识别出命名实体，其目的就是建立知识图谱中的“节点”。实体抽取的质量（准确率和召回率）对后续的知识获取效率和质量影响极大，是信息抽取中最为基础和关键的部分。密码装备运维实体的类型主要包括三大类七小类：实体类（包括装备名，技术名，资源名），时间类（日期，时间），数字类（数值、百分比）。
本项目提出了一种新的多三元组联合提取模型，将实体抽取转化为标签问题，在统一的标签方案下将实体和关系识别问题转化为标签问题，并利用端到端模型来解决问题。在实体抽取时，设计一个三维标签（位置、类型、关系），并使用该标签来描述每个单词的特征。随后基于该标签，运用Bi-LSTM神经网络算法学习实体特征，并通过CRF生成带有标记序列单词的句子。
（ii）关系抽取（Relation Extraction）
文本语料经过实体抽取之后得到的是一系列离散的命名实体（节点），为了得到语义信息，还需要从相关的语料中提取出实体之间的关联关系（边），才能将多个实体或概念联系起来，形成网状的知识结构。研究关系抽取技术，就是研究如何解决从文本语料中抽取实体间的关系。
在前面带有标记序列单词的句子中，只有实体才能参与关系识别，我们利用外部标签无关嵌入来描述实体间关系特征。通过实体和关系形成的三元组（eh; et; r）满足问题转化的约束eh + r≈et。为了防止Bi-LSTM算法产生的实体特征偏差，我们还制定了两个额外的约束，并对其进行检测。最后为了更好地训练抽取模型，引入了一个负抽样策略来实现一个基于排序的关系提取器。
（iii）属性抽取（Attribute Extraction）
属性抽取的目标是从不同信息源中采集特定实体的属性信息，从而完成对实体属性的完整勾画，如针对具体装备，可以从装备资料库中获取多源（异构）的数据，从中得到其型号、结构、技术参数等信息。
c、知识融合（Knowledge Fusion）
经由信息抽取之后的信息单元间的关系是扁平化的，缺乏层次性和逻辑性，同时存在大量冗余甚至错误的信息碎片。通过知识融合将多个知识库中的知识进行整合，形成一个知识库的过程，在这个过程中，主要关键技术包含指代消解、实体消歧、实体链接。不同密码装备知识库收集知识的侧重点不同，对于同一个实体，有的知识库可能侧重于其本身某个方面的描述，有的知识库可能侧重于描述实体与其它实体的关系，知识融合的目的就是将不同知识库对实体的描述进行整合，从而获得实体的完整描述。
（i）指代消解（Coreference Resolution）
密码装备知识图谱中的指代消解过程中主要完成两个工作，指示性指代和同指。
指示性指代 (也称回指)，是当前的指代词与上文出现的词、短语或句子（句群）存在密切的语义关联性，它指向另一个词（称为先行词），该指代词的解释依赖于先行词的解释，具有非对称性和非传递性。
同指 (也称共指)，是两个名词(包括代名词、名词短语)指向真实世界中的同一参照体，这种指代脱离上下文仍然成立。共指消解技术主要用于解决多个指称对应同一实体对象的问题。
（ii）实体消歧（Entity Disambiguation）
实体消歧是专门用于解决同名实体产生歧义问题的技术，通过实体消歧，就可以根据当前的语境，准确建立实体链接。在不同的密码装备运维知识库中，有些实体写法不一样，但指向同一个实体，比如“加解密”表示通过算法进行加解密运算，而“加脱密”同样也是同一个意思。这种情况下，实体消歧可以减少实体的种类，降低图谱的稀疏性。在本项目中实体消歧主要采用机器学习中的聚类算法来实现，将其看做基于上下文的分类问题。
（iii）实体链接（Entity Linking）
实体链接（entity linking）是指对于从非结构化数据（如文本）或半结构化数据（如表格）中抽取得到的实体对象，将其链接到知识库中对应的正确实体对象的操作。其基本思想是首先根据给定的实体指称项，从知识库中选出一组候选实体对象，然后通过相似度计算将指称项链接到正确的实体对象。本项目提出了一种新的嵌入模型，该模型从属性三元组生成属性嵌入，然后利用属性嵌入将两个知识库中的实体嵌入移动到同一个向量空间，并对对这些属性三元组进行实体对齐。
（vi）知识合并
知识合并是对结构化数据进行处理，主要处理数据层和模式层的冲突问题。
d、知识加工（Knowledge Processing）
海量数据在经信息抽取、知识融合之后得到一系列基本的事实表达，但这并不等同于知识，要想获得结构化，网络化的知识体系，需要经过知识加工才能将合格的部分纳入知识体系中以确保知识图谱的质量。密码装备运维知识加工主要包括三方面内容：本体构建、知识推理和质量评估。
（i）本体构建（Ontology Extraction）
本体定义了组成领域的词汇表的基本术语及其关系，以及结合这些术语和关系来定义词汇表外延的规则。密码装备知识本体构建中通过实体并列关系相似度算法计算图谱中新入实体间的关系，随后运用实体上下位关系抽取技术得到实体间的类型差异，并对实体进行分类，最后运用本体生成技术完成知识本体的构建。
（ii）知识推理（Knowledge Inference）
完成了本体构建之后，知识图谱雏形虽然搭建好，但实体关系缺失值非常严重，知识图谱还是残缺的，需要使用知识推理技术，完成进一步的知识发现。知识推理就是从知识库中已有的实体关系数据出发，经过计算机推理，建立实体间的新关联，从而扩展和丰富知识网络。知识推理的对象也并不局限于实体间的关系，也可以是实体的属性值，本体的概念层次关系等。
（iii）质量评估（Quality Evaluation）
质量评估是知识库构建技术的重要组成部分，对知识的可信度进行量化，通过舍弃置信度较低的知识来保障知识库的质量。
（2）基于共享的识别机制的知识图谱补全技术
由于密码装备和装备运维发展迅速、实现技术快速更新、相关领域不断拓展、知识体系逐步完善，整个图谱并不是一成不变的知识，图谱需要不断更新和完善。因此当遇到不存在与以前知识库中的实体或者关系如何对知识库进行补全则是一个重要的研究问题。知识图谱补全与关联技术的目标则是填补知识图谱中缺失的事实，对知识图谱进行更新和完善。
传统的知识库补全算法大都是基于封闭世界假设的，也是就说补全的实体必须在知识图谱内。然而密码装备运维知识图谱中的知识是一直进化的，整个图谱并不是一成不变的。因此当遇到新的实体或者关系，对知识库进行补全则是密码装备运维知识图谱研究中面临的一个重要问题。本项目提出了一个基于开放世界假设和共享识别机制的知识补全技术，该技术可以将未出现在知识库中的实体进行补全，进而克服传统知识库补全算法的问题。
a、依赖关系内容屏蔽
由于基于开放世界和共享的识别机制的知识图谱补全技术是可以抽取不在知识库中的实体，因此待抽取的实体则可能会在原有的图谱中出现。而原有的图谱中又会隐含大量的噪声和补全的三元组无关。为了去掉原来图谱中的噪声，我们通过共享的识别机制来计算文本和关系的相关程度进而获取关键词，并对其进行屏蔽。
b、目标融合
目标融合主要的作用是对上一步中获取的信息进行进一步的提纯。在这一步中主要采用远程监督中据有良好效果的卷积神经网络（CNN）模型。CNN模型将上文选出的关键词融合到新的实体表示向量中。
c、语义平均
目标融合只是对文本进行了编码，但是当出现新的实体时，模型也需要将他们进行编码。我们设计了一个非常简单的编码模型，并通过列表位置损失函数来计算实体编码值，通过实体中每个词编码的平均值来计算实体的表述，将合理的的实体及其关系加入图谱，实现知识图谱补全。
问题：
密码装备运维信息分析检索中心
挑战：
基于知识图谱的运维问题检索技术

知识检索系统有多种数据来源，包括网页文档、搜索引擎、百科描述、问答社区等，这些数据来源都是非结构化的纯文本数据。而近年来，基于知识图谱的检索系统则成为学术界和工业界的研究和应用热点，相较于纯文本，知识图谱在数据关联度、数据精度、数据结构化等方面具有较大的优势，这些优势都促使本项目使用知识图谱来作为问题检索的知识来源。
解决方案：
（1）运维问题检索技术框架
基于知识图谱为知识源进行问题检索时，一个问题对应于知识图谱的一个子结构。其检索过程的核心在于将自然语言问题映射为知识图谱上的结构化查询。基于知识图谱的问题检索技术，需要解决两个核心问题：如何理解问题语义，并用计算机可以接受的形式进行表示（问题理解与表示）；如何将该问题表示关联到知识图谱的结构化查询中（语义关联）。
问题理解与表示：知识图谱中有数海量的关系，而一种关系可以有各种不同的问法。对于不同的问题形式，问题检索技术使用不同的表示方法，一方面需要归一具有相同语义的问题，另一方面还要区分不同意图的问题。
语义关联：在获取问题表示之后，需要将问题表示映射为结构化查询。然而结构化查询主要依赖于知识库中的属性，属性和表现模型之间存在跨越，属性和表现模型之间匹配并不能直接导出。特别是对于装备运维知识库，超过98%的关系二元关系并不仅仅对应一条边，而是某种复杂的结构对应于类似的复杂结构，使得运维问题检索更为复杂。
依据其理解语义的粒度从小到大，从具体技术到上层应用，运维问题检索技术框架研究架构如图10所示，主要分为以下五个部分。

图10运维问题检索技术框架
实体层：语义搜索实体是自然语言的基本单位之一，基于知识图谱的实体语义理解为上层语义计算，特别是问题中的实体语义，提供基本支持。本项目通过面向实体的语义搜索模型，实现基于大图的局部性的高效搜索。
文本层：动词理解和实体概念化短文本是自然语言的最常见形式之一，起到对实体和更复杂文本单元的承接作用。短文本上已经具备了句法结构特征和上下文关系，知识图谱的加入使系统更精确表示句法结构和上下文信息。本项目提出了动词模板，表示细粒度的动词语义，优化基于上下文的实体概念化方法。
问题层：问题语义理解和表示问题的表示学习，是计算机系统理解问题的核心步骤。本项目提出了问题的模板表示方法，将问题的实体映射到其对应概念，用以表示问题语义。此外，本文还利用问题模板的思路，解决了复杂问句的解析问题。
搜索层：问题与知识图谱的语义关联基于问题的模板表示，需要将其映射为知识图谱的结构化查询，最终实现成功检索。这一映射主要取决于知识库中的属性。本项目提出基于密码装备运维语料的学习方法，利用概率图方法对问题模板到答案的生成进行建模，并利用属性扩展，实现知识图谱中的多步属性，学习问题模板到复杂知识图谱结构的映射关系。
应用层：通用人工智能实现面向全领域的问题检索依然是非常困难的，大部分真实应用中的问题检索技术是面向具体领域的。本项目针对密码装备运维领域的应用场景，将开放领域的自然语言模型适配到装备运维领域，使得问题检索相关自然语言处理模块在特定领域正常运行。随后从自然语言文本中，为密云装备运维领域进行知识抽取。
（2）基于局部搜索的语义挖掘
问题检索对问题理解的基础是对问题实体的理解。语义挖掘有助于实现实体语义分析。对于一个语义网络或知识图谱中的结点，语义挖掘目标是找到其所属的最佳集合，通常是它的邻居区域的一部分。现有方法使用全局搜索来寻找最佳集合，但是时间消耗极大，尤其是整个网络中的结点都需要被遍历到。本项目提出一个局部搜索的策略，在给定查询点的邻居中进行搜索来找到最佳集合，这个最佳集合的度量是它的最小度。
a、语义集合与度量
语义网络和知识图谱是复杂网络，这种复杂网络可以被划分成若干个集合，集合内部的点连接紧密，而集合外的点连接稀疏。通过研究发现密码装备运维语义网络中集合结构是和节点语义紧密相连的，节点语义描述了这个点的相关特征。基于语义网络的实体语义计算为上层语义计算提供基本支持。由于语义集合具有的重要意义，本项目首先分析语义集合查找问题，对于给定结点，找到其属于的最可能主义集合，语义集合对于问题搜索中的语义扩展和实体语义理解有着重要的帮助。
∙ 语义扩展：在问题检索中，当一个用户提交一个查询时，查询可以扩展为语义集合中的其它单词，从而扩充查询结果。
∙ 实体语义理解：实体理解的基本问题之一是语义理解，理解给定实体/概念的主题。基于知识图谱的问题搜索中，实体语义理解可以转换为集合搜索问题，即给定某个实体/概念，查找其所隶属的最佳集合。
为了高效的进行语义集合搜索，需要首先确定什么是一个好的语义集合。一个语义集合的好坏，其评估标准在于其内部结点的粘结度。计算粘结度的方法有很多，最小度较好的捕捉了关于集合粘结度的度量，本项目使用两个语义集合的度量指标。最小度是计算该集合结点的导出子图的度的最小值。一个好的语义集合就是一个具有较大最小度的集合。使用最小度作为集合搜索的度量，将语义集合搜索的问题，转化为查找包含查询点的点集，使其导出子图的最小度最大。
b、最小度最大集合搜索技术
最小度的一个重要特性是它的非单调性，由于最小度的非单调性，使用局部搜索策略找到最小集合的问题是很困难的。不同于直接找到集合最优解，在一些应用中，用户可能对于找到满足度量大于某一阈值的集合感兴趣，即δ(G[H])≥k。这里k是一个给定的阈值限制。通过控制k，用户可以控制所找到的集合的大小。通过阈值可以将最大度量的集合搜索在一定条件下转化为带阈值限制的集合搜索问题。
最大度量的集合搜索是一个最优化问题，它的对应的判定问题是：判定是否存在H ⊆V，满足最大度量的集合搜索问题定义的三个条件。很明显，最大度量的集合搜索就是带阈值限制的集合搜索问题的构造版本。也就是说，算法不仅需要判断有效解是否存在，也需要在解存在时，构建或找到一个具体解。
对于最大度量的集合搜索和带阈值限制的集合搜索问题，通常只期望寻找其中的一个解，因为可能有指数级别的解。为了说明这一点，考虑包括N个度为1的结点和1个度为N的结点的情况。假设 结点vc的度为N，那么很显然有m*(G,vc) = 1。但是H*(G,vc)可能是任何包含vc的子集。 这样这个图中最优解的个数就是Θ(2N)。为了避免这种指数级的枚举，在一般求解的问题中，只查找其中的一个解。
c、带阈值限制的集合搜索技术
带阈值限制的集合搜索问题的目标是找到对于给定结点的最佳集合。其主要挑战在于，集合的度量δ(·) 是非单调的。通过暴力枚举来解决的方法，其复杂度是指数级的。之前的研究人员提出了通过二分最大度量的集合搜索来解决带阈值限制的集合搜索的方法。本项目在其基础上提出了一个更为高效的自底向上的方法。首先，它从查询点v0开始扩展搜索空间。第二，它在此查询空间中，生成一个候选结点集C。第三，它通过最大核算法在候选结点集中来找到最终的答案。
在第一步中，算法的目标是通过扩展搜索空间，来找到一个子集H，使得在线性复杂度下，当剪枝掉尽量多的无效点后，它的δ(G[H])尽可能大。算法从结点v0开始，每一步通过局部搜索策略选择新的点，并加入当前结果中。这里算法使用最大邻接数来作为策略选择局部最优结点。然后，在每一轮的最后，由于所有的结点度数小于δ(G[H])+1的结点无法存在于更优的解中。算法用H作为过滤依据，来扩展需要访问的结点集合。
在第二步中，算法从第一步生成的H产生候选结点集合。算法使用两 个方法来产生C，并分析了在生成质量和性能上的权衡取舍。假设Cnaive(k)表示算法的结果，也就是说，从v0的邻居中不断移除度数小于k的点，就形成了Cnaive(k)。
第三步中，选择不同的γ不会影响答案的质量，但是会影响程序运行时间。一般来说，当γ→−∞，由于算法已经给了足够的次数来尝试找到好的H，算法非常有可能在第二步之前找到一个完整解，或者一个好的部分解。然而，这会导致很大的运行时间消耗。如果一个完整解或者部分解已经在第一步被找到，最大核算法过程就只会花费极少的时间。
最后，需要强调的是，使用不同的策略实现，其最差情况的时间复杂 度都是O(|V|+|E|)。然而，在带阈值限制的集合搜索问题中，可以期望通过局部搜索，使用很少的结点访问找到一个最优解。
（3）基于知识图谱的短文动词理解
动词理解在自然语言的语义理解中至关重要。对于动词的理解，有助于在短文本层面理解问题语义，进而帮助实现上下文相关的实体概念化。传统的动词表示，专注于动词的角色，但是动词角色粒度过于粗，无法表示和区分动词的语义。本项目将构建基于动词模板的动词语义表示模式，每个动词模板对应于动词的单个语义。
a、动词模板及其特性
动词模版可以用来表示一个动词更细粒度的语义。动词模版基于语言学家对单词结合的两个原则设计：俗语原则(idiom principle)和开放选择原 则（open-choice principle）。基于这两个原则，我们设计了两种类型的动词模版：
概念化模版：根据开放选择原则，一个动词可以和任何宾语搭配。这些宾语具有特定的概念，可以用于语义表示和消岐，可以使用宾语的概念来表示动词语义。根据宾语的概念，每个开放选择原则中的动词短语会被关联到一个概念化模板中。
俗语模版：根据俗语原则，有些动词短语的具体语义是和宾语概念无关的。在宾语前增加标记来表示此俗语模板（即动词宾语）。
根据上述定义，本项目使用动词模板来表示动词的不同的语义。分配到相同的动词模板的动词短语，其动词具有相似的语义，而分配到不同动词模板的动词具有不同的语义。另一方面，俗语模版表示哪些短语不应被概念化。
由于每个动词短语都有若干候选动词模板，一个好的动词模板需要兼备一般性和特殊性：
一般性：希望用较少的模板个数来覆盖一个动词的所有语义。否则，抽取出的动词模板会变得琐碎。琐碎的动词模板大部分都是没意义的，因为大部分动词短语需要被概念化。
特殊性：期望产生的动词模板具备特殊性，否则结果可能会变得非常模糊，算法可以将任意宾语都概念化到某些非常高层的概念上。这样概念化的模板就会变得特别模糊而无法精确描述一个动词的语义。
一般性和特殊性显然是相互矛盾和制约的。因此如何在一般性和特殊性之间做取舍成为了构建动词模板的主要挑战。
b、非监督的最小描述长度模型
针对构建动词模板时一般性与特殊性的取舍问题，本项目使用最小描述长度（minimum description length，MDL）作为调和这两个目标的基本框架，形式化定义从动词短语中提取动词模板的过程，并计算模板提取过程中两个值：每个动词短语的动词模板分配; 每个动词的动词模板分布。
我们设计了一个基于最小描述长度的模型，它可以精确地建模模板分配中的一般性和特殊性原则。最小描述长度（MDL）是基于数据压缩程度的数据复杂度描述方法。在动词模板分配问题中，一个动词模板可以被视为一组动词短语的压缩。对于概念化的模板，如果一个模板分配是一个对于动词短语的简短描述，那么这个分配方案就抓住了底层的动词语义特征。给定动词短语集合，寻找一个模板分配函数f，使得这些动词短语的描述长度最短，即给定动词短语分布P(p)，找到模板分配f，使得描述长度L(f)最小化。
为了解决描述长度L(f)最小化问题，随后我们提出了一种基于模拟退火的算法来找寻模板分配f，并通过利用外部知识来优化俗语模板。使用模拟退火算法来找到最佳的动词模板分配f。首先选取随机的分配作为初始值（初始温度）。然后，算法生成并评估一个新的分配，如果它是一个更好的分配，用这个分配替换掉之前的分配；否则，算法以一定的概率接受这个分配（温度降低）。重复生成以及替换的步骤直到最后的β轮结果没有出现变化（终止条件）。
候选分配的生成对于模拟退火算法的效用和效率来说非常关键。通常使用直接生成法，模板分配f的最基本的单元是对一个动词短语的模板分配。直接生成方法会随机选择一个动词短语p并将它分配给一个随机的模板a。产生一个有效的模板。算法需要确保a是一个p的俗语模板，或者a是一个实体概念化模板并且ca是op的上位词。然而，因为很难达到最优状态，这个方法效率很低。对于一个动词，假设它有n个动词短语并且每一个动词短语都有平均k个候选模板。达到最优状态的最小轮数平均是kn/2 ，这在大语料库上是不可接受的。我们根据密码装备运维语料的特点，设计了一个利用典型性的生成方法，到对于每一个确定的动词词组，一些模板会因为它们更高的典型性而比其他模板更有效。这使算法倾向于将动词短语分配给具有更高典型性的动词模板。
（4）基于问题模板的检索技术
与网络搜索不同，在自然语言问题能够被精确地理解和映射到知识图谱上的结构化查询的前提下，基于知识图谱的问题检索将给出准确且简洁的结果。但这其中存在的挑战是人类可以以许多不同的方式提出同一询问。现有的解决方案存在着较大的缺陷：基于规则的实现只能理解一小部分的问题，而基于关键词或同义词的实现不能完整地理解问题。在知识图谱和机要语料库的基础上，本项目设计了一种新的问题表现形式：问题模板。基于问题模板，问题检索能够有效地支持二元事实型问题（binary factoid question，BFQ）。
a、基于知识图谱的问题模板构建
为了检索一个问题，首先需要表示这个问题。所谓表示一个问题，指的是将问题从自然语言转换为一种能够捕获问题语义和意图的计算机内部表示。对于每种内部表示，将其映射到知识图谱上的资源描述框架（RDF）进行查询。因此，运维问题检索的第一个难题就是问题内部表示设计，即“问题模板”。
本项目通过模板来理解问题，将问题表示转化为了问题到现有模板的映射。为了实现转化，我们将问题中的实体替换为它的概念。这一过程并不是直接的，而是通过一种称为概念化的机制来完成。这一机制会自动对输入进行歧义消除。概念化机制本身基于包括机要密码概念的语义网络，拥有足够的粒度来模板化所有类型的问题。此外模板的思想对于复杂问题同样起效。通过使用模板，可以将复杂问题简单地分解为一系列仅对应一个属性的简单问题。
通过用实体e的一个概念c替换e，可以从问题q中得到模板t。这一模板记为t = t(q,e,c)。一个问题可能含有多个实体，并且一个实体可能属于多个概念。系统通过上下文相关的概念化过程获得e的概念分布。当一个问题到来，首先将其解析并分解为一系列二元事实型问题（BFQ）。对于每个二元事实型问题，基于给定模板的属性分布P(p|t)，使用概率推断来寻找它的值。
b、问题模型
本项目通过机要语料库和装备运维知识图谱进行学习。由于问题检索过程的不确定性、不完整性和噪音等问题，我们为知识图谱上的问题检索技术构建了一个概率模型。需要强调的是从问题意图到知识图谱属性的不确定性。给定问题q，问题检索的目标是寻找具有最大概率的回答v。
为了说明给定问题时如何寻找目标值，我们构建了一个问题模型。从问题q开始，首先通过其分布P(e|q)生成/识别它的实体e。在得知了问题和实体之后，根据分布P(t|q,e)产生问题模板t。由于属性p仅依赖于t，系统可以通过P(p|t)来推断p。最终，给定实体e和属性p，系统通过v产生回答值P(v|e,p)。v可以被直接返回，或是嵌入一个自然语言句子作为回答。并且图11展示了问题模型，并描述了随机变量的依赖关系。

图11 问题模型
c、概率计算
（i）实体分布P(e|q)。这一分布代表从问题中辨识实体。当满足以下两个条件时，将其辨识为实体：它是问题中的一个实体；它在知识图谱中。对于第一条，使用命名实体识别NER就可以完成。对于第二条，需要检验实体的名字是否在在知识图谱中。如果存在多个候选实体，简单地给予他们一样的概率。通过q的回答优化P(e|q)的计算，已经从问题qi和回答ai中提取了实体-值对EVi。
（ii）模板分布P(t|q,e)。模板是将一个问题中的某个实体替换为实体的概念的结果。令t =t(q,e,c)表示模板t是通过将q中实体e替换为e的概念c得到的。其中P(c|q,e)是e在上下文q中的概念分布。我们直接应用的概念化方法来计算P(c|q,e)。
（iii）值（回答）分布P(v|e,p) 。对于实体e和一个关于e的属性p，在知识图谱中寻找属性指向的值v是容易的。通过知识图谱很容易就很能从中得到得到检索到其属性值。但有一些属性可能有多个指向的值，在这种情况下，模型假定所有可能的值有相同的概率。
（iv）问题的回答。在这一过程中，给定用户问题q0，系统可以通过计算p(v|q0)， 并且返回argmaxvP(v|q0)作为回答。计算过程中，系统依次枚举q0的实体、模板、属性和对应值。系统将每个问题的实体数，每个实体的概念数，每个实体-属性对的对应值数视为常量。因此在线计算过程的复杂度是O(|P|)，由对属性的枚举而产生。这里|P|指知识图谱中的属性数。
挑战：
基于知识图谱的运维数据动态分析技术
针对密码装备故障预测、判断、处理等过程中存在的问题，本项目研究基于知识图谱的密码装备运维数据动态分析技术，在接入装备实时运维数据的基础上，结合运维知识图谱实现异常预警、异常检测、故障分析、故障定位、故障描述等，并提供运维辅助提示。 
解决方案：
（1）密码装备运维数据的动态分析规划
不同部门、不同装备、不同作战岗位的密码装备运维数据差异较大，本项目基于密码装备运维的实践，初步提出出一个运维数据分析规划。
a、密码装备运维工作上下文理解
密码装备运维工作上下文包括如下四个方面。如果缺乏这些基本面的把控，密码装备运维数据分析很容易与具体运维工作脱节。
密码装备运维的特点：保密性要求、实时性要求、装备使用人员要求、装备维护人员要求、装备管理人员要求等；
装备对象特点：密码装备是定制化的特殊装备，信息化、集成化程度高，部分装备列装数量大；
装备运维体系：当前密码装备运维体系，运维职责划分，运维成本结构，装备的主要故障模式、装备的诊断经验；
装备运维工作目标与痛点：当前的装备运维工作的目标，运维工作面临的挑战，运维工作改进的方向等。
b、密码装备资源能力分析
密码装备资源能力主要从三个方面进行分析：
（i）装备使用主体的能力分析
不同密码装备的基本特征（工作机理、结构复杂度、失效模式、信息化程度），不同使用人员的知识掌握程度都决定了运维数据分析的着力点。密码装备研制单位掌握大量装备数据，从而在数据技术和知识基础较大优势。但对装备使用、管理、维护人员，即使可以收集装备自身的状态信息，但对整个研制情况以及其他相关状态缺乏了解，运维数据分析中存在一定的限制。因此，在进行装备运维数据分析规划时候，要充分了解装备使用主体的能力，决定了运维数据分析的侧重点在什么地方。
（ii）数据资产分析
在了解相关密码装备内部结构的基础上，还应该从信息物理系统（CPS）思维的角度，去理解密码装备运维数据。
逻辑层面的融合：将密码装备处理的数据与装备控制逻辑、环境、工况、操作控制等信息融合起来，去理解密码装备的真实工作状态。
数据的场景化：通过运维数据尽可能重现装备工作场景，更直观地了解这些场景下装备运维数据的分布和走势。
技术领域常识对运维数据分析的指导：技术领域的经验或常识可以给出了在不同失效阶段，哪些表征量（电流、电压、振动、声波、温度等）是显著的。可以给出一个基本面的判断。
（iii）装备维护经验与运维数据分析
在进行运维数据分析时，对于部分问题，装备使用和维护人员已经有了相对清晰的认识，这时候不需要进行复杂的数据分析。但大部分运维数据仍具有较高的价值，装备使用和维护人员经验毕竟有限，通常不够精确（存在模糊、歧义、不完备、多个逻辑间的冲突等），通过运维数据分析，可以支持装备使用、维护人员的经验在运维数据上的验证与精化。针对典型的密码装备故障以及诊断的问题，运维信息分析检索中心存储很多故障模式、故障原因、故障因素、故障表征以及常用的诊断模版，而且FMEA（Failure mode and effectsanalysis）、FTA（Failure Tree Analysis）等经典方法对于细化具体密码装备的故障模式还是很有帮助的。
c、执行路线图
根据密码装备特点进行关键技术攻关，从模型的精度、稳定性等维度快速评价数据分析技术落地的可行性。在数据分析模型投入使用之前，跳出技术，回归到运维工作角度进行再“再思考”：
模型的应用场景：密码装备运维数据分析结果给谁用？对于预警/预测，提前量是多少？是否足够采取必要的干预动作？模型的漏报率、误报率对生产意味着什么？用户使用时倾向于的交互界面是什么？
模型所需输入的可获得性：在模型运行时，运维数据信息是否能够全部获得？
模型的适用范围，以及例外情形处理策略：如果遇到未建模情形，如何处理？模型结果的最差情况是什么？应对措施是什么？
（2）运维数据动态分析方法
本项目在经典数据分析算法和非结构化数据的基础上，构建密码装备故障和运行状态分析所需的算法库。
a、基于时序分析算法的密码装备状态预警
在很多装备运维数据分析场景中，记录之间存在着时序关系，并行化序列通常是有明确业务语义的字段。从时间的角度可以把一个序列基本分为3类：纯随机序列，这种序列无法分析；平稳非随机序列，均值和方差是常数，有成熟的模型来拟合这个序列；非平稳序列，把他们转化为平稳的序列，在按照平稳序列的算法进行拟合。由于密码装备自身和运行环境的复杂性，其运维数据中既包含平衡非随机序列，又包含非平衡序列。因此对其进行分析时，需要从这两个方面进行考虑。
（i）平衡非随机序列
目前最常用的拟合平稳序列的模型为ARMA（Autoregressive moving average）模型，全称是自回归移动平均模型，他又可以分为AR模型，MA模型和ARMA模型三大类。
自回归AR(p)模型。自回归模型描述当前值与历史值之间的关系；
移动平均MA(q)模型。移动平均模型描述的是自回归部分的误差累计；
ARMA(p,q)模型。ARMA(p,q)模型中包含了p个自回归项和q个移动平均项。当q=0时，是AR(p)模型；当p=0时，是MA(q)模型。
由于ARMA模型的综合性，在密码装备运维数据分析时，我们使用ARMA模型。
（ii）平稳序列分析
如果密码装备运维数据是非平稳序列，我们需要先将其转化为平稳序列之后再进行分析。通常使用ARIMA(Autoregressive Integrated Moving Average model)进行分析。ARIMA（p，d，q）中，AR是”自回归”，p为自回归项数；MA为”滑动平均”，q为滑动平均项数，d为使之成为平稳序列所做的差分次数（阶数）。
b、基于数据波动算法的密码装备异常检测
装备异常检测旨在发现复杂业务指标的异常波动，是智能运维工作中的重要环节。密码装备种类繁多，各业务的监控需求迥异，参数配置成本繁重，给异常检测带来了巨大的挑战。本项目在分析各种异常检测系统及其核心技术及能力的基础上，提出了基于时序分析的密码装备异常检测。在异常检测时通常会遇到三种情况，针对这三种情况我们设计了不同的异常检测算法及以适应其场景。
（i）数据小范围波动
正常数据无规律波动，但基本在一个较小的波动范围内。对于这种情况，我们使用恒定阈值解决，超过设定阈值就报警。最简单的办法是进行拒绝数监控，设定在一个单位时间内超过规定个数的拒绝就报警。然而，实际使用中会出现单点毛刺的问题，也就是一个单点超过阈值的报警。当数据来回抖动时，就会产生大量无效报警。常见方法就是通过过滤器来解决，比如设置为连续5个时刻都超过阈值才报警，但这种方法太过僵硬，中间只要有一个点回到阈值范围内就不报。为了解决这些问题，我们采用的是更加柔性的累积法：一段时间窗口内数据的均值超过阈值触发才报警。这样不但能够滤除毛刺，还考虑了原始数据的累计效应。
（ii）数据大幅波动
数据的长期波动幅度较大，但正常情况下短期的波动幅度较小，体现在图像上是一根比较光滑的曲线，不应该有突然性的上升或者下降。这类场景监控的主要思想就是环比附近的数据，检查是否存在突然的上升或者下降。对于这类情况，我们选择使用突升突降类算法，求取数据最近两个窗口的均值变化比例，将原始数据转换到了变化比例空间，在r空间上设置阈值就检测数据的突升或突降。
（iii）数据周期性波动
数据有规律地周期性波动。检测这类数据的方法是与历史数据作同比，从而发现异常。对于这种的情况，我们计算历史上相同时间窗口内数据的均值和标准差，然后计算当前点的z-score值，即当前点的值减去均值之后再除以标准差。逐点计算z值把原始数据转换到另外z空间，在z空间设置阈值发现这类异常。
c、参数配置算法
运维数据分析算法在不同时段的参数不同，工作日和节假日的参数、白天和晚上的参数都不同，人工配置数据分析算法的参数成本较高。此外，运维数据的特征会随着密码系统的架构调整发生相应的变化，算法和参数需要定期维护。因此，本项目构建参数配置算法辅助用户进行参数配置。
（i）恒定阈值算法的参数配置。
通过估算罕见数据出现的概率，即可确定曲线的阈值。把数据看作是一组独立同分布的随机变量的值，可以使用ECDF（经验累积概率分布曲线）来估计随机变量的概率分布。ECDF曲线的横轴是数据值，纵轴是概率，表达的是小于等于某数值的样本比例。通过装备使用、维护人员给定经验故障概率（ECDF的纵轴），即可查找到数值的阈值（ECDF的横轴）。通过ECDF把配置阈值转换成了配置经验故障概率。因为历史数据样本有限，ECDF与真实CDF有一定差距，直接使用容易有较多误报，通过使用补偿系数解决这个问题。
（ii）突升突降算法的参数配置
突升突降算法的参数配置也是类似的，利用空间转换公式把原始数据转换到r空间，然后在r空间上配置恒定阈值。除了r空间上的阈值之外，还有窗口大小w需要设置，不同数据曲线一般不会有太大区别，一般不自动设置。
（iii）同比算法的参数配置
同比算法的参数配置也一样，使用z-score方法把原始数据转换到z空间，就转换成了在z空间上自动配置恒定阈值参数的问题。同比天数k和窗口大小w一般也可以使用全局设置。
（3）基于细粒度分析的故障定位
运行中的密码装备时时刻刻都在产生大量的监控数据，如何运用这些数据实现密码装备故障判断和故障定位，是本项目需要解决的问题。
a、基于细粒度数据分析的故障定位
在标准的故障处理流程中，故障定位一般可以总结为以三个定位的层次，从整体到局部逐步缩小故障范围，找到故障根因：
全局问题定位：快速确认线上状态，缩小故障判定范围。为可能的止损操作提供判断依据。
细分维度定位：通过分析模块、接口、错误码等细分维度，进一步缩小问题范围，确定需要排障的目标模块、接口等。
故障根因确认：一些情况下，问题的根因需要借助除监控指标之外的数据进行分析。例如用途变更、突发事件导致的故障。
（i）单维度取值对比分析
单维度取值对比分析是一种常见的细分维度定位方式。对于同一个维度下取值数量较少的情况，可以通过多维度趋势图和饼图等可视化方式进行快速的分析，查看不同维度取值的取值状态，以及占整体比例情况。而对于维度取值数量多，且不同取值数量级差距较大情况，通过维度取值自动展开功能，分别查看每个维度的状态。
（ii）多个维度关联分析
细分维度的故障所带来的表象可能会在多个维度均有表现。通过矩阵热力图可以有效展示多维度故障数据。将需要做分析的两个维度分别作为横纵坐标，通过阶梯的阈值颜色将对应交叉维度的取值展现再坐标上。可非常直观的看到这这两个维度对于整个装备运行状态的影响情况。
（iii）嵌套维度下钻分析
类似于战区-单位-武器平台的装备部署划分，可以发现密码装备内部很多维度之间存在着层次嵌套的关系。基于这个故障定位的思路，我们提出了从整体到局部逐步分层下钻定位。提供了多维度展开报表功能支持这种下钻分析，通过点击详情，可以跳转到内部资源对应的页面，查看对应模块的详细数据来进行定位。
b、关联事件定位
通过前期调研发现，大多数密码装备故障都是由于变更操作所引起的，包括密码资源、数据、配置等变更事件，增删机器实例、执行预案等运维事件，甚至包括可能引发流量增加的突发事件。对于某些复杂的密码系统，使用和维护人员众多，事件的发生更是错综复杂。
面对这个问题，本项目设计并一种可以解决这种问题的通用性组件，事件流图。通过事件流图，快速筛选出故障的前后时间，发生或发生中的事件，每个事件通过色块的长短位置，展示了开始结束时间以及持续时长。快速判断出对应时间的故障是由于某些操作开始或操作完成引发的。
同一时间段发生的事件可能有上百甚至上千条，我们提供便捷的筛选功能来解决这一问题。通过事件类型标签，打开或关闭某一类事件的展示，优先排查最有可能的根因。同时对于每一类事件的支持细分筛选，用户可以自定义事件筛选的条件，支持多项选择、文本模糊匹配等多种方式，使得定位范围一层层缩小，最终找到问题根因。
（4）密码装备重要部件分析
为了进一步提高密码装备运维数据分析准确性和有效性，运用故障树分析法对典型密码装备组成部件（如存储、接口、处理等）预先进行分析，研究其典型故障类型、特征变量、以及故障研判等。
a、基于故障树的定性分析法
故障树分析(FTA)技术是美国贝尔电报公司的电话实验室于1962年开发的，它采用逻辑的方法，形象地进行危险的分析工作，体现了以系统工程方法研究安全问题的系统性、准确性和预测性。基于故障树的定性分析法，分析密码装备重要部件故障的发生规律及特点，找出应对该事件的可行方案，并从故障树结构上分析各基本原因事件的重要度，以便按轻重缓急分别采取对策。基于故障树的定性分析法主要任务：计算故障树的最小割集或最小径集；计算各基本事件的结构重要度；分析各事件类型的危险性，确定预防故障发生的安全保障措施。
（i）最小割集的计算方法
用基本事件代替中间事件，最后表示出顶事件。最终顶事件表示为几个基本事件的与的或。那么每个基本事件的与就是一个做小割集。满足使顶事件发生，并且最小。首先列出故障树的布尔表达式，从故障树的第一层输入事件开始，“或门’’的输入事件用逻辑加表示，“与门”的输入事件用逻辑积表示；再用第二层输入事件代替第一层，第三层输入事件代替第二层，直至故障树中全体基本事件都代完为止。在代换过程中条件与事件之间总是用逻辑积表示。布尔表达式整理后得到若干个逻辑积的逻辑和，每个逻辑积就是一个割集，然后利用布尔代数的有关运算定律化简，就可求出最小割集。
（ii）最小径集的计算方法
利用它与最小割集的对偶性，首先画出故障树的对偶树——成功树，求成功树的最小割集就是原故障树的最小径集。成功树的画法是将故障树的“与门”换成“或门”，“或门”换成“与门”，并把全部事件的发生变成不发生。经过这样变换后得到的树形就是原故障树的成功树。
（iii）结构重要度计算
在FAT中通常使用利用最小割集和最小径集判断重要度，一般遵循四条原则
一阶（单事件）最小割(径)集中基本事件结构重要度最大；
仅出现在同一个最小割(径)集中的所有基本事件结构重要度相等；
仅出现在基本事件个数相等的若干个最小割(径)集中的各基本事件结构重要度依出现次数而定；
两个基本事件出现在基本事件个数不等的若干个最小割(径)集中，其结构重要度依下列情况而定。
b、存储器故障分析
存储器是密码装备保存信息的主要部件，随着存储器芯片的密度、复杂度日益提高及广泛应用，其稳定性、可用性对密码装备的正常运行起着关键作用。存储器的功能模型 ，存储器的故障模 式主要表现为3类，地址解码器故障、读写逻辑模块故障和存储单元阵列故障。
（i）地址解码器故障
地址译码故障指地址译码逻辑中产生的故障，主要表现为 4 种形式:某个确定的地址，没有相应的存储单元与其对应；对于某个确定的存储单元，找不到一个地址选中它；对于某一确定的地址，能同时选中两个或多个存储单元；多个地址同时选中一个存储单元。在实际的存储器中，上述 4类故障并非总是独立存在，而是相互交织在一起的。
（ii）读写逻辑模块故障
读写逻辑模块故障主要表现为在读写电路中，某些检测放大器的读 出或者写入驱动器的逻辑部分可能产生开路、短路或者I/O固定的故障，在写电路的数据线之间存在交叉祸合干扰。
（iii）存储单元阵列故障
由于存储单元阵列是存储器内结构最为复杂的一个模块，因此出现故障的概率最大，故障的类型也最为繁多，主要是由存储器单元内的数据线开路、短路以及串扰所引起。基于以上各模块的故障表现形式，又由于地址译码故障和读写逻辑故障可以等效映射为存储器单元阵列故障，可把存储器故障简化为下列 4 种功能故障：固定故障、转换故障、耦合故障、相邻矢量敏化故障。
c、数据接口故障
很多情况下，密码装备或密码模块是安装在宿主系统中工作的，为了与宿主系统进行通信，必须使用标准数据接口。这些标准数据接口有信号线少、协议简单、传输速度快等特点，但也存出现故障的可能性，从而导致数据传输的各种出错情况发生。
（i）SPR设定错误
在密码装备（模块）器件时钟频率与宿主器件时钟频率不一致时，如果同步时钟SCK的速率设得太快，将导致接收到的数据不正确。
（ii）模式错误
模式错误是密码装备（模块）主从模式选择的设置和引脚的连接不一致。器件工作在主模式的时候，它的片选信号引脚必须接高电平。在发送数据的过程中，如果它的从高电平跳至低电平，在下降沿模块将检测到模式错误。
（iii）溢出错误
对于密码装备数据接口的溢出错误，是在连续传输多个数据时，后一个数据覆盖了前一个数据而产生的错误。状态标志表示的是数据传输正在进行中，它对数据的传输有较大的影响。在主器件连续发送两个数据的时候将有可能导致从器件的传输标志和主器件下一个数据的传输标志相重叠，第一个收到的数据必然被覆盖，第二个数据的收/发也必然出错，产生溢出错误。
（iv）偏移错误
密码装备数据接口一般要求从器件先工作，然后主器件才开始发送数据。有时在主器件往外发送数据的过程中，从器件才开始工作，主器件的SPIF和从器件的SPIF会发生重叠，数据发生了错位。
问题： 
密码装备智能化辅助组件
挑战：
基于边缘计算的运维问题弹性检索技术
密码装备运算和存储资源有限，当大量用户进行问题检索时，运维信息分析检索中心容易造成通信阻塞。在前期调研过程中发现，简单运维问题占所有运维问题五层左右。对于这些简单问题，可以通过密码装备自身的存储和处理能力进行知识检索。一方面可以减轻维信息分析检索中心运算和网络负载，另一方面可以提高问题分析检索时效性。本项目研究基于边缘计算的运维问题弹性检索技术。通过该技术对密码装备使用维护人员的提出运维问题进行初步分析，在本地运维知识库中检索并返回结果；若本地库中没有适合的答案，将运维问题中未检索到的信息发送到运维信息分析检索中心，随后将中心返回的答案与本地检索到的答案进行整合并反馈给用户。
解决方案：
（1）边缘计算架构
云边协同的联合式网络结构一般可以分为终端层、边缘计算层和云计算层，如图12所示。各层可以进行层间及跨层通信，各层的组成决定了层级的计算和存储能力，从而决定了各个层级的功能。

图12 边缘计算架构
a、终端层
终端层由各种物联网设备（如传感器、RFID标签、摄像头、智能手机等）组成，主要完成收集原始数据并上报的功能。在终端层中，只考虑各种物联网设备的感知能力，而不考虑它们的计算能力。终端层的数十亿台物联网设备源源不断地收集各类数据，以事件源的形式作为应用服务的输入。
b、边缘计算层
边缘计算层是由网络边缘节点构成的，广泛分布在终端设备与计算中心之间，它可以是智能终端设备本身，例如智能手环、智能摄像头等，也可以被部署在网络连接中，例如网关、路由器等。显然，边缘节点的计算和存储资源是差别很大的，并且边缘节点的资源是动态变化的，例如智能手环的可使用资源是随着人的使用情况动态变化的。因此，如何在动态的网络拓扑中对计算任务进行分配和调度是值得研究的问题。边缘计算层通过合理部署和调配网络边缘侧的计算和存储能力，实现基础服务响应。
c、云计算层
在云边计算的联合式服务中，云计算仍然是最强大的数据处理中心，边缘计算层的上报数据将在云计算中心进行永久性存储，边缘计算层无法处理的分析任务和综合全局信息的处理任务也仍然需要在云计算中心完成。除此之外，云计算中心还可以根据网络资源分布动态调整边缘计算层的部署策略和算法。
（2）基于Apache Edgent的密码装备运维问题弹性检索技术
Apache Edgent 是一个开源的编程模型和微内核风格的边缘计算框架。在运行时，它可以被嵌入到密码装备上，用于提供对数据的本地实时分析。基于这个框架，本项目设计了密码装备运维问题弹性检索技术，通过Edgent实现对来自本地密码装备的数据进行高效的分析处理。为加速边缘计算应用在问题检索处理上的开发过程，我们设计了一个开发模型和并使用Apache Edgent 的API实现问题检索处理流程。密码装备运维问题弹性检索开发模型如图13所示，由提供者、拓扑、运维问题导入、问题分析处理、后端系统5个组件组成。



图13 运维问题弹性检索开发模型
a、提供者
一个提供者对象包含了有关问题检索应用程序的运行方式和位置信息，并具有创建和执行拓扑的功能
b、拓扑
拓扑是一个容器，描述运维问题的格式和如何分析运维问题中的关键信息。问题的输入、回答和导出至运维信息分析检索中心的过程都记录在拓扑中。
c、运维问题导入
Edgent提供了多种连接器以不同方式接入数据源，我们通过其数据流接口导入文本形式的运维问题。
d、问题流分析处理
通过Edgent提供一系列功能性的API，实现对密码装备运维问题的的变换、分析、检索、聚合等操作。
e、后端系统
由于密码装备的资源稀缺，无法支撑复杂问题的检索任务。用户可以使用连接器，通过MQTT和Apache Kafka方式连接至后端运维信息分析检索中心进一步对运维问题做处理。
该模型可部署于密码装备或密码模块中，实时检索来自用户的问题，减少了上传至后端运维信息分析检索中心的数据量，并降低了传输成本。基于Edgent系统提供的丰富数据处理API，切合问题检索应用中数据处理的实际需求，降低应用的开发难度并加速开发过程。

风险和变更管理
风险：
技术风险：项目开发所采用的技术是否成熟，能否满足需求，是否存在漏洞等。
进度风险：项目的进展是否按计划进行，是否会出现延误或提前完成。
财务风险：项目开发的成本是否高于预期，是否存在资金缺口等问题。
市场风险：项目产品是否符合市场需求，是否具有竞争力，是否有足够的市场份额。
法律风险：项目开发是否符合法律法规的要求，是否存在知识产权纠纷等问题。
人员风险：项目开发所涉及到的人员是否具备足够的技能和经验，是否会出现离职等问题。
变更管理：
识别变更：发现和记录所有的变化请求。
评估变更：对变更请求进行评估，包括影响范围、时间、资源和成本等方面的影响。
决策处理：将变更请求提交给决策机构，比如变更委员会，以获得批准或否决。
实施变更：如果变更被批准，则需要实施相应的变更，并将其记录在项目文档中。
监督变更：监视变更的实施情况，确保它们按计划实施，并记录结果。

阶段成果
开发进度
密码装备运维信息平台
密码装备运维信息平台，提供运维知识和运维数据的收集和聚合处理，通过数据关联分析准确全面定位装备故障，提升问题检索效能和决策建议满意度，为智能预警、问题检索、科学决策提供数据支撑。
开发使用技术：
（1）运维知识图谱构建与补全技术
针对密码装备运维知识涉及面广、复杂程度高、关联性强、更新速度快等问题，收集装备实现技术、装备常见故障、装备维护方法、装备检测手段等装备运维知识，研究密码装备运维知识图谱构建与补全技术，将密码装备运维相关知识转化为具有属性的实体，并通过实体间关系链接成网状的知识库。研究基于神经网络的命名实体识别(NER)和关系分类(RC)技术，并构建联合神经抽取模型实现多个三元组同时提取；研究传递关系嵌入模型，基于共享的识别机制实现嵌入空间转换，并对属性三元组中的实体进行对齐，通过基于图形的模型预测实体间的相互链接，构建新实体与原图中实体的关系，完成知识图谱补全(KGC)。
开发完成度：
完成100%。
2. 密码装备运维信息分析检索中心开发
密码装备运维信息分析检索中心相当于人类“大脑”的功能，用于对运维问题和事件进行分析、处理，并给出检索结果和决策建议。密码装备运维信息分析检索中心利用人工智能算法，根据具体的运维场景、业务规则、以往经验等构建的数据分析平台，具有可重用、可演进、可了解的特性。密码装备运维信息分析检索中心的实现主要应用到了两种技术，分别是基于运维知识图谱的问题检索和基于运维数据的动态分析。
开发使用技术：
（1）基于知识图谱的运维问题检索技术
针对密码装备使用维护人员工作中遇到的装备运维问题无法及时得到有效解答的难题，本项目研究基于知识图谱的运维问题检索技术，通过语义分析与认知推理，以简洁的问答式对话模式解决装备使用维护人员核心认知决策问题。研究知识图谱运用中涉及到的自然语言处理（NLP）、意图识别(IR)、实体链指(EL)、关系识别(RD) 、查询语句拼装(QC)、返回结果选择(AS)等相关技术，将自然语言转化为形式化的逻辑形式（logic form），通过对逻辑形式进行自底向上的解析，得到一种可以表达整个问题语义的逻辑形式，通过相应的查询语句在知识图谱中进行查询，从而得出答案。
（2）基于知识图谱的运维数据动态分析技术
针对密码装备故障预测、判断、处理等过程中存在的问题，本项目研究基于密码装备运维数据的动态分析技术，在接入装备实时运维数据的基础上，结合运维知识图谱实现异常预警、异常检测、故障分析、故障定位、故障描述等，并提供运维辅助提示。研究运维数据智能分析的动态规划方法，实现业务上下文理解、运算资源能力分析、检测模式与技术方案设计、执行路线图规划等内容；在经典分析算法和非结构化数据算法的基础上，研究装备故障和运行状态分析所需的知识库、参数库和算法库，提供时序分析算法、数据波动分析算法、参数配置算法、故障知识检索算法等；针对典型密码装备组成部件（如存储、接口、处理等），研究基于知识图谱的故障树分析（FTA）技术，包括典型故障类型、特征变量、以及故障研判等。
开发完成度：
完成100%。


成果展示








未来工作计划
 
1. 密码装备智能化辅助组件开发
智能化辅助组件是部署于密码密码之中的运维工具，对密码装备实施状态监控、环境监测、故障预警、故障展示、问题检索、运行控制等系列操作。组件既具备运维数据直接采集功能，又具备运维问题初步查询和结果反馈功能，还具备故障预警、展示和简单维护功能，保障密码装备持续、安全、稳定、可靠地运行。
主要技术：
（1）基于边缘计算的运维问题弹性检索技术
针对密码装备运维信息分析检索中心规模有限，无法同时处理所有运维问题检索工作，而密码装备资源有限，分析检索复杂运维问题较为困难，本项目研究基于边缘计算的运维问题弹性检索技术。通过该技术对密码装备使用维护人员的提出运维问题进行初步分析，在本地运维知识库中检索并返回结果；若本地库中没有适合的答案，将运维问题中未检索到的信息发送到运维信息分析检索中心，随后将中心返回的答案与本地检索到的答案进行整合并反馈给用户。在深入分析Openstack、Cloudlet、EdgeX Foundry、Cord等边缘计算的解决方案的基础上，研究适合密码装备运维问题检索的问题检索架构、预置模型、模型训练、问题集成、模型部署等技术，以运维信息分析检索中心为基础，密码装备本地智能化辅助组件为支撑，组成运维数据弹性搜索集群；研究全文搜索、结构化搜索、搜索分析等技术，实现运维问题实时弹性搜索。
（2）基于知识图谱的智能化维护操作技术
针对密码装备使用维护人员技术水平参差不齐，装备故障处理流程不熟悉等问题，本项目研究基于知识图谱的智能化维护操作技术，根据运维信息分析检索中心和边缘计算层提供的故障信息和运维脚本，实现密码装备故障预警提示、故障点可视化展示和智能化运维操作。研究故障运维操作流程，结合装备运维知识图谱，通过运维信息分析检索中心和边缘计算层智能生成运维操作脚本，并推送至故障密码装备，实现智能化维护操作。

建议
设定明确的目标和范围：在启动项目前，需要明确项目的目标和范围。目标应该具体、可衡量，而范围应该包含所有需要完成的任务和交付物。
与利益相关者合作：运维开发项目涉及到多个部门和人员，需要与他们进行密切合作，以确保各方利益得到充分考虑。
关注安全性和稳定性：在运维方面，安全性和稳定性是最为关键的。因此，在开发过程中需要注意这两个方面，并采用适当的技术和流程来确保系统的安全性和稳定性。
实施自动化和标准化：运维开发项目涉及到大量的重复性工作和流程，可以采用自动化和标准化的方法来提高效率和减少错误率。
引入DevOps理念：DevOps是一种将软件开发和运维集成在一起，以实现连续交付和持续改进的方法。引入DevOps理念可以帮助提高团队协作效率、加速上线时间、降低风险等。
进行持续监测和优化：在运维开发项目完成后，需要持续监测系统的运行情况，并进行优化和改进。这将帮助提高系统的性能、可靠性和安全性。

一、基于神经网络与邻域聚合的知识图谱构子系统
支持基于神经网络学习算法，运用Bi-LSTM学习文本语料中的共享隐藏特征；
支持利用LSTM实现命名实体识别(NER)和实体提取；
支持使用CNN实现关系分类(RC)和实体关系提取；
支持基于联合神经抽取模型实现多个三元组同时提取；
支持邻域聚合器构建，捕获必要的邻域信息，实现装备文本实体的有效嵌入，提高知识提取的完整性。
二、基于逻辑聚合与传递关系嵌入的知识图谱补全与关联子系统
支持基于逻辑聚合技术将更新知识聚合到基于文本的实体中；
支持将更新知识从基于文本的嵌入空间转换到基于图形的嵌入空间；
支持基于智能模型预测实体间的相互链接，构建新实体与原图中实体的关系，完成知识图谱补全(KGC)；
支持基于传递关系嵌入模型与属性三元组完成属性嵌入；
支持利用属性嵌入技术将多个知识图谱中的实体转移到同一个向量空间；
支持对属性三元组中的实体进行对齐；
支持构建传递规则丰富装备知识图谱中的属性三元组，提高原理与技术知识图谱的完整性。
三、基于卡柯特定律与敏感数据保护的型谱梳理子系统
支持基于卡柯特定律的装备型谱构成、型谱基本属性、型谱形成理论、型谱编制流程、型谱适用范围等分析；
支持面向不同规格装备，满足较长时期、一定范围使用要求的型谱划分方法；
支持运用差分隐私标准、知识蒸馏范式、私有模型压缩框架、决策边界、知识转移、知识扰动等3种以上技术在基于知识图谱进行型谱梳理的同时保护知识图谱中的敏感数据，确保数据安全。
四、基于技术演进的与知识关联的装备划代子系统
支持对装备技术演进动力、演进模式、演进方向、演进阶段等内容进行详细分析，明确装备划代基础；
支持基于装备原理与技术知识图谱和装备型谱，运用知识关联与知识检索技术，提取装备演进过程中装备的技术架构、网络结构、系统组成、基本功能、技术性能等知识内容；
支持构建各阶段装备的技术特征，明确装备划代标准；
支持从装备功能特性及技术特征中提取装备的本质特征，用于装备划代；
支持基于装备本质特征，梳理装备的发展脉络，完成装备划代功能。
五、知识图谱管理展示子系统
支持基于Neo4J知识图谱使用；
支持数据源数据连接；
支持图谱数据的导入、导出；
支持实体、关系管理；
支持实体去重；
支持知识图谱动态展示。
支持实体关系可视化查看；
支持实体关系动态隐藏；
支持实体位置动态拖拽；
支持实体、关系网络图展示；
支持基于图的知识探索；
支持关键实体筛选；
支持实体、关系首次展示数≥50；
六、知识图谱检索子系统
支持通过关键词检索实体；
支持基于单个实体名称的知识检索；
支持基于实体与副实体名称的关系检索；
支持基于多个实体名称的知识检索。
七、型谱划分展示子系统
支持基于装备名称的型谱划分展示功能；
支持基于装备功能说明或组成结构的型谱细分功能；
支持装备型谱逐级展示功能；
支持装备型谱层级≥5级。
八、划代决策子系统
支持装备功能说明智能分析功能；
支持装备操作使用说明智能分析功能；
支持装备组成结构智能分析功能；
支持装备划代模型构建；
支持装备划代分析。

接到情况报告后，机要部门根据具体情况采取以下措施：
情况1：仅密码模块丢失、失控或被敌获取时，应及时控制和收回对应装备的IC卡，并转入后续处置流程；
情况2：IC卡或密码模块和IC卡均丢失、失控或被敌获取时，对现场处置情况进行评估，若不能确定密码资源已销毁，上报军委办公厅机要局，通过更换IC卡方式，组织紧急更换JIDS数据链系统全网TJM0006网管密码机以及综合数据链系统全网JJP980F网管密码模块使用的PT0006密钥，在更换密钥前，视情停用相关密码装备；若确定密码资源已销毁，则转入后续处置流程。
3.后续处置
完成应急处置后，机要部门组织进一步评估失控风险，将风险评估结果上报军委办公厅机要局。由军委办公厅机要局组织，视情对全网密码装备相应算法参数进行更换。网管密码模块密码算法参数可使用专用配套光盘离线分发更换，或统一返厂实施更换。


1.将毁钥控制盒面板上的工作/检查开关置于工作位，掀开爆炸按钮保护罩，按下爆炸按钮，爆炸按钮工作，爆炸按钮红色指示灯燃亮，输出毁钥信号销毁TJM0002、JKP980D3密码机。
2.时间允许，自机腹前起落架处取出工具箱进行物理销毁。


1.长按网络密码机前面板红色销毁按钮，尔后作物理销毁。
2.在密码电报网络系统软件中进入“管理”-“应急销毁”，进行一、二级销毁，尔后作物理销毁。
2.在密码电报网络系统软件中进入“管理”-“应急销毁”，进行一、二级销毁，尔后作物理销毁。


1.长按网络密码机前面板红色销毁按钮，尔后作物理销毁。
2.在密码电报网络系统软件中进入“管理”-“应急销毁”，进行一、二级销毁，尔后作物理销毁。
1.打开端口适配器毁钥按键保护盖，并按下毁钥按键或在系统桌面系统配置软件中进行一、二级销毁。
2.及时将舰艇、密码装备遇险情况以及密码装备数量、编号、处置结果等信息上报上级机要部门。

接到情况报告后，机要部门组织对现场处置情况进行评估。若不能确定密码资源已销毁，核实统计失控密码注入设备中所含密码资源种类、编号、数量（应包括可能存储的其他密码系统密码资源），及所涉及的密码装备情况，统计情况并及时将上报军委办公厅机要局。军委办公厅机要局视情组织紧急更换全网所有端机类密码机主密钥、工作密钥和应急工作密钥；若确定密码资源已销毁，则转入后续处置流程。
销毁方法一：按键紧急销毁密钥；
销毁方法二：非法拔出模块销毁密钥；
销毁方法三：操作菜单销毁全部密钥；
销毁方法四：操作菜单销毁部分密钥；
及时将舰艇、密码装备遇险情况以及密码装备数量、编号、处置结果等信息上报上级机要部门
接到情况报告后，机要部门根据具体情况采取以下措施：
情况1：仅IC卡丢失、失控或被敌获取时，对现场处置情况进行评估，若不能确定密码资源已销毁，上报军委办公厅机要局，通过更换IC卡方式，组织紧急更换JIDS数据链系统MMD057A型JIDS密钥管理系统的主密钥，在更换密钥前，视情停用相关密码装备；若确定密码资源已销毁，则转入后续处置流程；
情况2：仅主机丢失、失控或被敌获取时，应及时控制和收回对应装备的密码卡和IC卡，对现场处置情况进行评估，若不能确定密码资源已销毁，上报军委办公厅机要局，并转入后续处置流程；
情况3：若密码卡或密码卡和主机均丢失、失控或被敌获取时，应及时控制和收回对应装备的IC卡，对现场处置情况进行评估，若不能确定密码资源已销毁，上报军委办公厅机要局，并转入后续处置流程；
情况4：若密码卡和IC卡均丢失、失控或被敌获取时，对现场处置情况进行评估，若不能确定密码资源已销毁，上报军委办公厅机要局，通过更换IC卡方式，组织紧急更换JIDS数据链系统MMD057A型JIDS密钥管理系统的主密钥，视情停用相关密码装备；若确定密码资源已销毁，则转入后续处置流程；
情况5：若IC卡和主机或密码卡、主机和IC卡均丢失、失控或被敌获取时，对现场处置情况进行评估，若不能确定密码资源已销毁，上报军委办公厅机要局，通过更换IC卡方式，组织紧急更换JIDS数据链系统MMD057A型JIDS密钥管理系统的主密钥、工作密钥和密钥管理系统所管辖的全网端机类密码机的主密钥、工作密钥和应急工作密钥、网管密码模块的主密钥和工作密钥，视情停用相关密码装备；若确定密码资源已销毁，则转入后续处置流程。
1.应及时将失控或被敌获取的密码机设置为黑名单。
2.对现场处置情况进行评估：
①不能确定密码资源已销毁，上报军委办公厅机要局组织紧急更换全网所有端机类密码机工作密钥、应急工作密钥，在更换密钥前，视情停用相关密码装备；
②确定密码资已源销毁，则转入后续处置流程。
1.在密码机运行时，打开密码机毁钥按键保护盖（红色塑料胶盖），并按下毁钥按键约2秒，毁钥灯亮起约2秒后熄灭，之后毁钥灯长对现场处置情况进行评估：
情况1：仅IC卡丢失、失控或被敌获取时，若不能确定密码资源已销毁，上报军委办公厅机要局，通过更换IC卡方式，组织紧急更换JIDS数据链系统MMD057A型JIDS密钥管理系统的主密钥，在更换密钥前，视情停用相关密码装备；若确定密码资源已销毁，则转入后续处置流程；

对现场处置情况进行评估：
情况1：
若仅密码机丢失、失控或被敌获取，应及时控制和收回对应装备的IC卡；
情况2：
若IC卡或IC卡和密码模块一并丢失、失控或被敌获取，对现场处置情况进行评估：
①不能确定密码资源已销毁，上报军委办公厅机要局，通过更换IC卡方式，组织紧急更换综合数据链系统全网JJP980F网管密码模块以及JIDS数据链系统全网TJM0006网管密码机使用的PT0006密钥，在更换密钥前，视情停用相关密码装备；
②确定密码资已源销毁，则转入后续处置流程。
接到情况报告后，机要部门根据具体情况采取以下措施：
情况1：仅密码模块丢失、失控或被敌获时，应及时控制和收回对应装备的IC卡，并转入后续处置流程；
情况2：IC卡或IC卡和密码模块一并丢失、失控或被敌获取时，对现场处置情况进行评估。若不能确定密码资源已销毁，上报军委办公厅机要局，通过更换IC卡方式，组织紧急更换综合数据链系统全网JJP980F网管密码模块以及JIDS数据链系统全网TJM0006网管密码机使用的PT0006密钥，在更换密钥前，视情停用相关密码装备；若确定密码资源已销毁，则转入后续处置流程。
对现场处置情况进行评估：
①不能确定密码资源已销毁，核实统计失控密码注入设备中所含密码资源种类、编号、数量（应包括可能存储的其他密码系统密码资源），及所涉及的密码装备情况，上报军委办公厅机要局。军委办公厅机要局视情组织紧急更换全网所有端机类密码机主密钥、工作密钥、应急工作密钥；
②确定密码资源已销毁，则转入后续处置流程。
情况2：仅主机丢失、失控或被敌获取时，应及时控制和收回对应装备的密码卡和IC卡，若不能确定密码资源已销毁，上报军委办公厅机要局，并转入后续处置流程；
情况3：若密码卡或密码卡和主机均丢失、失控或被敌获取时，应及时控制和收回对应装备的IC卡，若不能确定密码资源已销毁，上报军委办公厅机要局，并转入后续处置流程；
情况4：若密码卡和IC卡均丢失、失控或被敌获取时，若不能确定密码资源已销毁，上报军委办公厅机要局，通过更换IC卡方式，组织紧急更换JIDS数据链系统MMD057A型JIDS密钥管理系统的主密钥，视情停用相关密码装备；若确定密码资源已销毁，则转入后续处置流程；
情况5：若IC卡和主机或密码卡、主机和IC卡均丢失、失控或被敌获取时，若不能确定密码资源已销毁，上报军委办公厅机要局，通过更换IC卡方式，组织紧急更换JIDS数据链系统MMD057A型JIDS密钥管理系统的主密钥、工作密钥和密钥管理系统所管辖的全网端机类密码机的主密钥、工作密钥和应急工作密钥、网管密码模块的主密钥和工作密钥，视情停用相关密码装备；若确定密码资源已销毁，则转入后续处置流程。
亮至密码机重启，则表明密码机已完成毁钥。
2.条件允许时应拆除密码装备或采取物理手段对其进行损毁。
3.及时将相关情况和密码装备数量、编号、处置结果等信息报告舰艇机要参谋。
对现场处置情况进行评估：
情况1：
仅密码模块丢失、失控或被敌获取时，应及时控制和收回对应装备的IC卡；
情况2：
IC卡或密码模块和IC卡均丢失、失控或被敌获取时，对现场处置情况进行评估：
①不能确定密码资源已销毁，上报军委办公厅机要局，通过更换IC卡方式，组织紧急更换JIDS数据链系统全网TJM0006网管密码机以及综合数据链系统全网JJP980F网管密码模块使用的PT0006密钥，在更换密钥前，视情停用相关密码装备；
②确定密码资已源销毁，则转入后续处置流程。
1.毁钥。在密码机运行时（通电状态下），打开密码机正面毁钥按键保护盖（红色塑料胶盖），并按下毁钥按键约2秒，毁钥灯亮起约2秒后熄灭，之后毁钥灯长亮至密码机重启，则表明密码机内密钥已销毁，无法继续工作。
2.将认证棒（主用、备用共2根）投入海中。
3.将密钥已销毁的522网络密码机从机架上取下，砸毁后投入海中。
4.及时密码装备遇险情况以及密码装备数量、编号、处置结果等信息上报省军区机要技术室。


1.在加电或关电状态下，通过同时按下保密机前面板的两个毁钥键进行紧急销毁，按下时间应超过3秒以上。
2.条件允许时应拆除密码装备或采取物理手段对其进行损毁。
3.及时将相关情况和密码装备数量、编号、处置结果等信息报告舰艇机要参谋。


1.条件允许时应拆除密码装备或采取物理手段对其进行损毁。
2.及时将相关情况和密码装备数量、编号、处置结果等信息报告舰艇机要参谋。

1.按下宿主设备销毁按键，销毁密码机内的密码资源。
2.条件允许时应拆除密码装备或采取物理手段对其进行损毁。
3.及时将相关情况和密码装备数量、编号、处置结果等信息报告舰艇机要参谋。

1.销毁
销毁方法一：
在522甚高频电台运行时（通电状态下），通过电台面板“左选”键和上下键，选择“密钥管理”→“密钥销毁”（三种毁钥模式：三级毁钥、二级毁钥、一级毁钥），选择“一级毁钥”，按下“左选”按键即完成一级毁钥。　　 　
销毁方法二：
紧急情况下，在电台关机状态下同时按住面板上“D”、“E”、“F”按键，电台开机，直到面板显示“正在毁钥…”，放开按键，此操作为一级毁钥。
2.将管理棒投入海中。
3.拆开电台上面板，从电台内取出MPT450密码机，砸毁后投入海中。
4.及时密码装备遇险情况以及密码装备数量、编号、处置结果等信息上报省军区机要技术室。

1.销毁
销毁方法一：
硬件毁钥，按住电台面板上的毁钥开关（红色）持续2-3秒，密码机将自动销毁所有密钥参数。　　　　　　　　　　　　　　　　　　　
销毁方法二：
软件毁钥，按电台“设置”键，输入密码“0”→“确认”，按上下键选择“保密设置”→“确认”，选择“保密毁钥”→“确认”，2-3秒后电台显示毁钥成功。
2.拆开电台下面板，从电台内取出MPH006密码模块，砸毁后投入海中。
3.销毁完成后，将遇险情况以及密码装备数量、编号、处置结果报省军区机要技术室。
























































投标人全称：（写明全称并盖章）

              法定代表人（或授权代表）：（签字）
   
                                      年   月  日
附件11
售后服务承诺
（投标人自行编制。）















投标人全称：（写明全称并盖章）

              法定代表人（或授权代表）：（签字）
   
                                      年   月  日

